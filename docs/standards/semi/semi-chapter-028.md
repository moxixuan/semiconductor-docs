---
title: "E30-1103 - © SEMI 1992, 2003..."
description: "SEMI标准文档"
sidebar_label: "E30-1103 - © SEMI 1992, 2003..."
sidebar_position: 28
tags: ['SEMI', 'Standard']
custom_props:
  source_type: 'pdf'
  source_file: 'semi-chapter-028.pdf'
  chapter: 28
  page_count: 50
---

import PdfDownloadCard from '@site/src/components/PdfDownloadCard';

<PdfDownloadCard
  pdfLink="/pdfs/semi/028.pdf"
  pdfSize="N/A"
  title="E30-1103 - © SEMI 1992, 2003..."
  description="SEMI标准文档，共50页"
/>



&lt;!-- Page 1 --&gt;

SEMI E30-1103 © SEMI 1992, 200325 4.2.3.5 ScenarioHost Initiates Trace Report:COMMENT HOST EQUIPMENT COMMENT Trace Data initializationrequested S2,F23--&gt;&lt;--S2,F24 Acknowledge, trace initiated\[DO\] TOTSMP REPGSZ times\[DO\] REPGSZ many times: collectSVID1,...SVIDn data, delaytime by DSPER.\[END\_DO\]&lt;--S6,F1 Send SV1,...SVnAcknowledge receipt S6,F2--&gt;\[END\_DO\]Optional:Request trace termination prior tocompletion (TOTSMP = 0) S2,F23--&gt;&lt;--S2,F24 Acknowledge premature termination 4.2.4 Limits Monitoring  This capability relates to themonitoring of selected equipment variables and hasthree primary aspects: Defines a standard set of monitoring zones andlimits. Provides for reporting to the host when selectedequipment variables transition between monitoringzones. Empowers the host to modify the values of thevariable limit attributes for these same selectedequipment variables. 4.2.4.1 Purpose  The limits monitoring capabilityprovides the host a means of monitoring equipmentconditions by a flexible, efficient, and asynchronousmethod which is consistent across equipment. Iteliminates the need for constant polling of equipmentby the host for current status values. Further, thiscapability allows the host to implement changes in themonitoring range as needed. This capability hasapplication to both production operation anddiagnostic/testing scenarios, and it also has applicabilityto statistical process control.4.2.4.2 DefinitionsLimitVariable  DVVAL containing the VID of aspecific equipment variable for which a zone transitioncollection event has been generated.EventLimit  DVVAL containing the LIMITID of thelimit crossed by LimitVariable.TransitionType  DVVAL which defines the directionof the zone transition which has occurred: 0 = transition from lower to upper zone, 1 = transition from upper tolower zone.Limit  Used in this section to represent the set ofvariable limit attributes that completely describe avariable monitoring barrier. The attributes includeVID, Units, UPPERDB, LOWERDB, LIMITMAX, andLIMITMIN. In some contexts it may be interpretedmore narrowly as the combination of UPPERDB andLOWERDB.LIMITID n  Refers to the identifier of a specific limit(as defined by UPPERDB and LOWERDB) among theset of limits for a monitored equipment variable.LIMITIDs are consecutively numbered, beginning atone through the number of limits possible (sevenminimum).Monitoring Zone  A subset of the possible range ofvalues for a variable of interest to the host. A singlelimit divides the range into two zones. Multiple limitsmay be combined to divide the range even further.Zone Transition  The movement of a variable valuefrom one monitoring zone to another. This transition isa collection event and has a corresponding CEID.Deadband  An overlap of two zones implemented toprevent constant zone transitions by a variable sittingon or near a limit (i.e., chattering).UPPERDB  A variable limit attribute that defines theupper boundary of the deadband of a limit. 18 The valueapplies to a single limit (LIMITID) for a specified VID. 18 The format and units must be the same as the format of thevariable being monitored.

&lt;!-- Page 2 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 26 Thus, UPPERDB and LOWERDB as a pair define alimit.LOWERDB  A variable limit attribute that defines thelower boundary of the deadband of a limit. 18 The valueapplies to a single limit (LIMITID) for a specified VID.Thus, UPPERDB and LOWERDB as a pair define alimit.UPPER ZONE  The range of values lying above alimit.LOWERZONE  The range of values lying below alimit.LIMITMAX  The maximum value for any limits of aspecific equipment variable. This value is set by theequipment manufacturer and typically coincides withthe maximum value allowed for the monitored variable.LIMITMIN  The minimum value for any limits of aspecific equipment variable. 19 This value is set by theequipment manufacturer and typically coincides withthe minimum value allowed for the monitored variable.Undefined  When used in reference to variable limits,it indicates that monitoring/reporting of zone transitionsinvolving that particular limit are disabled. 4.2.4.3 Description  The limits monitoring capabilityprovides the host with a minimum of sevenconfigurable limits or barriers that may be applied toselected equipment status variables (SVs) of the typesfloating point, integer, and boolean. When one of thesebarriers is crossed, a collection event is generated toalert the host to a change in monitoring zone or state ofthe monitored variable. These seven limits may becombined in a variety of ways to match the needs of thehost system. 19 An illustration of a combination of fiveof the limits to provide one type of variable monitoringis shown in Figure 4.2.1. 20 This section describes thekey aspects of limits monitoring. Detailedimplementation examples of limits monitoring areprovided as Application Note A.7.NOTE 6: While the SEMI E5 standard allows SVs to be lists,such variable lists are not allowed under this capability. 4.2.4.3.1 Monitoring Limit Characteristics  A limitis defined by a set of attributes that include the variable(VID) to which the limit corresponds, the units of thatvariable, the maximum and minimum possible values of 19 Note that while at least seven limits per variable are available fromthe equipment, the host need not use all seven.20 This illustration shows the reading which might be available to theequipment, not the limit excursions reported to the host. Reporting iscovered later in the section. the limit (LIMITMAX and LIMITMIN) and thespecific borders of the limit (UPPERDB andLOWERDB). See Figure 4.2.2. There is a limitation tothe values of UPPERDB and LOWERDB which maybe stated as:LIMITMAX≥UPPERDB≥LOWERDB≥LIMITMINA limit divides the possible range of variable valuesinto two parts, the upper zone and the lower zone. Atany time, the monitored variable is considered to be inone and only one of these zones. However, as Figure4.2.2 shows, these two zones have an area of overlap.This is called the deadband. Figure 4.2.1Limit Combination Illustration: ControlApplication Figure 4.2.2Elements of One Limit The deadband is a key concept of limits monitoring,especially for floating point variables. Its purpose is toprevent a phenomenon known as chattering  therepeated changing of zones due to small, rapidfluctuations in variable value while near the zoneboundary. In practice, the value of a variable mustreach the opposite boundary of the deadband before azone transition can occur. Thus, if a variables value

&lt;!-- Page 3 --&gt;

SEMI E30-1103 © SEMI 1992, 200327 reaches the UPPERDB and transitions into the upperzone, it will not return to the lower zone until it fallsback to the LOWERDB. The difference betweenUPPERDB and LOWERDB should always be greaterthan the typical amplitude of those fluctuations deemedto be insignificant. In some cases, the width of thedeadband may set to zero (i.e., UPPERDB =LOWERDB). At first glance, this would seem to makeindeterminate the current zone when an integer valuesits on the limit. This is not the case, however, whenmovement of the value is considered. To illustrate, anexample is given, assuming that UPPERDB =LOWERDB = 100. The list shows consecutive readingsof the variable and the resultant zone:99 Lower Zone (Initial Reading)101 Upper Zone (Zone Transition)100 Lower Zone (Zone Transition)100 Lower Zone99 Lower Zone100 Upper Zone (Zone Transition)Transition from one zone into another generates acollection event, as might be reported via S6,F11. Thehost has the option of receiving notification by enablingevent reporting for the event. For each variable that hasmonitoring capability, one CEID is reserved to indicatezone transitions for that variable. To aid in thedetermination of the nature of a transition event, threeDVVALs have been defined:LimitVariable  The VID of the monitored variable towhich the collection event refers.EventLimit  Contains the LIMITID of the limitreached or crossed by LimitVariable.TransitionType  Defines the direction of the zonetransition which has occurred: 0 = transition from lowerto upper zone, 1 = transition from upper to lower zone.Sampling frequency is an important element of limitsmonitoring and should be considered during equipmentspecification. If changes in variable value are relativelyfast compared to sampling frequency, it is possible forsome zone transitions to be missed or for multiple zonetransitions to occur between readings. Since it ispossible for zone transitions to occur simultaneouslyor for limits to be identically defined, the DVVALEventLimit has been defined to allow for a list ofmultiple zone transitions of a variable to be reportedwith a single collection event.It also should be emphasized that a single CEID is usedto report transitions in both directions across a limit. Thus, reporting for one direction but not the othercannot be configured.The functionality of each limit for each variable can bedescribed with the state model shown in Figure 4.2.3.Below, the three states are described more fully,followed by a table defining the transitions. Figure 4.2.3Limit State Model ABOVE LIMITA variable is considered to be above a limit when itsvalue increases to equal or exceed the upper boundaryof the deadband, UPPERDB. The significance attachedto this state is a function of the hosts usage.BELOW LIMITA variable is considered to be below a limit when itsvalue decreases to equal or fall below the lowerboundary of the deadband, LOWERDB. Thesignificance attached to this state is a function of thehosts usage.NO ZONEIn some circumstances it is possible for the variablevalue to be in neither the upper zone nor the lowerzone. This may occur upon definition of a new limit orupon equipment startup when the value of the variablelies in the deadband. In this case, the active state of thelimit is considered to be NO ZONE. The limit shallremain in this state until the variable value reacheseither boundary of the deadband.

&lt;!-- Page 4 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 28 4.2.4.3.2 Modification of Limit Values  Values forthe monitoring limits on any monitored variable may bemodified by the host using the message transactionS2,F45/F46 (Define Variable Limit Attributes). Theequipment must reject any S2,F45 message whichcontains limit information which conflicts with thefollowing rules: LIMITMAX≥UPPERDB≥LOWERDB≥LIMIT-MIN; If either UPPERDB or LOWERDB is defined,both must be defined; if either UPPERDB orLOWERDB is undefined, both must be undefined.The first rule is defined and graphically depicted inFigure 4.2.2. The second rule refers to the hosts abilityto turn any limit on or off. While a minimum ofseven limits must be available for each monitoredvariable, it will be common for the host application torequire less than seven or even none of the limits beused. The limits not needed can be disabled by leavingthe values for UPPERDB and LOWERDBundefined. Limits may be disabled for a VID or forall monitored VIDs by using zero length lists in theS2,F45 message.All monitored variables must be one of three types:integer, floating point, or Boolean. This may beaccomplished by using the following formats: 11, 20,3(), 4(), 5().NOTE 7: The binary format is not allowed. If the ASCIIformat is used, the equipment shall perform a conversion into one of the numeric types before performing any valuecomparisons, both for limit validations and zone transitions. 4.2.4.3.3 Limit Values Request  The host mayrequest the current limit values for a specified VIDusing the message transaction S2,F47/F48 (VariableLimit Attribute Request).4.2.4.4 Requirements A minimum of seven limits per monitored variablemust be available. One CEID per monitored variable must be suppliedfor zone transition reporting. All limit definitions must be kept in non-volatilestorage. The equipment must enforce the limit validationrules defined above. The specification and documentation of whichvariables may be monitored with this capability isthe responsibility of the equipment manufacturerbased on the specific instance of equipment. Thissubject also may be addressed by equipment modelsof classes of semiconductor equipment. Table 4.2 Limit State Transition Table# Current State Trigger New State Action Comment1 DISABLED Limit attributed defined w/S2,F45.ENABLED None The substate of ENABLED isdetermined by the current value ofthe monitored variable.2 ENABLED Limit attributes set toundefined w/ S2,F45.DISABLED None None 3 BELOW LIMIT Variable Increased to be≥UPPERDBABOVE LIMIT None Zone Transition. 4 ABOVE LIMIT Variable decreases to be≤LOWERDBBELOW LIMIT None Zone Transition. 5 NO ZONE Variable decreases to be≤LOWERDBBELOW LIMIT None Zone Transition. 6 NO ZONE Variable increases to be≥UPPERDBABOVE LIMIT None Zone Transition.

&lt;!-- Page 5 --&gt;

SEMI E30-1103 © SEMI 1992, 200329 4.2.4.5 Scenarios  Zone Transition Event occurs in equipment:COMMENTS HOST EQUIPMENT COMMENTS Send enabled event report to host as shown in Section 4.2.1. Host defines Limit Attributes:COMMENTS HOST EQUIPMENT COMMENTS \[IF\] S2,F45 is Multi-block\[THEN\] Send Multi-block inquire S2,F39--&gt;&lt;--S2,F40 Multi-block grant.\[END IF\]Host defines new variable limitattributes. S2,F45--&gt;&lt;--S2,F46 Equipment acknowledges hostrequest. Host queries equipment for current Limits:COMMENTS HOST EQUIPMENT COMMENTS Host queries equipment S2,F47--&gt;for current variable limitattribute definitions.&lt;--S2,F48 Equipment returns reportcontaining requested variablelimit attribute values. 4.2.5 Status Data Collection4.2.5.1 Purpose  This capability allows the host to query the equipment for selected status information and isuseful in synchronizing with equipment status.4.2.5.2 DefinitionsStatus variable value (SV)  A data item containing the value of a status variable. See SEMI E5 for a full definitionof this data item.Status variable ID (SVID)  A unique identifier of a status variable. See SEMI E5 for a full definition of this dataitem. 4.2.5.3 Detailed Description  The host may query equipment status by specifying the desired SVIDs. Upon sucha request, the equipment sends the host the value of the selected status variables. The host also may request thedescription (name and units) of any or all available status variables.4.2.5.4 Requirements The equipment manufacturer must provide unique SVIDs for the various status variables (SV) available for datacollection in the equipment. All status data is available for status data collection. See Section 5.2, Variable Item List, for a list of statusvariables. All SVs must contain valid data whenever provided to the host.

&lt;!-- Page 6 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 30 4.2.5.5 ScenarioRequest Equipment Status Report:COMMENT HOST EQUIPMENT COMMENT Host requests report of selectedstatus variable values S1,F3--&gt;&lt;--S1,F4 Equipment responds with therequested status variabledata. Request Equipment Status Variable Name list:COMMENT HOST EQUIPMENT COMMENT Host requests equipment to identifyselected status variables. S1,F11--&gt;&lt;--S1,F12 Equipment responds with therequested status variabledescriptions. 4.2.6 On-line Identification4.2.6.1 Purpose  Implementation of SEMI E5 (a GEM Fundamental Requirement) requires the equipment toaccept the S1,F1 from the Host at any time while it is ONLINE and COMMUNICATING, and respond with S1,F2.The On-line Identification capability describes the host-initiated scenario. The equipment-initiated scenario is usedfor a different purpose and is defined in sections 3.3 and 4.12 describing the GEM Control Model.4.2.6.2 DefinitionsEquipment Model Type (MDLN)  ASCII string containing the equipment model. See SEMI E5 for a full definitionof this data item.Equipment Software Revision Code (SOFTREV)  ASCII string containing the equipment software revision. SeeSEMI E5 for a full definition of this data item. 4.2.6.3 Detailed Description  On-line Identification allows the host to verify the presence and identity of theequipment.4.2.6.4 Requirements  (Host-Initiated) An S1,F2 response from the equipment must provide MDLN andSOFTREV information which reflects the hardware and software configuration of the equipment.SOFTREV must uniquely identify different releases of equipment software. Any change in equipment softwaremust result in a corresponding change to SOFTREV.The equipment-initiated S1,F1 is not required except as described in sections 3.3 and 4.12 describing the GEMControl Model. 4.2.6.5 Scenario:Host InitiatedCOMMENT HOST EQUIPMENT COMMENT Are you there? S1,F1--&gt;&lt;--S1,F2 Equipment replies with MDLN andSOFTREV.

&lt;!-- Page 7 --&gt;

SEMI E30-1103 © SEMI 1992, 200331 4.3 Alarm Management  The alarm managementcapability provides for host notification andmanagement of alarm conditions occurring on theequipment.4.3.1 Purpose  Historically, a precise definition ofan equipment alarm has been absent. Consequently,differing interpretations have resulted in inconsistentimplementations. This is addressed by providing a morerigorous definition (see definition in Section 4.3.2below) of an alarm.In addition, it is often important for equipment to reportmore extensive information to the host than has beenavailable in the S5,F1/F2 (Alarm Report Send/Acknowledge) transaction. The data required in suchcases is very dependent on equipment type, hostinformation requirements, and alarm situation. Thisissue is addressed by providing event reportingmethods that are tied to alarm state changes.Lastly, the alarm management capability providesmechanisms for: Reporting the time of an alarm state change, Uploading a list of alarm texts, Enabling and disabling the notification of specificalarms, and Host query of alarms set and enabled status on theequipment. 4.3.2 DefinitionsAlarm  An alarm is related to any abnormal situationon the equipment that may endanger people, equipment,or material being processed. Such abnormal situationsare defined by the equipment manufacturer based onphysical safety limitations. Equipment activitiespotentially impacted by the presence of an alarm shallbe inhibited.Note that exceeding control limits associated withprocess tolerance does not constitute an alarm nor donormal equipment events such as the start orcompletion of processing.AlarmsEnabled  Status value consisting of a list ofthe alarm IDs currently enabled for reporting to thehost. See SEMI E5 for a full definition of this variabledata item.AlarmsSet  Status value consisting of a list of thealarm IDs currently in the ALARM SET (or unsafe)state. See SEMI E5 for a full definition of this variabledata item. ALCD  Alarm code data item used in the S5,F1(Alarm Report Send) and S5,F6 (List Alarm Data)messages. This code is divided into two parts, the alarmset/cleared bit and the 7 bit alarm category code. Onlythe set/cleared bit is usedbit 8 = 1 means alarm set, =0 means alarm cleared. The alarm category code is notused. See SEMI E5 for a full definition of this dataitem.ALID  Alarm identifier. See SEMI E5 for a fulldefinition of this data item.ALTX  Data item contained in the S5,F1 and S5,F6messages containing a brief textual description of analarm. See SEMI E5 for a full definition of this dataitem. Figure 4.3State Diagram for Alarm ALID n 4.3.3 Detailed Description  Two alarm notificationmechanisms are defined to achieve the flexibilitynecessary for the reporting required by host systems.First, stream 5 alarm reporting enables a brief, yetfixed, method for notification of alarm occurrencesusing the S5,F1/F2 transaction. Second, to address thehosts potential need for more extensive and flexibledata reporting, two collection events (alarm set andalarm cleared) are defined for each possible alarmcondition on the equipment to allow the use of eventdata collection mechanisms. In the latter case, reportsare sent by the equipment using the Event Report/Acknowledge transaction (see Section 4.2 on event datacollection).The alarmn detected and cleared events are derivedfrom the state model for an alarm (see Figure 4.3 andTable 4.3.1). In this model each of n alarms can be inone of two possible states, either ALARM CLEAR orALARM SET. The transition from the ALARMCLEAR to the ALARM SET state is defined as thecollection event Alarmn detected (transition 1).Conversely, the transition from ALARM SET toALARM CLEAR is defined as the collection eventAlarmn cleared (transition 2).NOTE 8: The alarm capability is intended as an addition tostandard safety alarms (e.g., lights, horns). There is no intentto replace direct operator notification of such problems, nor isthere the expectation that the host can prevent or directlyaddress such alarms.

&lt;!-- Page 8 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 32 Table 4.3.1 Alarm State Transition Table# Current Trigger New State Action Comment1 ALARMn CLEAR Alarmn is detectedon the equipment.ALARMn SET Initiate local actions (if any) toensure safety. UpdateAlarmsSet and ALCDn values.Generate and issue alarmmessage if enabled. Inhibited activitiesrequire operator orhost interventionprior to resuming. 2 ALARMn SET Alarmn is no longerdetected on theequipment. ALARMn CLEAR Update AlarmsSet and ALCDnvalues. Generate and issuealarm message if enabled. Inhibited activitiesrequire operator orhost interventionprior to resuming.The equipment manufacturer is responsible for identifying all alarms on their equipment by: Applying the above alarm definition, Consulting Application Note A.3 for examples of alarms for various equipment configurations, Noting that the presence of an alarm typically requires some action or intervention before resuming safeoperation of the equipment, and by Referring to Table 4.3.2 below which delineates the differences between events and alarms. Table 4.3.2EVENT ALARMAny occurrence detectable by the equipment. Related to only those occurrences that are abnormal,undesirable, AND endanger people, equipment, or physicalmaterial being processed.Certain events may trigger a state transition(s). Each alarm has an associated two-state state model: ALARMSET (or unsafe) and ALARM CLEAR (or safe).Equipment activities are not necessarily inhibited by theoccurrence of an event (unless it is associated with an alarm orintentional inhibit). The presence of an alarm inhibits equipment activities toensure safe operation until the alarm condition is cleared. Certain events may occur in an expected sequence. Alarms may occur at any time. 4.3.3.1 Enable/Disable Alarms  Upon request fromthe host, the equipment shall enable or disable reportingof certain alarms. Enabling or disabling a given alarmshall impact the communication of both the alarm setand clear messages equally (i.e., turn them both on orboth off). This is not the case for enabling/disabling ofthe associated collection events, where the alarm-setand alarm-cleared events can be enabled and disabledseparately. The current enable/disable settings must bestored in non-volatile memory. Changes to theenable/disable settings must be reflected in theAlarmsEnabled status value.NOTE 9: The alarm itself is not being enabled or disabled,but the reporting of the alarm through SECS-II messages isbeing enabled or disabled. 4.3.3.2 Send Alarm Report  Upon detecting a changein the status of a given alarm, an associated alarm statemodel shall transition to the opposite state. Followinginitiation of local actions necessary to ensure safety, theequipment must update the AlarmsSet and associatedALCD values and send an alarm message and/or anevent message to the host assuming one or both areenabled. Alarm messages must be sent before thecorresponding event messages if both are enabled.NOTE 10: The ALCD is divided into two parts, the alarmset/cleared bit and the 7 bit alarm category code. Only theset/cleared bit is usedbit 8 = 1 means alarm set, = 0 meansalarm cleared. The alarm category code is not used. 4.3.3.3 List Alarm Text  Upon request from the host,the equipment sends values of alarm text associated

&lt;!-- Page 9 --&gt;

SEMI E30-1103 © SEMI 1992, 200333 with a specified list of alarm IDs using the S5,F5/F6(List Alarms Request/Data) transaction.4.3.3.4 List Currently Set Alarms  The host mayobtain a listing of currently set alarms by employingany data collection method specified by GEM andreferencing the variable data item called AlarmsSet(e.g., including " AlarmsSet in a report definition).When reported, AlarmsSet must contain a list of allcurrently set alarms. Each alarm set or clear occurrencemust cause a change to the AlarmsSet status value priorto reporting it to the host.4.3.3.5 List Currently Enabled Alarms  The hostmay obtain a listing of currently enabled alarms byemploying any data collection method specified byGEM and referencing the variable data item calledAlarmsEnabled (e.g., including AlarmsEnabled in areport definition). When reported, AlarmsEnabled mustcontain a list of all alarm IDs currently enabled forreporting. The equipment must update the value ofAlarmsEnabled upon corresponding change(s) to theenable/disable settings.4.3.4 Requirements  A set of alarms relating to the physical safety limitsof operator, equipment, or material being processedmust be defined for the equipment by the equipmentmanufacturer. The equipment must maintain all enable/disablestates and report definitions for alarms andcollection events in non-volatile memory. Each alarm defined on the equipment must have abrief description of its meaning, an associatedunique alarm identifier (ALID), alarm text (ALTX),an alarm status (ALCD) and two unique collectionevent identifiers (CEIDs), one for set and one forcleared. Enabled alarm reports must be sent prior tocorresponding enabled event reports. 4.3.5 ScenariosNOTE 11: Consult event reporting sections of this document for descriptions of enabling, disabling, and sending collection eventreports.Enable/Disable Alarms:COMMENTS HOST EQUIPMENT COMMENT Enable/disable Alarm S5,F3--&gt;&lt;-- S5,F4 Acknowledge Upload Alarm Information:COMMENTS HOST EQUIPMENT COMMENT Request alarm data/text S5,F5--&gt;&lt;-- S5,F6 Send alarm data/text Send Alarm Report:COMMENTS HOST EQUIPMENT COMMENT Alarm occurrence detected by the equipment.&lt;-- S5,F1 Send alarm report (if enabled).Acknowledge S5,F2--&gt;&lt;-- S6,F11 Send event report (if enabled).Acknowledge S6,F12--&gt;

&lt;!-- Page 10 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 34 4.4 Remote Control4.4.1 Purpose  This capability provides the host witha level of control over equipment operations.4.4.2 DefinitionsHost Command Parameter (CPNAME/CPVAL/CEPVAL)  A parameter name/valueassociated with a particular host command(S2,F41/S2,F49). The equipment manufacturer mustprovide unique names (CPNAMEs) for any supportedcommand parameters. Command parameters are notspecified in this document but are left to equipmentmanufacturers to define. Equipment models of specificclasses of semiconductor equipment also may addressthis issue. Note that if there are no associatedparameters a zero-length list is sent. The data itemCEPVAL, which can be defined as a list, allowsgrouping of related parameters within a mainparameter. If the CEPVAL is defined as a single (non-list) item, then it is the equivalent of a CPVAL.The uses of OBJSPEC in the header structure of theS2,F49 Enhanced Remote Command allows theequipment supplier to define a set of unique identifiersfor different objects within the equipment such as:equipment sub-systems, sub-system components,processing stations, ports, and exchange stations. 4.4.3 Description  The equipment responds to hostcommands that provide the following functions relativeto individual equipment implementations: Start processing Select a process program or recipe Stop processing Temporarily suspend processing Resume processing Abort processingAdditional commands may be implemented by theequipment manufacturer (e.g., vent chamber, clearmaterial, open door).Remote commands shall be interpreted as requestaction be initiated rather than do action. Theequipment may then respond via S2,F42/S2,F50 withHCACK = 4 if the command is going to beperformed. This alleviates any transaction timeoutsfor commands that may take a long time to perform.The completion of the action initiated by the remotecommand (i.e., HCACK = 0 or 4) must result in either astate transition or other action that generates acollection event upon normal/abnormal completion. The format for all remote commands is ASCII, with amaximum length of 20 characters. The character set isrestricted to the printable characters (hexadecimal 21through 7E). Note that spaces are not allowed.The following remote commands (RCMDs), ifimplemented on the equipment, shall be supported asdescribed below (see Section 3.4 for a description ofEquipment Processing States).NOTE 12: The terms current cycle and safe break pointused below are to be defined by the supplier or within themodels of classes of semiconductor equipment.START  This command is available to the host whena process program or recipe has been selected and theequipment is in the ready processing state. TheSTART command instructs the equipment to initiateprocessing. Variable parameter settings may beincluded as name/value command parametersCPNAME/CPVAL/CEPVAL.PP-SELECT  This command instructs the equipmentto make the requested process program(s) available inthe execution area. The process programs (PPIDs) arespecified via the command parameter list. A statusvariable (PPExecName) contains the PPID of theprocess program(s) currently selected.RCP-SELECT  This command uses the EnhancedRemote Command S2,F49 to instruct the equipment toprepare the requested recipes for execution in theexecution area. The recipes and variable parameters arespecified via command parameter lists. Each recipespecification may be accompanied by new variableparameter settings, if any, in the command parameterlist. A status variable RcpExecName contains therecipe specifiers or identifiers of the recipes currentlyselected.STOP  Command to complete the current cycle, stopin a safe condition and return to the idle processingstate. Stop has the intent of stopping the process. Theequipment is not required to support the continuation ofprocessing. Stop leaves material either fully processedor partially processed so that the processing can be latercompleted. For example, for a single wafer processtool, five wafers have been processed while theremaining wafers remain unprocessed.PAUSE  Command to suspend processingtemporarily at the next safe break point. Pause has theintent of resuming the process at the same point whereit was paused. The process may be RESUMED,STOPPED, or ABORTED while in a PAUSEDcondition. RESUME shall be able to continue theprocess from the same point where it was paused.

&lt;!-- Page 11 --&gt;

SEMI E30-1103 © SEMI 1992, 200335 RESUME  Command to resume processing from thepoint where the process was paused.ABORT  Command to terminate the current cycleprior to its completion. Abort has the intent ofimmediately stopping the process and is used becauseof abnormal conditions. Abort makes no guaranteeabout the subsequent condition of material. In theabove example, the wafers being processed at the timeof the abort may not be completely processed. OtherAbortLevels &gt; 1 may be defined by the manufacturer oraddressed by models of specific classes ofsemiconductor equipment.CPNAME = AbortLevel, CPVAL = 1 means terminatecurrent cycle at the next safe break point, retrieve allmaterial, stop in a safe condition and return to the idlestate in the processing state machine. 4.4.4 Requirements The following Remote Commands, as defined underDescriptions, must be implemented on equipment tosatisfy minimum requirements for this capability: START STOP The RCMD value for all commands supported onthe equipment must be recognized if sent with allupper-case characters (e.g., STOP, START,PP-SELECT, PAUSE, etc.). In addition toaccepting strings with all upper-case characters, theequipment can optionally accept strings with alllower-case characters or mixed-case strings. Theequipment documentation should describe whetheror not the optional lower-case or mixed-case stringsare supported. Stream 2 currently provides for Host CommandSend and Enhanced Remote Command. Theequipment shall support one or both methods, basedon appropriateness. The Enhanced Remote Command is used to addresssize, complexity, or the need to target a specific sub-system within the equipment, (i.e., processingstation, port, exchange station, material handler,chamber). 4.4.5 Scenarios4.4.5.1 Host Command Send ScenarioCOMMENTS HOST EQUIPMENT COMMENT Host Command Send S2,F41--&gt;&lt;-- S2,F42 Host Command Acknowledge \[IF\] Command Accepted(HCACK = 0 or 4) &lt;-- S6,F11 \[THEN\] Event Report-statechange or other collectionevent occurrence.Event Report Acknowledge S6,F12--&gt;

&lt;!-- Page 12 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 36 4.4.5.2 Enhanced Remote Command ScenarioCOMMENTS HOST EQUIPMENT COMMENT Enhanced Remote Command S2,F49--&gt;&lt;--S2,F50 EnhancedRemote CommandAcknowledge \[IF\] Command Accepted(HCACK = 0 or 4) &lt;--S6,F11 \[THEN\] Event Report-statechange or other collectionevent occurrence. Event Report Acknowledge S6,F12--&gt; 4.5 Equipment Constants4.5.1 Purpose  This capability provides a method forthe host to read and to change the value of selectedequipment constants on the equipment.4.5.2 Definitions  None.4.5.3 Description  This capability allows the host toreconfigure equipment constants to support a variety ofsituations. The following functions are included:Host Sends Equipment Constants  Allows the host tochange the value of one or more equipment constants.Host Equipment Constant Request  Allows the hostto determine the current value of equipment constants. Host Equipment Constant Namelist Request  Allowsthe host to retrieve basic information about theequipment constants available at the equipment. 4.5.4 Requirements Equipment constants must be stored in non-volatilememory. The equipment must be in a safe condition toaccept new constant(s) settings as defined by theequipment manufacturer. The equipment must provide a collection event toalert the host whenever an equipment constant ischanged by the operator. Information indicatingwhich constant was changed shall be available forthe event report. 4.5.5 ScenariosHost Sends Equipment Constants:COMMENTS HOST EQUIPMENT COMMENTS Host sends S2,F15--&gt;equipment constants &lt;-- S2,F16 EAC = 0 equipment setsconstants Host Equipment Constants Request:COMMENTS HOST EQUIPMENT COMMENTS Host constant request S2,F13--&gt;&lt;-- S2,F14 Equipment constant data NOTE: This capability also can be accomplished using S6,F19 & S6,F20. See Section4.2.

&lt;!-- Page 13 --&gt;

SEMI E30-1103 © SEMI 1992, 200337 Host Equipment Constant Namelist Request:COMMENTS HOST EQUIPMENT COMMENTS Host constant namelist S2,F29--&gt;request &lt;-- S2,F30 Equipment constant namelist Operator Changes Equipment ConstantCOMMENTS HOST EQUIPMENT COMMENTS Operator changes equipmentconstant at equipmentoperator console.&lt;-- S6,F11 Equipment reports equipmentconstant change.Host acknowledges event S6,F12--&gt; 4.6 Process Program Management  Processprograms and recipes must be managed throughinteraction between the equipment and the host system.4.6.1 Purpose  Process program managementprovides a means to transfer process programs orrecieps, and to share the management of those processprograms or recipes, between the host and equipment.4.6.2 DefinitionsPPError  A text data value with information aboutverification errors of a process program that failedverification. If the equipment provides an event forrecipe verification and/or recipe verification failure,then PPError shall be a DVVAL. Otherwise, PPErrorshall be an SV.PPFormat  A variable (SV) indicating the type ortypes of process programs and recipes that aresupported.1 = Unformatted process programs2 = Formatted process programs3 = Both unformatted and formatted process programs4 = Execution recipes5 = Large unformatted process programs6 = Large formatted process programs7 = Both large unformatted and large formatted processprograms8 = Large execution recipesand a combination of these formats. See SEMI E5 for acompete list. 4.6.2.1 Definitions for Process ProgramsProcess Program  A process program is the pre-planned and reusable portion of the set of instructions,settings, and parameters under control of the equipmentthat determine the processing environment seen by themanufactured object and that may be subject to changebetween runs or processing cycles.Process Program Identifier  A text string (PPID)used to identify a process program.Formatted Process Program  A process program thatis presented as an ordered sequence of command codeswith their associated parameters as dictated by S7,F23,and S7,F26. Where formatted process programs aresupported, equipment must also provide informationsufficient to allow a user at the host to create, display,modify, and partially verify their contents (for example,that information provided in S7,F22).Unformatted Process Program  An unformattedprocess program is transferred without structure as thesingle data item PPBODY (refer to SEMI E5 for acomplete description of PPBODY).Process Program Change Event  The collectionevent associated with the occurrence of the creation,modification, or deletion of a process program by theoperator.PPChangeName  A data value (DVVAL) containingthe PPID of the process program affected by the eventProcess Program Change Event. See SEMI E5 for a fulldefinition of this variable data item.PPChangeStatus  The action taken on the processprogram named by PPChangeName. This variable isvalid for the collection event Process Program ChangeEvent. See SEMI E5 for a full definition of this variabledata item.

&lt;!-- Page 14 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 38 PPExecName  The status variable containing thePPID(s) of the currently selected process program(s).See SEMI E5 for a full definition of this variable dataitem.PP-SELECT  The remote command used to selectone or more process programs for execution. Theprocess programs are specified by PPID via thecommand parameter list.Process Program Verification  Verification is syntaxchecking of a process program. Verification ensuresonly that a process program is structured correctly. Itdoes not ensure that the program has the correctparameters to run a particular process or product (seeProcess Program Validation). Equipment supportingunformatted process programs should provide avariable DVVAL PPError that provides information tothe user concerning the error or errors when an attemptto verify a process program fails.NOTE 14: It may not be possible for the equipment to verifyunformatted process programs other than to check the size ofthe program and internal program checksums. Equipment hasno standard means of indicating the type of error encounteredin an unformatted process program.Process Program Validation  Validation is type-and-range checking of parameters in a process program, andis performed after verification. 4.6.2.2 Definitions for RecipesExecution recipe  A type of recipe stored by theequipment for purposes of editing, verification, andexecution.For complete definitions of execution recipes and theirstandard attributes, see SEMI E42, Section 6.Execution Recipe Change Event  The collection eventassociated with the occurrence of the modification ordeletion of an execution recipe stored by the equipment.Note 15: A recipe is modified whenever its body is changed.New Execution Recipe Event  The collection eventassociated with the creation of a new execution recipe atthe equipment.Object form recipe  A recipe with body in aproprietary format that may be presented withoutstructure.RcpChangeName  A data value (DVVAL) containingthe identifier of the recipe affected by the eventExecution Recipe Change Event or New ExecutionRecipe Event. See the SEMI E5 Standard for a fulldefinition of this variable data item.RcpChangeStatus  The action taken on the recipenamed by RcpChangeName. This variable is valid for the collection event Execution Recipe Change Event or NewExecution Recipe Event. See the SEMI E5 Standard fora full definition of this variable data item.RcpExecName  The status variable containing thespecifiers of the currently selected recipe(s). See theSEMI E5 Standard for a full definition of this variabledata item.RCP-SELECT  The remote command used to selectone or more recipes for execution. See Section 4.4.3.Recipe Attribute  Information about the recipe that istransferred with the recipe as a name/value pair. Thevalue may be a single item or a list.Recipe  A recipe contains both a set of instructions,settings, and parameters that the equipment uses todetermine the processing environment (its body orprocess program) and a set of attributes that provideinformation about the recipe, such as the date and timethe body was last changed.SEMI E42 defines two types of recipes: managedrecipes and execution recipes. For purposes of GEM,the term recipe refers to an execution recipe only.Recipe identifier  A recipe identifier is a formattedtext string (RCPID) used to identify the recipe.Recipe specifier  A formatted text string (RCPSPEC)used in messages to indicate a specific recipe. A recipespecifier includes the recipe identifier. It may alsoinclude additional information, such as the name of thespecific component of the equipment where the recipeis to be executed (e.g. a process chamber) and the nameof a recipe repository on the host.Recipe Verification  Verification is syntax checking ofa recipes body. Verification ensures that a recipe body isstructured correctly and has the correct syntax. It mayalso provide a check of semantics. It does not ensurethat the body has the correct parameters to run aparticular process or product (see Recipe Validation).NOTE 16: Unverified recipes shall be verified upon download.Recipe Validation  Validation is type-and-rangechecking of parameters in a recipe, and is performedwhen the recipe is selected for execution. The recipemay be correct in its syntax and semantics but should failvalidation if it can not be executed with the currentequipment configuration.Source form recipe  A recipe with a body that ispresented as an ordered sequence of text. A source formrecipe may be created and edited off-line to theequipment. Definition of syntax requirements shall bedocumented, in order to allow proper off-line editing.

&lt;!-- Page 15 --&gt;

SEMI E30-1103 © SEMI 1992, 200339 Variable Parameters  Variable parameters are recipeparameters that are defined in the body of the recipe andwhose run-time values may be set outside of the recipewhen the recipe is selected for execution and/or whenprocessing is started. Both the host and the operator mayspecify new settings as a parameter name/value pair.Variable Parameter Definition  A variable parameterdefinition has three parts: the name of the variableparameter, its default setting, and restrictions on therun-time value selected. Variable parameter definitionsare stored in the recipe attribute Parameters. 4.6.3 Description4.6.3.1 Process Program DescriptionProcess programs allow the equipments process,and/or the parameters used by that process, to be setand modified by the engineer to achieve differentresults. Different process programs maybe required fordifferent products, while often the same processprogram will be used for all lots of a given product. Theengineer must be able to create such programs, tomodify current programs, and to delete programs fromequipment storage.For the host to ensure that the proper process programsare in place at the equipment, there must be a means oftransferring them from equipment to host and from hostto equipment. The host also may need to delete processprograms from the equipments storage to make roomfor a process program to be downloaded. In addition,the host must be kept informed whenever a localchange occurs in the contents or status of a processprogram.Both formatted and unformatted process programs maybe uploaded and downloaded. This capability providesfor both host- and equipment-initiated transfers. Theequipment-initiated transfer may be used at the requestof the process engineer or operator at the equipment.If a process program exists with the same PPID as theone given in the SECS-II message, the old processprogram must be replaced. The PPID in the e processprogram in non-volatile storage. 4.6.3.2 Recipe DescriptionSpecifications in Section 4.6.3.1 apply to recipes aswell as process programs, with the followingdifferences: A recipe contains a body corresponding to aprocess program. In addition, it contains attributesdefined for execution recipes in SEMI E42,Section 6. Recipe attributes are transferredwhenever the recipe is downloaded or uploaded.  The same SECS-II messages are used for allexecution recipes, regardless of the internalstructure of the recipe body. If an execution recipe already exists with the sameidentifier as the one given in the SECS-II message,the downloaded recipe shall be rejected (notstored) unless the host has specified a forcedoverwrite in the data item RCPOWCODE. A recipe currently being edited shall be protectedfrom inadvertent change or overwriting by a recipewith the same identifier that is downloaded duringthis time. If the downloaded recipe is accepted(stored), the equipment shall require the operatoreither to save the edited recipe to a new (unused)identifier or to discard it. For the equipment to initiate either an upload ordownload of a recipe, it shall request the host toinitiate an upload or download procedure. Inaddition, it may be necessary to also specify thename of the repository (recipe namespace) at thehost. 4.6.3.3 Large Process Programs and Recipes4.6.3.3.1 Process programs and recipes for certain typesof equipment, such as metrology or inspectionequipment, contain images and are, therefore, verylarge. Such process programs and recipes cannot fit intoa single multi-block SECS-II message that has amaximum theoretical size of 7,995,148 text bytes.Furthermore, process programs and recipes may alsorequire some preparation prior to transfer.4.6.3.3.2 The commonly used Stream 7 and Stream 15transfer functions require that the entire processprogram be sent in a single message. Thus, it is notpossible to send a large process program or recipe withsuch messages. However, there is an alternative set ofStream 7 and Stream 15 functions that supports largetransfers. These messages invoke Stream 13 Data SetTransfer Protocol messages to transfer large processprograms (or recipes) by using a sequence of readmessages. The completion of such a read transaction isindicated by ERROR: End of Data. The Data SetTransfer Protocol does not set any limit on the size ofthe data set. 4.6.4 Requirements The equipment manufacturer shall provide a methodto create, modify, and delete process programs orrecipes. This method shall exist on either theequipment or on a separate computing system.

&lt;!-- Page 16 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 40  A CEID shall be defined for a collection event forthe creation, the deletion, or the modification(completion of an editing session) of a processprogram (Process Program Change Event). Forrecipes, there are two separate CEIDs and collectionevents, one for the creation of a new recipe (NewExecution Recipe Event) and one when a recipe ischanged or deleted (Execution Recipe ChangeEvent). A New Execution Recipe Event shalloccur whenever a new recipe identifier is createdthrough download, edit, copy, or rename operations.A Execution Recipe Change Event shall occurwhenever the body of an existing recipe is modified. The name (identifier) that the engineer or operatoruses to refer to the process program or recipe is thesame as the identifier used by the host. Upon request from the host or operator, theequipment shall perform the following actions withregard to process programs and recipes stored innon-volatile storage: upload, download, delete, andlist current equipment process program or recipedirectory. The equipment shall be able to store in non-volatilememory the number of process programs or recipessufficient to execute three unique process cycles.For example, if a wire-bonder requires both anALIGN process program and a BOND processprogram for a full process cycle, then it must providenon-volatile storage for at least three pairs of processprograms. These stored process programs or recipesmay not be modified in any way by the execution process, nor may the execution process be affectedby the modification of any process program orrecipes in storage, either by downloading or by localediting, while that process program or recipes isbeing executed. The equipment must provide verification andvalidation of all downloaded process programs andrecipes. Stream 7 provides for formatted and unformattedprocess programs, while Stream 15 provides forrecipes. The equipment must support at least one ofthese three methods. The equipment supplier shall document anyrestrictions on the length or test format of PPID.The maximum length allowed by equipment maybe less than that allowed by SECS-II. Where recipes are supported, the followingrequirements also apply: The variable PPFormat shall be provided toindicate to the user the messages supported bythe equipment. The recipe and its attributes shall comply tothe requirements for execution recipes asdefined in SEMI E42, Section 6. 4.6.5 Scenarios for Process Programs4.6.5.1 Process Program Creation, Editing, or Deletion Process Program Created, Edited, or Deleted by OperatorCOMMENTS HOST EQUIPMENT COMMENTS New process program created,edited, or deleted by operatorat equipment.PPChangeName = PPIDPPChangeStatus = 1 (Created)= 2 (Edited)= 3 (Deleted)\[IF\] CEID for Process ProgramChange Event enabled\[THEN\]&lt;-- S6,F11 Send Event ReportEvent Report Acknowledge S6,F12--&gt;\[END\_IF\]

&lt;!-- Page 17 --&gt;

SEMI E30-1103 © SEMI 1992, 200341 Process Program Deletion by the Host:COMMENTS HOST EQUIPMENT COMMENTS Delete Process Program Send S7,F17--&gt;&lt;-- S7,F18 Delete Process ProgramAcknowledge.The process program is removedfrom non-volatile storage. 4.6.5.2 Process Program Directory RequestCOMMENTS HOST EQUIPMENT COMMENTS Current EPPD Request S7,F19--&gt;&lt;-- S7,F20 Current EPPD Data

&lt;!-- Page 18 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 42 4.6.5.3 Process Program UploadHost-Initiated Process Program Upload  Formatted:COMMENTS HOST EQUIPMENT COMMENTS Formatted Process Program S7,F25--&gt;Request &lt;-- S7,F26 Formatted Process ProgramDataLarge Formatted Process S7,F43--&gt;Program Request&lt;-- S7,44 Large Formatted Process ProgramAcknowledgeAcknowledge may be acceptedand will be performed laterwith completion signaled. Whenthe equipment is ready to send:&lt;-- S13,F1 Send Data Set SendSend Data Set Send S13,F2--&gt;AcknowledgeOpen Data Set request S13,F3--&gt;&lt;-- S13,F4 Open Data Set Data\[START\]Repeat until ACKC13 indicateserror:Read Data Set Request S13,F5--&gt; \[END\] &lt;-- S13,F6 Read Data set Data \[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OF DATA"\[Then\]Event Report Acknowledge &lt;-- S6,F12 Send Event Report "successfulS6,F12--&gt; upload"\[ELSE\] Event Report Acknowledge &lt;-- S6,F11 Send Event Report "bad upload"S6,F12--&gt;\[END\_IF\]\[END\_IF\] Close Data Set Send S13,F7--&gt; &lt;-- S13,F8 Close Data Set Acknowledge

&lt;!-- Page 19 --&gt;

SEMI E30-1103 © SEMI 1992, 200343 Host-Initiated Process Program Upload  Unformatted:COMMENTS HOST EQUIPMENT COMMENTSProcess Program Request S7,F5--&gt;&lt;-- S7,F6 21 Process Program Data Large Process Program Request S7,F41--&gt;&lt;-- S7,F42 Large Process ProgramAcknowledge Acknowledge may be acceptedand will be performed laterwith completion signaled.When the equipment is readyto send: &lt;-- S13,F1 Send Data Set Send Send Data Set Send S13,F2--&gt;Acknowledge Open Data Set request S13,F3--&gt;&lt;-- S13,F4 Open Data Set Data\[START\]Repeat until ACKC13 indicateserror:Read Data Set Request S13,F5--&gt;\[END\] &lt;-- S13,F6 Read Data set Data\[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OFDATA"\[Then\]&lt;-- S6,F11 Send Event ReportEvent Report Acknowledge S6,F12--&gt; successful upload\[ELSE\]&lt;-- S6,F11 Send Event Report "badEvent Report Acknowledge S6,F12--&gt; upload"\[END\_IF\]\[END\_IF\]Close Data Set Send S13,F7--&gt;&lt;-- S13,F8 Close Data Set Acknowledge 21 If the process program does not exist, a zero-length list will be sent.

&lt;!-- Page 20 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 44 Equipment Initiated Process Program Upload  Formatted:COMMENTS HOST EQUIPMENT COMMENTS \[IF\] Process program is multi-block\[THEN\]&lt;-- S7,F1 Process Program Load InquireProcess Program Load Grant S7,F2--&gt;\[END\_IF\]&lt;-- S7,F23 Formatted Process Program SendFormatted Process ProgramAcknowledge S7,F24--&gt;&lt;-- S7,F39 Large Formatted Process ProgramSendLarge Formatted Process S7,F40--&gt;Program Acknowledge &lt;-- S13,F1 Send Data Set Send Send Data Set Send S13,F2--&gt;Acknowledge Open Data Set request S13,F3--&gt;&lt;-- S13,F4 Open Data Set Data \[START\] repeat untilACKC13 is error:Read Data Set Request S13,F5--&gt;\[END\] &lt;-- S13,F6 Read Data set Data \[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OF DATA"\[Then\]&lt;-- S6,F11 Send Event ReportEvent Report S6,F12--&gt; successful uploadAcknowledge \[ELSE\]&lt;-- S6,F11 Send Event Report bad uploadEvent Report S6, F12--&gt;Acknowledge \[END\_IF\]\[END\_IF\]Close Data Set Send S13,F7--&gt;&lt;-- S13,F8 Close Data Set Acknowledge

&lt;!-- Page 21 --&gt;

SEMI E30-1103 © SEMI 1992, 200345 Equipment-Initiated Process Program Upload  Unformatted:COMMENTS HOST EQUIPMENT COMMENTS \[IF\] Process program is multi-block\[THEN\]&lt;-- S7,F1 Process Program Load InquireProcess Program Load Grant S7,F2--&gt;\[END\_IF\]&lt;-- S7,F3 Process Program SendProcess Program Acknowledge S7,F4--&gt; &lt;-- S7,F37 Large Process Program SendLarge Process Program S7,F38--&gt;Acknowledge&lt;-- S13,F1 Send Data set SendSend Data Set Send S13,F2--&gt;Acknowledge Open Data Set request S13,F3--&gt;&lt;-- S13,F4 Open Data Set Data\[START\] Repeat untilACKC13 is error:Read Data Set Request S13,F5--&gt;\[END\] &lt;-- S13,F6 Read Data set Data \[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OF DATA"\[Then\]&lt;-- S6,F11 Send Event ReportEvent Report Acknowledge S6,F12--&gt; successful upload\[ELSE\]&lt;-- S6,F11 Send Event Report bad uploadEvent Report Acknowledge S6,F12--&gt; \[END\_IF\]\[END\_IF\]Close Data Set Send S13,F7--&gt;&lt;-- S13,F8 Close Data Set Acknowledge

&lt;!-- Page 22 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 46 4.6.5.4 Process Program DownloadNOTE 17: Formatted process programs must be verified immediately following any download.While the Process Program Load Inquire/Grant transaction (S7,F1/F2) is required only for the transfer of multi-block process programs, its use is recommended prior to all host-initiated downloads. It provides a means ofverifying process program size.

&lt;!-- Page 23 --&gt;

SEMI E30-1103 © SEMI 1992, 200347 Host-Initiated Process Program Download  Formatted:COMMENTS HOST EQUIPMENT COMMENTS \[IF\]Process program is multi-block\[THEN\]Process Program Load Inquire S7,F1 22 --&gt;&lt;-- S7,F2 Process Program Load Grant\[ENDIF\]Formatted Process Program Send S7,F23--&gt;&lt;--S7,F24 Formatted Process ProgramAcknowledge Verify processprogram\[IF\] S7,F27 is multi-block\[THEN\]&lt;--S7,F29 Process Program VerificationInquireS7,F30-&gt; Process Program VerificationGrant\[END IF\]&lt;--S7,F27 Process Program VerificationSendProcess Program VerificationAcknowledge S7,F28--&gt; Large Formatted Process S7,F39--&gt;Program Send&lt;-- S7,F40 Large Formatted Process ProgramAcknowledge &lt;-- S13,F3 Open Data Set RequestOpen Data Set Data S13,F4--&gt;\[START\] repeat until ACKC13 iserror:&lt;-- S13,F5 Read Data Set RequestRead Data Set Data S13,F6--&gt;\[END\] &lt;-- S13,F7 Close Data Set SendClose Data Set S13,F8--&gt;Acknowledge\[IF\]S7,F27 is multi-block\[THEN\]&lt;-- S7,F29 Process Program VerificationInquireProcess Program S7,F30--&gt;Verification Grant \[END\_IF\] &lt;-- S7,F27 Process Program VerificationSendProcess Program S7,F28--&gt;Verification Acknowledge 22 S7,F1 should be used only to request permission to transfer a multi-block formatted or unformatted process program. It should not be used toselect a process program. For selecting a process program for execution, the remote command PP-SELECT should be used.

&lt;!-- Page 24 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 48 Host-Initiated Process Program Download  Unformatted:COMMENTS HOST EQUIPMENT COMMENTS \[IF\]Process program is multi-block\[THEN\]Process Program Load Inquire S7,F1 21 --&gt;&lt;--S7,F2 Process Program Load Grant\[END\_IF\]Process Program Send S7,F3--&gt;&lt;--S7,F4 Process Program Acknowledge Large Process Program S7,F37--&gt;Send&lt;--S7,F38 Large Process ProgramAcknowledge &lt;--S13,F3 Open Data Set Request S13,F4--&gt;Open Data Set Data \[START\] repeat until ACKC13 iserror:&lt;--S13,F5 Read Data Set RequestS13,F6--&gt;Read Data set Data \[END\] &lt;--S13,F7 Close Data Set SendS13,F8--&gt;Close Data Set Acknowledge\[IF\]S7,F27 is multi-block\[THEN\]Process Program Verification&lt;--S7,F29 InquireProcess Program S7,F30--&gt;Verification Grant \[END\_IF\] &lt;--S7,F27 Process Program VerificationSendProcess Program S7,F28--&gt;Verification Acknowledge

&lt;!-- Page 25 --&gt;

SEMI E30-1103 © SEMI 1992, 200349 Equipment-Initiated Process Program Download  Formatted:COMMENTS HOST EQUIPMENT COMMENTS &lt;--S7,F25 Formatted Process ProgramRequestFormatted Process Program Data S7,F26--&gt;\[IF\] S7,F27 is multi-block\[THEN\]&lt;--S7,F29 Process Program VerificationInquireS7,F30--&gt; Process Program VerificationGrant\[END IF\]&lt;--S7,F27 Process Program VerificationSendProcess Program VerificationAcknowledge S7,F28--&gt;&lt;--S7,F43 Large Formatted Process ProgramLarge Formatted Process S7,F44--&gt; Program RequestProgram Acknowledge&lt;--S13,F3 Open Data Set Request S13,F4--&gt;Open Data Set Data \[START\] repeat until ACK13 iserror:&lt;--S13,F5 Read Data Set RequestS13,F6--&gt;Read Data Set Data \[END\] &lt;--S13,F7 Close Data Set SendS13,F8--&gt;Close Data SetAcknowledge \[IF\]S7,F27 is multi-block\[THEN\]&lt;--S7,F29 Process Program VerificationInquireProcess Program \[END\_IF\]Verification Grant&lt;--S7,F27 Process Program VerificationS7,F28--&gt; Send Process ProgramVerification Acknowledge

&lt;!-- Page 26 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 50 Equipment-Initiated Process Program Download  Unformatted:COMMENTS HOST EQUIPMENT COMMENTS &lt;--S7,F5 Process Program RequestProcess Program Send S7,F6--&gt; &lt;--S7,F41 Large Process Program RequestLarge Process Program S7,F42--&gt;Program Acknowledge &lt;--S13,F3 Open Data Set Request Open Data Set Data S13,F4--&gt;\[START\] repeat until ACKC13 iserror:&lt;--S13,F5 Read Data Set Request Open Data Set Data S13,F6--&gt;\[END\] &lt;--S13,F7 Close Data Set Send Close Data Set Acknowledge S13,F8--&gt;\[IF\]S7,F27 is multi-block\[THEN\]&lt;--S7,F29 Process Program VerificationProcess Program S7,F30--&gt; InquireVerification Grant \[END\_IF\] &lt;--S7,F27 Process ProgramProcess Program S7,F28--&gt; Verification SendVerification Acknowledge 4.6.6 Scenarios for Recipes4.6.6.1 Recipe Creation, Editing, or DeletionRecipe Created by Operator:COMMENTS HOST EQUIPMENT COMMENTSNew recipe created by operatorat equipmentRcpChangeName = RCPIDRcpChangeStatus = 1 (Created)\[IF\] CEID for New ExecutionRecipe Event enabled\[THEN\]&lt;--S6,F11 Send Event ReportEvent Report Acknowledge S6,F12--&gt;\[END\_IF\]

&lt;!-- Page 27 --&gt;

SEMI E30-1103 © SEMI 1992, 200351 Recipe Edited or Deleted by Operator:COMMENTS HOST EQUIPMENT COMMENTSNew recipe edited, or deletedat equipmentRcpChangeName = RCPIDRcpChangeStatus = 2(Modified) or 5 (Deleted)\[IF\] CEID for ExecutionExecution Recipe Change Eventenabled\[THEN\]&lt;--S6,F11 Send Event ReportEvent Report Acknowledge S6,F12--&gt;\[END\_IF\] Recipe Deletion by the Host:COMMENTS HOST EQUIPMENT COMMENTSRecipe Delete Request S15,F35--&gt;&lt;--S15,F36 Recipe Delete Acknowledge. Therecipe is removed from non-volatile storage. 4.6.6.2 Recipe Directory RequestHost requests a list of identifiers of currently stored recipes.COMMENTS HOST EQUIPMENT COMMENTSGetAttr Request S14,F1--&gt;&lt;--S14,F2 GetAttr Data

&lt;!-- Page 28 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 52 4.6.6.3 Recipe UploadHost-Initiated Recipe Upload:COMMENTS HOST EQUIPMENT COMMENTSRecipe Upload Request S15,F31--&gt;&lt;--S15,F32 Recipe Upload DataLarge Recipe Upload Request S15,F51--&gt;&lt;--S15,F52 Large Recipe Upload Acknowledge Acknowledge may be acceptedand will be performed laterwith completion signaled.When the equipment is ready tosend: &lt;--S13,F1 Send Data Set Send Send Data Set Send S13,F2--&gt;Acknowledge Open Data Set request S13,F3--&gt;&lt;--S13,F4 Open Data Set Data \[START\] repeat untilACKC13 is error:Read Data Set Request S13,F5--&gt;\[END\] &lt;--S13,F6 Read Data Set Data \[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OF DATA"\[Then\]&lt;--S6,F11 Send Event Report successfulEvent Report Acknowledge S6,F12--&gt; upload\[ELSE\]&lt;--S6,F11 Send Event Report bad uploadEvent Report Acknowledge S6,F12--&gt; \[END\_IF\]\[END\_IF\] Close Data Set Send S13,F7--&gt;&lt;--S13,F8 Close Data Set Acknowledge

&lt;!-- Page 29 --&gt;

SEMI E30-1103 © SEMI 1992, 200353 Equipment-Initiated Recipe Upload:COMMENTS HOST EQUIPMENT COMMENTSRCPCMD = Upload\[IF\] multi-block request&lt;--S15,F1 \[THEN\] Recipe Management Multi-block inquireRecipe Management Multi- S15,F2--&gt;block Grant\[END\_IF\]&lt;--S15,F21 Recipe Action RequestRecipe Action Acknowledge S15,F22--&gt;Host requests upload S15,F31--&gt;&lt;--S15,F32 Recipe Upload DataRCPCMD = Upload\[IF\] multi-block request&lt;--S15,F1 \[THEN\]Recipe ManagementRecipe Management S15,F2--&gt; Multi-block InquireMulti-block Grant \[END\_IF\]&lt;--S15,F21 Recipe Action RequestRecipe Action Acknowledge S15,F22--&gt; S15,F51--&gt;Large Recipe UploadRequest&lt;--S15,F52 Large Recipe UploadAcknowledge &lt;--S13,F1 Send Data Set Send Send Data Set Send S13,F2--&gt;Acknowledge Open Data Set Request S13,F3--&gt;&lt;--S13,F4 Open Data Set Data \[START\] repeat untilACKC13 is error:Read Data Set Request S13,F5--&gt;\[END\] &lt;--S13,F6 Read Data Set Data \[IF\]CEID for upload event enabled\[THEN\]\[IF\]ACKC13 is "ERROR: END OF DATA"\[Then\]&lt;--S6,F11 Send Event Report successfuluploadEvent Report Acknowledge S6,F12--&gt; \[ELSE\]&lt;--S6,F11 Send Event Report bad upload Event Report Acknowledge S6,F12--&gt; \[END\_IF\]\[END\_IF\] Close Data Set Send S13,F7--&gt;&lt;--S13,F8 Close Data Set Acknowledge

&lt;!-- Page 30 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 54 4.6.6.4 Recipe DownloadThe Recipe Management Multi-block Inquire/Grant transaction (S15,F1/F2) is required for the transfer of multi-block recipes. However, its use is recommended prior to all downloads, as it provides recipe size to the equipment.NOTE 18: If the data item RCPOWCODE is TRUE in S15,F27, then a pre-existing recipe with the same identifier shall beoverwritten.Host-Initiated Recipe Download:COMMENTS HOST EQUIPMENT COMMENTS\[IF\]Recipe is multi-block\[THEN\] Recipe Management Multi-block Inquire S15,F1--&gt; &lt;--S15,F2 Recipe Management Multi-blockGrant\[END IF\]Recipe Download Request S15,F27--&gt;\[IF\] RCPOWCODE = TRUEdelete any pre-existing recipewith the same identifier beforestoring new recipe\[END\_IF\]&lt;--S15,F28 Recipe Download AcknowledgeLarge Recipe Download S15,F49--&gt;Request\[IF\] RCPOWCODE = TRUEdelete any pre-existing recipewith the same identifier beforestoring new recipe\[END\_IF\]&lt;--S15,F50 Large Recipe DownloadAcknowledge &lt;--S13,F3 Open Data Set Request Open Data Set Data S13,F4--&gt;\[START\] repeat until ACKC13 iserror:&lt;--S13,F5 Read Data Set RequestRead Data Set Data S13,F6--&gt;\[END\] &lt;--S13,F7 Close Data Set SendClose Data Set Acknowledge S13,F8--&gt; \[IF\] multi-block request&lt;--S15,F1 \[THEN\]Recipe Management S15,F2--&gt; Recipe ManagementMulti-block Grant Multi-block Inquire\[END\_IF\]&lt;--S15,F53Recipe Verification SendRecipe Verification S15,F54--&gt;Acknowledge

&lt;!-- Page 31 --&gt;

SEMI E30-1103 © SEMI 1992, 200355 Equipment-Initiated Recipe Download:COMMENTS HOST EQUIPMENT COMMENTSRCPCMD = Download\[IF\] multi-block request&lt;--S15,F1 \[THEN\] Recipe Management Multi-block inquireRecipe Management Multi-block S15,F2--&gt;Grant\[END\_IF\]&lt;--S15,F21 Recipe Action Request Recipe Action Acknowledge S15,F22--&gt;\[IF\]Recipe is multi-block\[THEN\] Recipe Management Multi-block S15,F1--&gt;Inquire&lt;--S15,F2 Recipe Management Multi-blockGrant\[END IF\]Recipe Download Request S15,F27--&gt;\[IF\] RCPOWCODE = TRUEdelete any pre-existing recipewith the same identifier beforestoring new recipe\[END\_IF\]&lt;--S15,F28 Recipe Download AcknowledgeRCPCMD = Download\[IF\] multi-block request&lt;--S15,F1 \[THEN\]Recipe Management S15,F2--&gt; Recipe ManagementMulti-block Grant Multi-block Inquire\[END\_IF\] &lt;--S15,F21 Recipe Action RequestRecipe Action Acknowledge S15,F22--&gt; Large Recipe Download S15,F49--&gt;Requests \[IF\] RCPOWCODE = TRUEdelete any pre-existing recipewith the same identifier beforestoring new recipe\[END\_IF\] &lt;--S15,F50 Large Recipe DownloadAcknowledgeOpen Data Set Data S13,F4--&gt;&lt;--S13,F3 Open Data Set Request START\] repeat until ACKC13 iserror:&lt;--S13,F5 Read Data Set RequestRead Data Set Data S13,F6--&gt;\[END\] &lt;--S13,F7 Close Data Set Send

&lt;!-- Page 32 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 56 Close Data Set Acknowledge S13,F8--&gt;\[IF\] multi-block request\[THEN\]&lt;--S15,F1 Recipe ManagementRecipe Management S15,F2--&gt; Multi-block InquireMulti-block Grant \[END\_IF\] &lt;--S15,F53 Recipe Verification SendRecipe Verification S15,F54--&gt;Acknowledge 4.6.6.5 Recipe VerificationHost requests equipment to verify a recipe that it has stored:COMMENTS HOST EQUIPMENT COMMENTSRecipe Verify Request S15,F29--&gt;Equipment verifies recipe&lt;--S15,F30 Recipe Verify Data 4.7 Material Movement  The material movement capability includes the physical transfer of material (WIP, tools,expendable materials, etc.) between equipment, buffers, and storage facilities. The transfer of material can be per-formed by operators, AGV robots, tracks, or dedicated fixed material handling equipment.4.7.1 Purpose  This capability is limited in implementation, serving to notify the host of the appearance orremoval of material at the equipments ports.4.7.2 DefinitionsPort  A point or area on the equipment at which a change in equipment ownership of material may occur. 4.7.3 Description  This capability consists of alerting the host whenever material is sent or received from any ofthe ports on the equipment. Event-specific information, such as port identification and material identification, alsomay be useful, but definition of these and other related DVVALs are left to the implementation.4.7.4 Requirements  The equipment must supply two CEIDs, one to report when material is sent from any portand the other to report when material is received at any port.4.7.5 ScenariosCOMMENTS HOST EQUIPMENT COMMENTS Material is sent or received atan equipment port.&lt;--S6,F11 Send collection event to host.Host acknowledges. S6,F12--&gt; 4.8 Equipment Terminal Services  Equipment Terminal Services allows the host to display information on theequipments display device or the operator of the equipment to send information to the host.4.8.1 Purpose  Equipment Terminal Services allows the factory operators to exchange information with the hostfrom their equipment workstations.4.8.2 Definitions Message Recognition: a positive action by the equipment operator indicating the operator hasviewed the text of a host initiated message.4.8.3 Detailed Description  The equipment must be capable of displaying information passed to it by the host forthe operators attention. The information, or an indication of a message, must remain on the equipments displayuntil the operator indicates message recognition. Message recognition results in a collection event that informs thehost that the operator has actually viewed the information.

&lt;!-- Page 33 --&gt;

SEMI E30-1103 © SEMI 1992, 200357 The equipment must be capable of passing information to the host that has been entered from the operatorsequipment console. This information is intended for host applications and is not processed by the equipment.The equipment has no responsibility for interpreting any of the data passed to or from the host using this method. 4.8.4 Requirements Any new Terminal Display message sent by the host shall overwrite an unrecognized message at the sameequipment terminal. The equipment must provide a display device capable of displaying at least 160 characters to the operator. The equipment must provide a mechanism for displaying information sent to it by the host. The equipment must provide an indicator to notifythe operator when an unrecognized message ispresent. The equipment must provide a mechanism for theoperator to indicate message recognition (e.g., pushbutton, terminal function). The equipment must provide a means for alphanumeric data entry that can be used by the operator. The equipment must support operator entry of atleast 160 characters per message. The equipment must have a mechanism to sendoperator-entered messages to the host.  The equipment must support single-block messagesas a minimum. Support of multi-block messages isoptional. A Terminal Display message received by theequipment with a zero length TEXT data item shallbe accepted and replace any previous unrecognizedmessage, but shall not itself be considered anunrecognized message. This provides a method ofclearing an unrecognized message and turning offthe unrecognized message indicator. 4.8.5 ScenariosHost sends information to an equipments display device:COMMENTS HOST EQUIPMENT COMMENTS Host sends textual information S10,F3--&gt;to equipment for display to theoperator on terminal x.&lt;--S10,F4 Equipment acknowledges requestto display text. (Equipmentsets unrecognized messageindicator.)Operator indicates messagerecognition.(Equipment clears unrecognizedmessage indicator.)&lt;--S6,F11 Message recognition event.(See Section 4.2.1, Event DataCollection, for details.)Host acknowledges Optional: S6,F12--&gt;&lt;--S10,F1 Operator responds with textvia terminal x.Host acknowledges receipt S10,F2--&gt;of operator text.

&lt;!-- Page 34 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 58 Host sends information to an equipments display device and then overwrites the information before operator recog-nizes message:COMMENTS HOST EQUIPMENT COMMENTS Host sends textual information S10,F3--&gt;to equipment for display tothe operator on terminal x.&lt;--S10,F4 Equipment acknowledges requestto display text. (Equipmentsets unrecognized messageindicator.)Host sends textual information S10,F3--&gt;to equipment for display to theoperator on terminal x. Thismessage overwrites the first onesent by the host since it isstill unrecognized.&lt;--S10,F4 Equipment acknowledges requestto display text. (Equipmentsets unrecognized messageindicator.)Operator indicates messagerecognition. (Equipment clearsunrecognized messageindicator.)&lt;--S6,F11 Message recognition event. (SeeSection 4.2.1, Event DataCollection, for details.)Host acknowledges S6,F12--&gt; Operator sends information to the host:COMMENTS HOST EQUIPMENT COMMENTS&lt;--S10,F1 Operator sends textualinformation via equipmentterminal x.Host acknowledges receipt of S10,F2--&gt;operator initiated message.Optional:Host responds with information S10,F3--&gt;for display to the operatoron terminal x.&lt;--S10,F4 Equipment acknowledges receiptof request to display text.(Equipment sets unrecognizedmessage indicator.)Operator indicates messagerecognition.&lt;--S6,F11 Message recognition event.(See Event data collection fordetails.)Host acknowledges S6,F12--&gt;

&lt;!-- Page 35 --&gt;

SEMI E30-1103 © SEMI 1992, 200359 Host sends a multi-block display message:COMMENTS HOST EQUIPMENT COMMENTS Send information S10,F5--&gt;&lt;--S10,F6 Accepted or denied.\[IF\]Message from host is multi-block and multi-block is notsupported by the equipment,\[THEN\]&lt;--S10,F7 Send Multi-block Not Allowed.\[END\_IF\] 4.9 Error Messages4.9.1 Purpose  Error messages provide the host with information describing the reason for a particular messageor communication fault detected by the equipment.4.9.2 DefinitionsCommunication Fault  Refer to Section 2 for the definition.Message Fault  Refer to Section 2 for the definition. 4.9.3 Detailed Description  The equipment must inform the host that it cannot process a message due to anincorrect: device ID, message stream type, message function, message format, or data format.The equipment must inform the host if the message has more data than it can handle.The equipment must inform the host if the equipments transaction timer expires.The equipment shall treat the above conditions as application-level errors and shall not take any further action onany message in error.Error messages are invoked whenever the equipment detects communication or message faults. 4.9.4 Requirements  Support of all Stream 9 messages.4.9.5 ScenarioMessage Fault Due to Unrecognized Device ID:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;Equipment detects anunrecognized device ID withinthe message from the host.&lt;--S9,F1 Equipment reports to the hostthat an unrecognized deviceID was detected in thereceived message.

&lt;!-- Page 36 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 60 Message Fault Due to Unrecognized Stream Type:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;Equipment detects anunrecognized stream type withinthe message from the host.&lt;--S9,F3 Equipment reports to the hostthat an unrecognized streamtype was detected in thereceived message. Message Fault Due to Unrecognized Function Type:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;Equipment detects an unrecog-nized function type withinthe message from the host.&lt;--S9,F5 Equipment reports to the hostthat an unrecognized functiontype was detected in thereceived message. Message Fault Due to Illegal Data Format:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;Equipment detects illegal dataformat within the message fromthe host.&lt;--S9,F7 Equipment reports to the hostthat illegal data format wasdetected in the receivedmessage. Communication Fault Due to Transaction Timer Timeout:COMMENTS HOST EQUIPMENT COMMENTS Equipment does not receive anexpected reply message from thehost and a transaction timertimeout occurs.&lt;--S9,F9 Equipment reports to the hostthat a transaction timertimeout occurred.

&lt;!-- Page 37 --&gt;

SEMI E30-1103 © SEMI 1992, 200361 Message fault due to data too long:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;Equipment detects that themessage from the host containsmore data than it can handle.&lt;--S9,F11 Equipment reports to the hostthat data too long wasdetected in the receivedmessage. Communication Fault Due to Conversation Timeout:COMMENTS HOST EQUIPMENT COMMENTS Host sends a message. Sx,Fy--&gt;&lt;--Sx,Fy+1 Equipment sends reply.Equipment is now expecting aspecific message from the hostas a result of the previoustransaction. Equipment has notreceived the expected messagefrom the host and aconversation timeout occurs.&lt;--S9,F13 Equipment reports to the hostthat a conversation timeoutoccurred. 4.10 Clock  The clock capability enables hostmanagement of time-related activities and occurrencesassociated with the equipment and across multiplepieces of equipment.4.10.1 Purpose  The purpose of the clock capabilityis to enable time stamping of collection event and alarmreports. Time stamping is useful for resolving relativeorder of event/alarm occurrences and scheduling ofequipment activities by the host.The ability for the host to instruct the equipment to setan internal clock to a specified time value, and for theequipment to request the current date and time, isneeded for effective time management andsynchronization between host and equipment. 4.10.2 DefinitionsClock  Clock is a status variable containing thecurrent value of time at the equipment. Clock may beincluded in report definitions and/or queried separatelyby the host. See SEMI E5 for a full definition of thisvariable data item and its required formatting.TIME  TIME is a data item contained in messagesused by the host to set time at the equipment and by theequipment or host to request the current time from the other. (See SEMI E5 for a full definition of this dataitem.) 4.10.3 Detailed Description  The clock capabilityassumes the existence of a relative time reference onthe equipment. This time reference is used as a basis forupdating the time value of an equipment status variablecalled Clock. The time reference must reflect thecurrent time to within a resolution range of seconds tocentiseconds (refer to the format for Clock in the SEMIE5 Standard). The purpose of time stamping withcentiseconds is to resolve the order in which nearlysimultaneous events occur rather than to provide a moreprecise record of the time of day at which theyoccurred. Where more than one event occurs within agiven period of clock resolution, the centisecondsreported in the time stamps for these events must reflectthe actual order in which the events were detected.Equipment with a clock resolution of less than a secondshould report centiseconds. Otherwise, centisecondsshould be assigned to reflect the relative order in whichevents were detected. Equipment unable to resolve timeto less than a second and unable to reflect the relativeorder in which events were detected may reportcentiseconds as 00.

&lt;!-- Page 38 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 62 The host employs the Date and Time Set Requestmessage (S2,F31) to initialize the value of Clock to thevalue contained in the TIME data item. Similarly, theequipment may employ the Date and Time Requestmessage (S2,F17) to obtain a new initialization time forClock. As before, the value of TIME returned by thehost is used to set Clock. Note, in the event that theprecision of TIME is seconds and that for Clock iscentiseconds, in both cases the initial value of Clockshall contain 00 for its Centisecond digits uponinitialization. Additionally, for any field in TIME that isnot supported by the equipment, the local value of thisfield is equipment dependent. For example, Equipmentthat cannot resolve time to less than a second mightround or ignore centiseconds and always set theCentisecond field to 00. 4.10.4 Requirements The resolution and update rate of the internal timereference must be sufficient to distinguish betweentwo nearly simultaneous collection events and/oralarms. The equipment supplier shall providedocumentation describing the resolution of theinternal time reference. The equipment supplier shall providedocumentation describing how centisecond valuesare assigned, including the case of unresolvablesimultaneous events. 4.10.5 ScenariosEquipment Requests TIME (Optional Scenario):COMMENTS HOST EQUIPMENT COMMENTS &lt;--S2,F17 Equipment requests a time valuefrom the host.Host responds with a TIME value S2,F18--&gt;Equipment sets its internaltime reference to the value ofTIME received from the host. Host Instructs Equipment to Set Time:COMMENTS HOST EQUIPMENT COMMENTS Host instructs equipment S2,F31--&gt;to set its time.&lt;--S2,F32 Equipment sets its internaltime reference to the value ofTIME received from the host andacknowledges completion. Host Requests Equipments Current Time Value:COMMENTS HOST EQUIPMENT COMMENTS Host requests equipment time. S2,F17--&gt;&lt;--S2,F18 Equipment returns its internaltime reference value to thehost.

&lt;!-- Page 39 --&gt;

SEMI E30-1103 © SEMI 1992, 200363 4.11 Spooling  Spooling is a capability whereby theequipment can queue messages intended for the hostduring times of communication failure andsubsequently deliver these messages whencommunication is restored. Spooling is limited toprimary messages of user-selected streams.4.11.1 Purpose  The purpose of spooling is toprovide a method for retaining equipment message datathat might otherwise be lost due to communicationfailure. The motive for producing this functionality is toretain valuable data used to track material and toimprove product quality. The spooling capability fills agap in the SEMI E5 standard. In the past, without aspooling capability, the equipment has typicallydiscarded messages that could not be delivered, orturned messaging off altogether. It is intended that thehost initiate the spool unload process immediatelyfollowing the reestablishment of communications.4.11.2 DefinitionsMaxSpoolTransmit  An equipment constantcontaining the maximum number of messages that theequipment shall transmit from the spool in response toan S6,F23 Transmit Spooled Messages request. IfMaxSpoolTransmit is set to zero, no limit is placed onthe messages sent from the spool. Multi-blockinquire/grant messages are not counted in this total.OverWriteSpool  A boolean equipment constant usedto indicate to the equipment whether to overwrite datain the spool area or to discard further messageswhenever the spool area limits are exceeded.Send Queue  Refers to the queue into whichequipment generated SECS messages are placed inpreparation for transmission to the host.Spool  The spool is an area of non-volatile storage inwhich the equipment stores certain messages thatcannot be delivered to the host (when the equipment isin the NOT COMMUNICATING substate ofCOMMUNICATIONS ENABLED). The spool areacan be thought of as a sequential ring buffer. Theterm spool is also used to denote the action of placingmessages into the spool area.SpoolCountActual  A status variable used to keep acount of the messages actually stored in theequipments spool area. Multi-block inquire/grantmessages are not spooled and not included in thiscount.SpoolCountTotal  A status variable used to keep acount of the total number of primary messages directedto the spool, regardless of whether placed or currentlyretained in the spool. Multi-block inquire/grant messages are not spooled and not included in thiscount.SpoolFullTime  A status variable containing thetimestamp when the spool last became full. If the spoolwas not filled during the last spooling period, this willcontain a time value prior to the currentSpoolStartTime.SpoolStartTime  A status variable containing thetimestamp from when spooling was last activated. 4.11.3 Description4.11.3.1 Spooling State Model  There are two majorstates of spooling: SPOOL INACTIVE and SPOOLACTIVE. SPOOL ACTIVE has two components:SPOOL UNLOAD and SPOOL LOAD. These are eachbroken into substates. A description of all spoolingstates, substates, and applicable state transitionsfollows. The POWER OFF and POWER ON parentstates are common to all equipment subsystems. Theyare shown here to illustrate the retention of spoolingcontext during a power down situation.NOTE 20: Disabling SECS communications does not affectthe current spooling state since no messages are generateduntil communications are subsequently enabled. Spooling iseffectively frozen in this case.POWER OFFThe equipment has lost power for any reason (e.g.,power failure, power switch set to off).POWER ONThe equipment is powered up.SPOOL INACTIVEThis is the normal operating mode. No spooling occurs.The spool area is empty. Primary SECS-II messages aretransmitted normally.SPOOL ACTIVEAll primary SECS-II messages ready for sending andfor which spooling is enabled (see S2,F43) are directedto the spool area. All other primary messages, exceptStream 1, are discarded. The equipment shall attempt tosend any secondary messages that are generated anddiscard these messages should the attempt to send fail.Spool state transitions from SPOOL INACTIVE toSPOOL ACTIVE if the communications state changesfrom COMMUNICATING to NOT COMMUNI-CATING (Communication State Transition Table, #14)or from WAIT CRA to WAIT DELAY(Communication STATE Transition Table, #6).

&lt;!-- Page 40 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 64 Figure 4.11Spooling State Diagram Once communications are established, the host mustinitiate the spool unload sequence to restore fullfunctionality (see below). Since the equipment willdeliver secondary messages, the host may inquire forinformation or send commands as needed.The SPOOL ACTIVE state has two AND states:SPOOL LOAD and SPOOL UNLOAD. This meansthat they operate independently, though sharing dataand some state change stimuli. See Section 3.1 forexplanation of state model terms and notation.SPOOL LOADThe SPOOL LOAD component enters messages intothe spool area. It is divided into two substates: SPOOLNOT FULL and SPOOL FULL. SPOOL NOT FULL isthe default entry substate of the parent state SPOOLLOAD.SPOOL NOT FULLAs primary SECS-II messages are directed to the spoolarea, the equipment shall write the SECS-II messageto the end of the spool. Status variablesSpoolCountTotal and SpoolCountActual shall beincremented each time a message is placed in the spoolarea.SPOOL FULLIn this state, all of the allocated spooling area is filled.Choice of the following options shall be controlled bythe setting of a Boolean equipment constant calledOverWriteSpool. The first message to be dealt with isthat which could not be fit into the spool prior totransition from SPOOL NOT FULL (see transitiontable below). OverWriteSpool is True: The equipment deletes asmany of the oldest records (e.g., SECS-II messages)contained in the spool area necessary to make space forthe new message and then adds the message. Statusvariable SpoolCountTotal shall be incrementedwhenever a message is submitted to the spool area.Status variable SpoolCountActual shall be manipulatedto keep an accurate count of the number of messagescontained in the spool area. For example, if it isnecessary to delete three messages in the spool area tospool one message, SpoolCountActual would havethree subtracted and then one added to the total.OverWriteSpool is False: Any subsequent primarymessages shall be discarded. When such a message isdiscarded, SpoolCountTotal is incremented.SPOOL UNLOADThe SPOOL UNLOAD component of SPOOLACTIVEdeals with movement of messages out of the spool. Ithas an active substate (SPOOL OUTPUT) and apassive substate (NO SPOOL OUTPUT). NO SPOOLOUTPUT is the default entry substate, since theequipment is NOT COMMUNICATING at the timespooling is initiated. When communications betweenequipment and host are restored, there is an opportunityfor the host to recover spooled messages. No action istaken until the host initiates the spool output processvia the S6,F23 (Request Spooled Data). The host hasthe option to either receive the spooled messages (seesubstate TRANSMIT SPOOL) or discard all messagesin the spool (see substate PURGE SPOOL).NO SPOOL OUTPUTIn this state, no messages are removed from the spool.SPOOL OUTPUTThe SPOOL OUTPUT state encompasses the removalof messages from the spool. Its substates are TRANS-MIT SPOOL and PURGE SPOOL.TRANSMIT SPOOLThe host elects to receive all messages contained in thespool area. The equipment is expected to keep track ofthe oldest record (i.e., message) within the spool area.When communications are re-established with the hostand transmission of the spool area is started, the oldestrecord must be the first record transmitted, then thenext oldest record, etc. There is no prioritization ofmessages to be sent from the spool.As each spooled message is successfully transmitted tothe host, it is removed from the spool area uponsuccessful completion of the transaction. Spool-CountActual is decremented as each message isremoved from the spool. The equipment shall transmit

&lt;!-- Page 41 --&gt;

SEMI E30-1103 © SEMI 1992, 200365 messages only from the spool area until all spooledmessages have been completely transmitted to the host.Flow control of the spool transmit process is achievedin two ways. First, only one open transaction on theequipment is allowed during spool unload. Thus, if amessage requires a reply, the equipment shall wait forthat reply before transmitting the next spooled message.Messages which require no reply may be transmittedsequentially as rapidly as the message transfermechanism will allow.The second flow control method is to allow the host tolimit the maximum number of messages sent from thespool in response to the S6,F23 request. An equipmentconstant named MaxSpoolTransmit may be set by thehost to achieve this behavior. If MaxSpoolTransmit isset to five, for example, the equipment will send thefirst five messages from the spool and then transition tothe NO SPOOL OUTPUT state, awaiting the nextS6,F23 request. There is no event report generatedwhen MaxSpoolTransmit is reached. The host isresponsible for determining this situation by a)counting the messages received, b) timing out waitingfor the next message, c) inquiring to the equipment forthe curent value of the SpoolCountActual statusvariable, or d) some combination of the above. IfMaxSpool-Transmit is set to zero, the spool shall betransmitted completely in response to S6,F23.Normal spooling continues during the spool transmitprocess. If the SPOOL LOAD component shouldtransi-tion to SPOOL FULL, it shall not have any effecton the SPOOL UNLOAD component. Once full, thespool cannot make the transition back to SPOOL NOTFULL except via the SPOOL INACTIVE state. Spacemade available due to the spool unload process shallnot be used in this case. When a multi-block message is to be transmitted fromthe spool, any required inquire/grant transaction shallbe initiated. If the hosts response denies permission tosend the multi-block message, the equipment shall dis-card that message and continue with the transmit pro-cess. This sequence shall count as one message in theMaxSpoolTransmit count.There is one area where SPOOL LOAD and SPOOLUNLOAD may interact: When the spool is full andOverWriteSpool is True. During the spool transmit pro-cess, spooled messages are being removed and new pri-mary messages are being written to the spool. Thesenew messages are overwriting the oldest messagesavailable, unless the unload process has freed sufficientspool space. There is a possibility that the unload andoverwrite processes may compete for control of thesame message area. For example, if the spool holdsmessages ABCDE, with A oldest and E newest, Amight be sent to the host, B (and the space from A)overwritten by the new message F, C sent to the host, Dand E (and the space from message C) overwritten byG, etc. The loss of continuity may be disorienting tothe host program receiving the messages. It is expectedthat the unload process will be fast relative to thegeneration of new messages, so that this occurrencewill be rare.Should a communication failure occur during the spooltransmit process, spooling shall continue as before thetransmit process began. However, the spool unloadsequence shall terminate (i.e., transition to NO SPOOLOUTPUT will occur  see transition table below).PURGE SPOOLThe equipment shall discard all messages in the spooland, when the spool is empty, zero SpoolCountActual.

&lt;!-- Page 42 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 66 Spooling State TransitionsA table follows detailing all spooling state transitions as presented in the state transition diagram. Table 4.11 Spooling State Transition # Current State Trigger New State Action Comment1 SPOOLINACTIVECommunicationstate changes fromCOMMUNICAT-ING to NOTCOMMUNICAT-ING or fromWAIT CRA toWAIT DELAYand Enable Spoolis true. SPOOLACTIVESpoolCountActual andSpoolCountTotal are ini-tialized to zero. Any opentransactions with the hostare aborted. SpoolStart-Time (SV) is set to currenttime. Alert the operatorthat spooling is active. The default state in each AND substateis entered. The message which couldnot be sent remains in the send queueand is dealt with in Spool Active state.The collection event SpoolingActivated has occurred. 2 SPOOL NOTFULLMessage generatewhich will not fitinto spool area. SPOOLFULLSpoolFullTime (SV) is setto current time. Alert theoperator that spool is full. The message which would not fit intothe spooling area is dealt with after thetransition. No collection event isgenerated.3 SPOOLOUTPUTSpool areaemptied.SPOOLINACTIVESpooling process dis-abled. Alert the operatorthat spooling has beenterminated. The collection event SpoolingDeactivated has occurred. Transitionfrom the AND substate Spool Unloadcomponent occurs.4 NO SPOOLOUTPUTS6,F23 receivedw/RSDC = 1.PURGESPOOLNo action. Initiates purging process. No collectionevent is generated since this is basedon host request.5 NO SPOOLOUTPUTS6,F23 receivedw/RSDC = 0.TRANSMITSPOOLNo action. Initiates message transmission fromspool. No collection event is generatedsince this is based on host request.6 TRANSMITSPOOLCommunicationfailure orMaxSpoolTransmitreached. NO SPOOLOUTPUTSpool transmissionprocess suspended.If communications failure, the eventSpool Transmit Failure has occurred.No collection event generated forMaxSpoolTransmit reached.7 POWER ON Equipment powersourcediscontinued. POWEROFFNo action. Spooling context has been maintainedin non-volatile storage prior to thistransition.8 POWER OFF Equipment powersource restored.POWER ON Spooling context restoredfrom non-volatilememory. If spooling were active prior to powerdown, it shall continue. If TRANSMITSPOOL were active at powerdown,transition #6 is expected to followsince communications state is initiallyNOT COMMUNICATING. 4.11.3.2 Enabling Spooling  The equipment shallprovide the host with the ability to enable and disableSpooling for any message (except Stream 1 messages(i.e., S1,F1, S1,F13)) via the S2,F43/F44 transaction.Spooling may be enabled for an entire Stream, forindividual messages within a stream, or for anycombination of the two. Streams and Functions notreferenced in this message are not spooled. Spoolingcan be totally disabled by sending an S2,F43 with a zero length list for the first item (see S2,F43 definition).In addition, the equipment shall provide an equipmentconstant, EnableSpooling, to allow setting the enable ordisable of spooling. NOTE: When EnableSpooling isfalse, the SPOOL state cannot transition fromSPOOLINACTIVE to SPOOLACTIVE. ChangingEnableSpooling does not change the spool state, purgethe spool or change streams and functions enabled forspooling. Once the equipment is SPOOL ACTIVE,the host must initiate the spool unload sequence to

&lt;!-- Page 43 --&gt;

SEMI E30-1103 © SEMI 1992, 200367 restore full functionality even though EnableSpooling has changed to false.4.11.4 Requirements  The following items arerequired to support the spooling capability: At a minimum, the equipment shall reserve forspooling non-volatile storage with sufficientcapacity to store all of the primary SECS-IImessages that would occur during a normalprocessing cycle. While spooling is enabled, the equipment shall replyto primary messages sent by the host with theappropriate secondary message. Secondary messages which cannot be deliveredshall be discarded, never spooled. All spooling-related status variables and setupinformation (as per S2,F43) must be stored in non-volatile memory along with any other information required for the potential unloading of the spoolarea after a power loss. Upon powerup, the equipment shall retain allspooling context from the time the equipment waslast shutdown or reset. This means that spooling, ifpreviously active, continues upon system powerup. The Equipment must reject any message thatattempts to set Spooling for Stream 1. If a multi-block primary message need for theinquire/grant is to be sent during SPOOL ACTIVE,the message should be placed in the spool and thegrant resolved during spool transmit. 4.11.5 ScenariosDefine the Set of Messages to be Spooled:This Scenario is used to set up the list of messages that the equipment should spool (or by defining none, to disablespooling).COMMENTS HOST EQUIPMENT COMMENTS Host defines messages to be S2,F43--&gt;spooled in case of communicationsfailure.&lt;--S2,F44 Equipment acknowledges setup. Define the Maximum Number of Messages to Send in Response to S6,F23:This Scenario sets the value of the equipment constant MaxSpoolTransmit.COMMENTS HOST EQUIPMENT COMMENTS Host sends value for S2,F15--&gt;equipment constant MaxSpoolTransmit.&lt;--S2,F16 Equipment acknowledgesequipment constant change.

&lt;!-- Page 44 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 68 Request or Delete Spooled Data (MaxSpoolTransmit = 0):This Scenario is used to initiate the transfer of the spooled data from the equipment to the host or to purge the spool.COMMENTS HOST EQUIPMENT COMMENTS Communications were lost and then re-established.Host requests data thatincludes spool-relatedstatus variables. S1,F3--&gt;&lt;--S1,F4 Send status data.NOTE: S1,F3 is one ofvarious methods thatcould be used. Requestor delete spooled data. S6,F23--&gt;&lt;--S6,F24 Request spooled dataacknowledgement.\[IF\] RSDC = 0 (Spool datarequested.)\[THEN\]The appropriate Streams andFunctions are used to transmitthe spooled data to the host.\[ELSE\_IF\] RSDC = 1\[THEN\]Spool data discarded.\[END\_IF\]&lt;--S6,F11 Spooling Deactivated eventreport sent.Acknowledge S6,F12--&gt;

&lt;!-- Page 45 --&gt;

SEMI E30-1103 © SEMI 1992, 200369 Request or Delete Spooled Data (MaxSpoolTransmit &gt; 0):This Scenario shows the affect of MaxSpoolTransmit &lt; SpoolCountActual on the Spool Transmit process. For thepurpose of illustration, the value of MaxSpoolTransmit is 5 and the SpoolCountActual is 8 (at the timecommunications are re-established). No messages are added to the Spool during the transmit process.COMMENTS HOST EQUIPMENT COMMENTS Communications were lost and then re-established.Host requests data thatincludes spool-relatedstatus variables. S1,F3--&gt;&lt;--S1,F4 Send status data (e.g.SpoolCountActual = 8, MaxSpool-Transmit = 5).Host requests spooled data(RSDC=0). S6,F23--&gt;&lt;--S6,F24 Request spooled dataacknowledgement.The five oldest messages in theSpool are transmitted to thehost. Spooling remains active.Host recognizes that MaxSpoolTransmitis reached.Host requests additional S6,F23--&gt;spooled data (RSDC = 0).&lt;--S6,F24 Request spooled dataacknowledgement.The three remaining messagesare transmitted from the spool.&lt;--S6,F11 Spooling Deactivated eventreport sent.Acknowledge S6,F12--&gt; 4.12 Control  The control-related capabilities allowfor configuration and manipulation of the control statemodel. In this way the host and/or user may modify theequipments control-related behavior.4.12.1 Purpose  This section complements theCONTROL state model description found in Section3.3. It defines the requirements for implementation ofthis model.4.12.2 Definitions  None.4.12.3 Description4.12.3.1 Control Configuration  The control statemodel has two areas of configuration. The first area isrelated to default entry states of the state model. Uponsystem initialization, the system must activate either theON-LINE or OFF-LINE state. Upon entry to OFF-LINE, the system must in turn activate one of thesubstates of OFF-LINE (EQUIPMENT OFF-LINE,ATTEMPT ON-LINE, or HOST OFF-LINE). In boththese cases, the user shall configure the equipment tomake the choices appropriate to that factory. Entry tothe ON-LINE state also involves a choice of substates. In this case, the equipment reads the front panelREMOTE/LOCAL switch to determine the appropriatestate.The second area of configuration involves the transitionto be made if the ON-LINE attempt should fail. Themodel may be set to transition to either HOST OFF-LINE or to EQUIPMENT OFF-LINE should the S1,F1transaction be terminated unsuccessfully. ChoosingHOST OFF-LINE allows the host to cause theequipment to transition to ON-LINE when the hostbecomes ready. This is accomplished via the messageS1,F17 (see below). 4.12.3.2 Changing Control State  In the control statemodel, both the operator and the host can affect thecontrol state. The operator retains ultimate authority toset the equipment OFF-LINE by means of an OFF-LINE switch mechanism. The operator also can causethe equipment to attempt to go ON-LINE. Under somecircumstances, the host can initiate the transition toON-LINE.If the operator requests ON-LINE, the equipment willsend an S1,F1 to the host. The host may confirm ON-

&lt;!-- Page 46 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 70 LINE with an S1,F2 or deny ON-LINE by sending anS1,F0. 23 When the equipment is ON-LINE, the host may requestthat it transition to OFF-LINE. It will transition into theHOST OFF-LINE substate. When the equipmentHOST OFF-LINE state is active, the host may requestthat it transition to ON-LINE. The combination of thesetwo allow the host to cycle the equipment between ON-LINE and OFF-LINE.Only the operator may change the ON-LINE substate(REMOTE or LOCAL). 4.12.4 Requirements The equipment shall supply a method forconfiguring the default CONTROL state to beactivated upon system initialization. The choice ofstates must be among ATTEMPT ON-LINE,EQUIPMENT OFF-LINE, HOST OFF-LINE, andON-LINE. The equipment shall supply a method forconfiguring which state should be activated whenthe attempt to go ON-LINE fails. The option is atransition to either the HOST OFF-LINE state or theEQUIPMENT OFF-LINE state. The equipment shall supply a momentary switchwhich will initiate the transition to OFF-LINE andanother which will begin the process to go ON-LINE. Discrete position switches shall not be used.These should be designed so that they may not beactuated simultaneously. The switch may bemounted on the front panel or be available viakeyboard input at the operator console. The equipment shall supply a discrete two-positionswitch which the operator may use to indicate thedesired substate for ON-LINE (i.e., REMOTE orLOCAL). The switch may be mounted on the frontpanel or be available via keyboard input at theoperator console. If implemented in software, thissetting shall be retained in non-volatile storage. The equipment shall supply an indicator on the frontpanel which displays the full identification of thecurrent CONTROL state/substate (e.g., OFF-LINE/ATTEMPT ON-LINE). This may beaccomplished either with labelled display lights or 23 If there is no host response (i.e. reply timeout), the equipment shalltreat it as a denial. via the operator console display. It is recommendedthat this indicator be visible at all times. The equipment shall supply a status variable thatcontains the current state/substate of the CONTROLstate model. Whenever the ON-LINE/REMOTE state is activeand the operator issues a command to theequipment, the equipment shall cause an operatorcommand issued event.

&lt;!-- Page 47 --&gt;

SEMI E30-1103 © SEMI 1992, 200371 4.12.5 Scenarios4.12.5.1 Operator-Initiated ScenariosHost Accepts ON-LINE:COMMENTS HOST EQUIPMENT COMMENTS Operator actuates ON-LINE switch when equipment OFF-LINE state is active. &lt;--S1,F1 Equipment requests ON-LINE.Host grants ON-LINE. S1,F2--&gt;&lt;--S6,F11 Control State LOCAL (orREMOTE) event.Acknowledge. S6,F12--&gt; Host Denies ON-LINE:COMMENTS HOST EQUIPMENT COMMENTS Operator actuates ON-LINE switch when equipment OFF-LINE state is active. &lt;--S1,F1 Equipment requests ON-LINE.Host denies ON-LINE. S1,F0--&gt; Operator Sets OFF-LINE:COMMENTS HOST EQUIPMENT COMMENTS Operator actuates OFF-LINE switch when equipment ON-LINE state is active. &lt;--S6,F11 Equipment requests OFF-LINEevent.Acknowledge. S6,F12--&gt; Operator Sets REMOTE:COMMENTS HOST EQUIPMENT COMMENTS Operator sets switch from LOCAL to REMOTE. &lt;--S6,F11 Control State REMOTE event.Acknowledge. S6,F12--&gt; Operator Sets LOCAL:COMMENTS HOST EQUIPMENT COMMENTS Operator sets switch from REMOTE to LOCAL. &lt;--S6,F11 Control State LOCAL event.Acknowledge. S6,F12--&gt;

&lt;!-- Page 48 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 72 4.12.5.2 Host-Initiated ScenariosHost Sets OFF-LINE:COMMENTS HOST EQUIPMENT COMMENTS Host requests OFF-LINE. S1,F15--&gt;\[IF\] Equipment is OFF-LINE\[THEN\]:&lt;--S1,F0 Equipment does not processrequests.\[ELSE\] Equipment ON-LINE&lt;--S1,F16 Equipment acknowledges requestand transitions to OFF-LINE.&lt;--S6,F11 Equipment OFF-LINE event.Acknowledge S6,F12--&gt;\[END\_IF\] Host Sets ON-LINE:COMMENTS HOST EQUIPMENT COMMENTS Host requests ON-LINE. S1,F17--&gt;\[IF\] Equipment is HOST OFF-LINEstate not active.\[THEN\]&lt;--S1,F18 Equipment denies request(ONLACK = 1).\[ELSE\] Equipment HOST OFF-LINEstate is active.&lt;--S1,F18 Equipment acknowledges request(ONLACK != 1).&lt;--S6,F11 Control state LOCAL (orREMOTE) event.(only if ONLACK = 0)Acknowledge S6,F12--&gt;\[END\_IF\]

&lt;!-- Page 49 --&gt;

SEMI E30-1103 © SEMI 1992, 200373 5 Data ItemsThe following sections specify which data items andvariable data items are required.Except for the specified format restrictions, all dataitems and variable data items follow the definitionscontained in SEMI E5. 5.1 Data Item Restrictions  The following is a subsetof the data items used by SECS-II messages specifiedin this standard. Each data item listed in this section isrestricted in its SEMI E5-defined usage. Most arelimited to a single format from their standard list offormats. Data items used by SECS-II messagescontained in this document, but which have norestrictions are not duplicated here.NOTE 21: One data item, ALCD, is restricted in other than itsformat. Take note of this restriction as described below.NOTE 22: The equipment supplier shall document anyrestrictions on length or format of CPNAME. Suppliers shalldocument the behavior of spaces in a CPNAME. Themaximum length of CPNAME shall be 40. This changebecame effective in September 1995.ACKC7A Format: 51ALCD Only bit 8 (alarm set/cleared) of thebinary byte is used. Bits 17,denoting alarm category, are notused.ALID Format: 5()CCODE Format: 20, 32, 34, 52, 54CEID Format: 5()CPNAME Format: 20DATAID Format: 5()DATALENGTH Format: 5()ECID Format: 5()LENGTH Format: 5()PPID Format: 20RCMD Format: 20REPGSZ Format: 5()RPTID Format: 5()SEQNUM Format: 52SMPLN Format: 5()SVID Format: 5()TEXT Format: 20TOTSMP Format: 5()TRID Format: 5()VID Format: 5() 5.2 Variable Item List  The following variable dataitems from the Variable Item Dictionary in SEMI E5are required. Format restrictions are noted.DVVALs: AlarmID Format: 5()EventLimitLimitVariablePPChangeName Format: 20PPChangeStatusPPErrorRcpChangeNameRcpChangeStatusTransitionTypeECVs:EstablishCommunicationsTimeoutMaxSpoolTransmitOverWriteSpoolTimeFormatSVs:AlarmsEnabledAlarmsSetClockControlStateEventsEnabledPPErrorPPExecName Format: 0,20PPFormatPreviousProcessStateProcessStateRcpExecNameSpoolCountActualSpoolCountTotalSpoolFullTimeSpoolStartTime 6 Collection EventsTable 6.1 provides the list of collection events requiredto support the capabilities addressed within thisstandard. Also shown are typical variable data thatwould most likely be included in the associatedcollection event report and a reference to the eventtrigger and to the appropriate section of the standard.This list does not represent all events that might beneeded to properly monitor/control equipment. Manyevents are unique to the specific equipmentcharacteristics. The needed additions are a matter forother standards and for collaboration betweenequipment supplier and user.See Section 5.2 for further detail of variable data items.

&lt;!-- Page 50 --&gt;

SEMI E30-1103 © SEMI 1992, 2003 74 Table 6.1 GEM-Defined Collection EventsEvent Designation Typical Variable Data ReferenceControl-Related Events: Section 3.3Equipment OFF-LINE ControlState, Clock ON-LINE-&gt;OFF-LINEControl State LOCAL ControlState, Clock REMOTE-&gt;LOCAL orOFF-LINE-&gt;LOCALControl State REMOTE ControlState, Clock LOCAL-&gt;REMOTE orOFF-LINE-&gt;REMOTEOperator Command Issued OperatorCommand Operator Activity while REMOTE stateis active.Processing-Related Events: Note: Any transition in the implementedprocessing state model must have acorresponding collection event. Section 3.4 Processing Started Clock, PreviousProcessState Entry into EXECUTING state.Processing Completed Clock, PreviousProcessState Normal exit of EXECUTING state.Processing Stopped Clock, PreviousProcessState Result of STOP command from host oroperator.Processing State Change Clock, ProcessState,PreviousProcessStateAny processing state transition. Alarm Management Events: Section 4.3AlarmnDetected Clock, AlarmID, AlarmsSet, Associatedvariable dataALARMnCLEAR-&gt;ALARMnSET AlarmnCleared Clock, AlarmID, AlarmsSet ALARMnSET-&gt;ALARMnCLEAREquipment Constant Events: Section 4.5Operator Equipment Constant Change ECID Operator activityLimits Monitoring: Section 4.2.4Limit Zone Transitionn (separate CEIDper variable)Clock, LimitVariable, EventLimit,Transition TypeEntry into BELOW LIMIT or ABOVELIMIT states.Process Program Management Events: Section 4.6Process Program Change PPChangeName, PPChangeStatus Operator activityProcess Program(s) Selected PPExecName Operator/Host activityMaterial Movement Events: Section 4.7Material Received ClockMaterial Removed ClockSpooling Events: Section 4.11Spooling Activated SpoolStartTime SPOOL INACTIVE-&gt;SPOOL ACTIVESpooling Deactivated SpoolCountTotal SPOOL OUTPUT-&gt;SPOOLINACTIVESpool Transmit Failure Clock, SpoolCountActualSpoolCountTotalTRANSMIT SPOOL-&gt;NO SPOOLOUTPUTTerminal Services Events: Section 4.8Message Recognition Clock OperatorNew Execution Recipe Event RcpChangeName, RcpChangeStatus Section 4.6.2.2Execution Recipe Change Event RcpChangeName, RcpChangeStatus Section 4.6.2.2Successful Upload DataSetName Sections 4.6.5.3, 4.6.6.3Bad Upload DataSetName Sections 4.6.5.3, 4.6.6.3