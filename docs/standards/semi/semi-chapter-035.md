---
title: "E40-0705 - © SEMI 1995, 2005..."
description: "SEMI标准文档"
sidebar_label: "E40-0705 - © SEMI 1995, 2005..."
sidebar_position: 35
tags: ['SEMI', 'Standard']
custom_props:
  source_type: 'pdf'
  source_file: 'semi-chapter-035.pdf'
  chapter: 35
  page_count: 50
---

import PdfDownloadCard from '@site/src/components/PdfDownloadCard';

<PdfDownloadCard
  pdfLink="/pdfs/semi/035.pdf"
  pdfSize="N/A"
  title="E40-0705 - © SEMI 1995, 2005..."
  description="SEMI标准文档，共50页"
/>



&lt;!-- Page 1 --&gt;

SEMI E40-0705 © SEMI 1995, 200513 1 PROCESS JOBACTIVEEXECUTINGSETTING UP 3 5 PROCESSING WAITING FORSTARTPAUSE 910 11 POST ACTIVE 13 15 12 H 8414 POOLED/QUEUED PAUSING PAUSED STOPPING ABORTING STOPPED ABORTED18 16 17 6 2 PROCESSCOMPLETE 7 Figure 4Process Job State Model 8.3.2.6 PAUSED (PAUSE Substate)  While the PR Job is in the PAUSED substate all processing resourceactivity has ceased. The PR Job is awaiting a RESUME (or STOP or ABORT) command.8.3.2.7 PAUSING (PAUSE Substate)  While the PR Job is in the PAUSING substate, the processing resourcecontinues to the first safe, continuable pausing place and then ceases activity. The activity may only cease at pointsthat allow for resumption of the activity such that material integrity is maintained and the processing goals areaccomplished.8.3.2.8 PROCESSING (EXECUTING Substate)  While the PR Job is in the PROCESSING substate, theprocessing resource is doing the actual material processing using the equipment recipe(s) specified by the PR Job.8.3.2.9 PROCESS COMPLETE (POST ACTIVE Substate)  While the PR Job is in the PROCESS COMPLETEsubstate the processing resource has completed processing all material specified by the PR Job. When all materialremoved from the processing resource, processing resource performs any required post-conditioning. Post-conditioning includes all operations in the processing resource after material departure, which are required by therecipe.8.3.2.9.1 In cases where the process job is superseded by another process job on the same material and post-conditioning is not required, the first job terminates successfully while the material is still present. If post-conditioning is required, the second job may not supersede and remains on the queue.8.3.2.10 QUEUED/POOLED  While the PR Job is in the QUEUED/POOLED substate, the process job has beenaccepted by the processing resource through a PR Job Create/Acknowledge transaction (such as PRJobCreate,PRJobCreateEnh, and PRJobMultiCreate) and is awaiting execution. One or more jobs may be in this statedepending upon specific equipment capabilities. That is, if equipment does not support job queuing, then only onePR Job may be in this state at a time. If equipment does support job queuing, then the number of jobs that may be inthis state must at least be equal to the number of load ports on the equipment. Advanced equipment job manage-ment capabilities require multiple jobs (greater than two) be in this state per load port.

&lt;!-- Page 2 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 14 8.3.2.10.1 The order that jobs become active is dependent upon whether the equipment supports job queuing and/orjob pooling. Example methods for job activation include FIFO (first-in/first-out) order, material arrival order, andhost ordering of jobs (provided by additional services). The equipment may support only one method of selectingjobs for activation, or more than one method allowing only one method to be used at a time or more than onemethod to be used at a time.8.3.2.10.2 All process jobs pass through this state. If the processing resource supports queuing/pooling, jobs mayremain in this state for prolonged periods. In any case, a process job remains queued/pooled until the materialpositions (of the processing resource) needed for the process are available or are already occupied by the material tobe processed.8.3.2.11 STOPPING (ACTIVE Substate)  While the PR Job is in the STOPPING substate, the processing resourceis performing a stop procedure to terminate processing in an orderly manner. It is the responsibility of the processingresource to cease the current activity at the next safe, convenient point, preserving material integrity. For processingequipment this may require sending all related substrates to its output destination. This implies that each material isprocessed as specified in the recipe or not at all.8.3.2.12 WAITING FOR START (EXECUTING Substate)  The substate WAITING FOR START is used only inmanual start process jobs. It is entered once SETUP is complete and a PR Job Start Process has not yet beenreceived by the processing resource. Manual start is defined by the supervisor in PR Job Create.8.3.2.12.1 The job remains in this state, ready to process the material, until the PR Job Start Process is received orAbort or Stop terminates the job.8.3.2.13 POST ACTIVE  This is the parent state of those states that refer to the final state (completion) of theprocess jobs. Process jobs that have completed, stopped or aborted should remain in this state until the trigger totransition to extinction is detected (see Table 1). If there is no Control Job associated with the process job, as in thecase of the inline stepper/scanner, the process job should remain until all material associated with the process job hasleft the equipment or a process job specifying the same material replaces it.8.3.2.14 STOPPED (POST ACTIVE substate)  This is the final state for those jobs that have been in theSTOPPING state.8.3.2.15 ABORTED (POST ACTIVE substate)  This is the final state for those jobs that have been in theABORTING state.8.3.3 Process Job State Transitions  The detailed state definitions are defined in Table 1.Table 1 Process Job State Transition Table # Current State Trigger New State Action(s)1 (no state) The processing resource accepts aProcess Job create request.QUEUED/ POOLED The job is placed the job queue/pool.Acknowledge the Process Job creation. 2 QUEUED/POOLEDThe processing resource has beenallocated to the Process Job.SETTING UP The job is removed from the queue/pool.PR Job Setup event is triggered.All required resource preconditioning isperformed.When job material arrives all materialpreparation is performed.3 SETTING UP Job material is present AND theprocessing resource is ready tostart the process job ANDPRProcessStart attribute is not set. WAITING FORSTARTPR Job Waiting for Start event is triggered. 4 SETTING UP Material is present and ready forprocessing. PRProcessStartattribute is set. PROCESSING PR Job Processing event is triggered.Material is processed. 5 WAITING FORSTARTJob Start directive PROCESSING PR Job Processing event is triggered.Material is processed.

&lt;!-- Page 3 --&gt;

SEMI E40-0705 © SEMI 1995, 200515 # Current State Trigger New State Action(s)6 PROCESSING Material processing completed. PROCESSCOMPLETEPR Job Processing Complete event istriggered.The processing resource performs allrequired resource post-conditioning.Await material departure.7 Any POSTACTIVE sub-state Job material departs from theequipment OR the process jobbecomes extinct because theprocess job is replaced by anotherprocess job that specifies the samematerial when no control job isused. (Extinction) PR Job Complete event is triggered. Theprocess job is deleted. 8 EXECUTING The processing resource initiated aprocess pause action.(it received a PAUSE command orinitiated an internal pause) PAUSING The processing resource pauses at the firstconvenient time. 9 PAUSING The processing resource pausedthe job.PAUSED None. 10 PAUSE The processing resource resumedthe job.EXECUTING The processing resource resumes theactivity that was paused.11 EXECUTING The processing resource initiated aprocess stop action.(it received a STOP command orinitiated an internal stop) STOPPING The processing resource stops the currentexecution activity at the first convenienttime. 12 PAUSE The processing resource initiated aprocess stop action.(it received a STOP command orinitiated an internal stop) STOPPING The processing resource stops the currentexecution activity at the first convenienttime. 13 EXECUTING The processing resource initiated aprocess abort action.(it received an ABORT commandor initiated an internal abort) ABORTING The processing resource terminates thecurrent execution activity immediately. 14 STOPPING The processing resource initiated aprocess abort action.(it received an ABORT commandor initiated an internal abort) ABORTING The processing resource terminates thecurrent execution activity immediately. 15 PAUSE The processing resource initiated aprocess abort action.(it received an ABORT commandor initiated an internal abort) ABORTING The processing resource terminates thecurrent execution activity immediately. 16 ABORTING The abort procedure is completed.For some equipment, substrates aremoved out into a safe location aspart of the error recovery. ABORTED 17 STOPPING The stop procedure is completedand all material is in a safecondition. STOPPED 18 QUEUED/POOLEDCANCEL, ABORT, orSTOP command received.(no state) Remove the process job from thequeue/pool.PR Job Complete event is triggered.Delete the process job.

&lt;!-- Page 4 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 16 9 Object Definitions9.1 Processing management defines one standard object, the Process Job.9.2 Process Job Object Definition  The process job is a dynamic object created by the processing resource asrequested by the supervisor. It tracks progress of the operations required and is deleted by the processing resourceautomatically upon completion. The process job is uniquely identified by the PRJobID attribute. The object attributenotation used in the table below is described in Conventions, 5.2.9.2.1 The attributes in Table 2 shall be accessible using Object Services Standard (SEMI E39).Table 2 Process Job Attributes Attribute Name Definition Rqmt Access FormObjID An identifier for the service user. It is set when theprocess job is created.Y RO Text ObjType The object type. Y RO Text:PROCESSJOBPauseEvent List of event identifiers that cause the equipment toautomatically transition to the PAUSING/PAUSEDstates when one of the listed events is triggered. N RO List of:EventID PRJobState A unique sub-state of the job according to the processjob state model in Figure 4.Y RO Enumerated:QUEUED/POOLEDSETTING UPWAITING FOR STARTPROCESSINGPROCESS COMPLETEPAUSINGPAUSEDSTOPPINGABORTINGSTOPPEDABORTEDPRMtlNameList List of identifiers of the material being processed. Y RO List of:PRMtlNamePRMtlType Identifies the type of material being processed. Y RO EnumeratedPRProcessStart Indicates that the processing resource start processingimmediately when ready.N RO Boolean:TRUE  Automatic startFALSE  Manual startPRRecipeMethod Indication of recipe specification type, whether usingis applied and which method is used.Y RO Enumerated:Recipe onlyRecipe with Variable TuningRecID Identifier of the recipe applied. Y RO TextRecVariableList List of variables supporting a recipe method. N RO List of: RecipeVariable 9.2.2 A number of the ProcessJob attributes are composite data types. The constituent data is defined in Table 3.Table 3 Attribute Data Definitions Data Itentifier Description FormPRMtlName Textual identifier of the material being processed. TextRecipeVariable Variables supporting a recipe method. Structure composed of:RecipeVarNameRecipeVarValueRecipeVarName The name of the recipe variable. TextRecipeVarValue Value of the recipe variable. Depends on variable

&lt;!-- Page 5 --&gt;

SEMI E40-0705 © SEMI 1995, 200517 10 Messaging Services Detail10.1 This section defines the messaging services required to implement the processing management concepts. Themessages were introduced in 8.1. These services are independent of the messaging protocol used. They may bemapped to SECS-II (SEMI E5) or to other comparable protocols.10.1.1 These messaging services define the messages to be used, the nature of the parameters contained within themessages, and data type of the parameters. Not defined here is the internal structure of the actual messages astransferred, including order of the parameters and how various data structures and data types are represented.10.1.2 The service message notation used in the tables below is described in Conventions, 5.3.10.2 Service List  The following messages are exchanged between host and equipment for the purpose ofaccomplishing processing management tasks.Table 4 Service List Message Name Type DescriptionPRGetAllJobs R Get a list of the jobs and their states for all jobs which have not completed.PRGetSpace R Get the number of jobs which can currently be created on the resource.PRJobAlert N Notification by the processing resource that the process job is setting up, processing,completed process, or that the job is completed.PRJobCommand R Command which affects the process job.PRJobCreate R Supervisor (service-user) request that a process job be performed.PRJobCreateEnh R User request for job to be done. User assigns a unique job identifier.PRJobDequeue R Removes (deletes) process job(s) from the queue.PRJobEvent N Notification by the processing resource that a process-related event has occurred.PRJobMultiCreate R Create several jobs which may be dissimilar. User assigns unique job identifiers.PRJobSetRecipeVariable R User request for setting a new value to one of more recipe variable parameters.PRJobSetStartMethod R Create a set of similar process jobs. User assigns unique job identifiers.PRSetMtrlOrder R Request the service to use a specific methodology for processing order. 10.3 Parameter DictionaryTable 5 Parameter Dictionary, Part 1 Parameter Name Definition Form: Possible ValuesCmdParameter Parameter supporting a command type. Structure composed of:CmdParmNameCmdParmValueCmdParmName The name of the parameter. TextCmdParmValue Value of the parameter. Varies per parameter

&lt;!-- Page 6 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 18 Parameter Name Definition Form: Possible ValuesErrorCode Contains the code for the specific error found. Enumerated:PRJobCreate, PRJobCreateEnh,PRJobMultiCreate:Parameters improperly specifiedInsufficient parameters specifiedUnsupported option requestedBusy (no queueing or queue full)PRJobCreateEnh, PRJobMultiCreate:Object identifier in usePRJobCommand:Parameters improperly specifiedInsufficient parameters specifiedUnsupported option requestedCommand not valid for current statePRJobComplete:No material alteredMaterial partially processedAll material processedRecipe specification related errorFailed during processingFailed while not processingFailed due to lack of materialJob abortedJob stoppedJob cancelledErrorText Text in support of the error code. TextPRAck Indicates whether the activity was successful. Boolean:TRUE  SuccessfulFALSE  UnsuccessfulPRCmdName Indicates which process job command to perform. Text:ABORTSTOPCANCELPAUSERESUMESTARTPROCESSPREventData Data related to the specific event. Varies per parameter reportedPREventID Identifier of the specific event which occurred. Enumerated:Unique collection event ID forWaiting for Material and Process Job StateChange events.

&lt;!-- Page 7 --&gt;

SEMI E40-0705 © SEMI 1995, 200519 Table 6 Parameter Dictionary, Part 2 Parameter Name Definition Form: Possible ValuesPRJobID The unique identifier for a process job. It can be accessed asthe ObjID attribute of the process job. The host may providethis identifier to the processing resource. In this case, the hostmust guarantee uniqueness of job identifiers for all theprocess jobs in the PROCESS JOB STATE in the equipment. Text PRJobList List of process job identifiers and their states. List ofStructurePRJobIDPRJobStatePRJobMilestone Process job milestone. Enumerated:PR Job SetupPR Job ProcessingPR Job Processing CompletePR Job CompletePR Job Waiting for StartPRJobSpace Used to indicate the number of jobs that can currently becreated for the processing resource.Integer PRJobState A unique state of the process job according to the process jobstate model.Enumerated:QUEUED/POOLEDSETTING UPWAITING FOR STARTPROCESSINGPROCESS COMPLETEPAUSINGPAUSEDSTOPPINGABORTINGSTOPPEDABORTEDPRMtlName Textual identifier of the material being processed. Text: Unique for each material with respectto the processing agent.PRMtlType Identifies the type of material being processed. EnumeratedPRMtrlOrder Defines the order by which material in the process jobsmaterial list will be processed.Enumeration:ARRIVAL  process whichever materialfirst arrives.OPTIMIZE  process in an order thatmaximizes throughput.LIST  follow the order in the list.PRPauseEvent Variable containing information which is transferred to thecorresponding PRJob attribute. Shall conform to eventidentifiers as defined in either SEMI E30 or E53. (list of)text PRProcessStart Indicates that the processing resource start processingimmediately when ready.Boolean:TRUE  Automatic StartFALSE  Manual StartPRRecipe Specification of the process job recipe. Structure composed of:PRRecipeMethodRecID(List of) RecipeVariablePRRecipeMethod Indication of recipe specification type, whether tuning isapplied and which method is used.Enumerated:Recipe onlyRecipe with VariableTuning

&lt;!-- Page 8 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 20 Parameter Name Definition Form: Possible ValuesPRStatus Reports the acceptance or rejection of a requested operation. Structure composed of:PRAck(List of) StatusRecID Identifier of the recipe applied. Text:Unique with respect to the processing agent.RecipeVariable Variables supporting a recipe method. Structure composed of:RecipeVarNameRecipeVarValueRecipeVarName The name of the recipe variable. Text:Depends on recipeRecipeVarValue Value of the recipe variable. Depends on variableStatus Reports any errors found. Structure composed of:ErrorCodeErrorTextTimestamp Event date and time. Text:yyyymmddhhmmsscc 10.4 Service Detail  The tables below define the parameters for each service. In some cases, parameters haveadditional detail which is defined in the parameter definition section.10.4.1 PRJobCreateTable 7 PRJobCreate Service Detail PRJobCreate Service Detail Section Parameter Req/Ind Rsp/Cnf CommentPRJobID - M The processing agent assigns the unique identifier which is used in allsubsequent process job communications.PRMtlType M -(List of) PRMtlName M - All material shall be of the same material type. This is an ordered list andindicates the order in which the process job should process the material, ifit is single wafer processing equipment.PRRecipe M -PRProcessStart M - Indicates auto or manual start.PRStatus - M PRRecipe Parameter Detail SectionPRRecipeMethod M -RecID M - The process job recipe identifier shall be unique within the domain of theprocessing agent.(List of) Recipe Variable C - Parameters required depend on the recipe method selected. PRStatus Parameter Detail SectionPRAck - M Indication of acceptance to perform the job.(List of) Status - C Error information, required if PRAck is unsuccessful.

&lt;!-- Page 9 --&gt;

SEMI E40-0705 © SEMI 1995, 200521 10.4.2 PRJobCreateEnhTable 8 PRJobCreateEnh Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobID M M User supplied Job ID. Must be unique among jobs known by the processingresource or else the resource shall reject the create request.PRMtlType M - May be NULL when no material is processed.(List of)PRMtlNameM - An ordered list that associates a set materials with process conditions (processprograms or recipes).PRRecipe M - This is a structure.PRProcessStart M - Indicates auto or manual start.PRPauseEvent M - If null, then processing will not be automatically paused.PRStatus - M Indicates success or failure. 10.4.3 PRJobMultiCreate  This service creates multiple process jobs. Each job can be created uniquely.Table 9 PRJobMultiCreate Service Detail Parameter Req/Ind Rsp/Cnf Comment(List of)PRJobMultiSpecM C An ordered list of job specifications as follows:(list of)Structure:PRJobIDPRMtlType(List of) PRMtlNamePRRecipePRProcessStartPRPauseEvent(list of) PRJobID - M Shall be returned for process jobs specified in the request servicethat the equipment created.PRStatus - M Indicates success or failure. 10.4.4 PRJobDequeue  Remove one or more jobs from the queue. PRStatus shall indicate any jobs which couldnot be removed because they either did not exist or were in the PR JOB ACTIVE state.Table 10 PRJobDequeue Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobList M M (List of) PRJobIDIn the request, PRJobList specifies the jobs to be removed. In the reply,PRJobList indicates the jobs successfully removed.PRStatus - M Indicates success or failure. 10.4.5 PRJobCommand  All of the process job commands described in Section 8.2.3 are communicated using thePRJobCommand service. The commands are Abort, Stop, Cancel, Pause, Resume, and Start Process. This standarddoes not specify any required parameters. Abort is the only command which is required to be supported.Table 11 PRJobCommand Service DetailParameter Req/Ind Rsp/Cnf CommentPRJobID M - Identifies the process job on which to perform the command.PRCmdName M -(List of) CmdParameter C - Dependent on the command selected.

&lt;!-- Page 10 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 22 Parameter Req/Ind Rsp/Cnf CommentPRStatus - M 10.4.6 PRJobAlert  Notification of process job milestones achieved by the processing resource are communicatedusing the PRJobAlert service. Process job milestones, which are described in 8.2.1, are events which are importantto the control and tracking of the process job. The milestones required to be supported are PR Job Setup, PR JobProcessing, PR Job Processing Complete, and PR Job Complete. An additional milestone, PR Job Waiting for Start,is used with the manual start option.Table 12 PRJobAlert Service Detail Parameter Req/Ind CommentTimestamp MPRJobID M Identifies the process job on which the milestone has been reached.PRJobMilestone MPRStatus M 10.4.7 PRJobEvent  Process job informational event notification, which is described in 8.2.2, is communicatedusing the PRJobEvent service. These are defined for Waiting for Material and Process Job State Change events.Support for informational events is not required.Table 13 PRJobEvent Service Detail Parameter Req/Ind CommentPREventID MTimestamp MPRJobID M Identifies the process job which generated the event.PREventData C 10.4.8 PRJobSetRecipeVariable  Sends a request to change the settings for a list of recipe variable parameters.Implementation of this service is optional.Table 14 PRJobSetRecipeVariable Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobID M -RecVariableList M - (list of)RecipeVariablePRStatus - M Indicates success or failure. Failure is if a variable cant be set. AList of variables which could not be set is returned in the status. 10.4.9 PRJobSetStartMethod  Sends a request to change the start method for job(s). This request will fail if aspecified job is not in the QUEUED/POOLED state. Implementation of this service is optional.Table 15 PRJobSetStartMethod Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobList M - (List of) PRJobIDPRProcessStart M - Indicates auto or manual start.PRStatus - M Indicates success or failure.

&lt;!-- Page 11 --&gt;

SEMI E40-0705 © SEMI 1995, 200523 10.4.10 PRGetAllJobs  This message shall return a list containing job identifiers and the associated states of thosejobs for all jobs which have not completed.Table 16 PRGetAllJobs Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobList - M 10.4.11 PRGetSpace  This message shall return the remaining number of jobs that can be created for theprocessing resource.Table 17 PRGetSpace Service Detail Parameter Req/Ind Rsp/Cnf CommentPRJobSpace - M 10.4.12 PRSetMtrlOrder  Request the Processing Management Service to use a specific strategy for the order inwhich materials are processed.Table 18 PRSetMtrlOrder Service Detail Parameter Req/Ind Rsp/Cnf CommentPRMtrlOrder M - Sets the value for the strategy the service will use.PRAck - M Indicates success or failure. 10.5 Mapping of Semantics to Syntax  Table 20 provides the correspondence between the message semanticsdefined in Section 8.2 and the syntax as defined in Section 10.4. The use of .req, .rsp, or .nfy suffixes shows thedirection of message flow. .req is a message request from the service user to the service provider. .rsp is aresponse message from the service provider to the service user. .nfy is a notification from the service provider tothe service user.Table 19 Correspondence of Message Semantics to Syntax Parameter CommentPR Job Create PRJobCreate.reqPR Job Create Acknowledge PRJobCreate.rspPR Job Setup PRJobAlert.nfy (PRJobMilestone = PR Job Setup)PR Job Processing PRJobAlert.nfy (PRJobMilestone = PR Job Processing)PR Job Processing Complete PRJobAlert.nfy (PRJobMilestone = PR Job ProcessingComplete)PR Job Complete PRJobAlert.nfy (PRJobMilestone = PR Job Complete)PR Job Waiting for Material PRJobEvent.nfy (PREventID = Waiting for Material)PR Job State Changes PRJobEvent.nfy (PREventID = Process Job State Change)PR Job Abort PRJobCommand.req (PRCmdName = ABORT)PR Job Stop PRJobCommand.req (PRCmdName = STOP)PR Job Cancel PRJobCommand.req (PRCmdName = CANCEL)PR Job Pause PRJobCommand.req (PRCmdName = PAUSE)PR Job Resume PRJobCommand.req (PRCmdName = RESUME)PR Job Waiting for Start PRJobAlert.nfy (PRJobMilestone = PR Job Waiting for Start)PR Job Start Process PRJobCommand.req (PRCmdName = STARTPROCESS)PR Job Start Acknowledge PRJobCommand.rsp (PRSatus.PRAck = TRUE)

&lt;!-- Page 12 --&gt;

SEMI E40-0705 © SEMI 1995, 2005 24 11 Variable Data11.1 The purpose of this section is to define the list of variable data requirements for Processing Managementcompliant equipment. Values of these variables are available to the host via collection event reports.11.2 Variable Data Definitions  The identifier and all other attributes of the ProcessJob object shall be availablefor inclusion in event reports associated with it. The following attributes are most likely to be used: PRJobID,PRJobState, RecID, RecVariableList and PRMtlNameList. 12 Compliance12.1 Processing management defines the standard services available to achieve job-based material processing inequipment. The capabilities supported allow flexible management of automated processing encompassing manyprocess types. Only a subset of these capabilities may be needed for a particular implementation.12.2 Fundamental Requirements  All processing agent implementations shall support the fundamentalrequirements. These have been indicated in the appropriate sections of the document and are listed together below: Create and execute a single process job to completion, given: a single material of the appropriate type, uniquely identified. a unique recipe identifier for which the corresponding recipe can be found. Detect and report the success or failure of the process job, indicating complete, partial, or non-processing of thematerial. Support Abort of the process job at all times, immediately ceasing activity and terminating the process job. Maintain the data of required process job attributes indicated in Table 2. Reject requests with incomplete or invalid parameters. Reject requests for capabilities not supported. Implement the services and messages with the exception of those required for the Optional capabilities.12.2.1 Satisfying fundamental requirements may not provide sufficient flexibility or performance for someequipment. In such cases, fundamental functionality should be supplemented by optional capabilities as appropriateto the needs of the system.12.3 Additional Capabilities  Optional capabilities defined or enabled in this standard include: Processing resource pre-conditioning and post-conditioning. Stop, Pause, and Resume of a process job. Manual process start. Process job queuing and Cancel on a queued job. Process tuning. Processing of material groups. Multiple concurrent process jobs. Multiple consecutive process jobs in a single visit. Process job with no material. Notification of waiting for material. Implement PRJobCreateEnh and PRJobMultiCreate. Report the process job milestones: Setup, Processing, Processing Complete, and Job Complete.

&lt;!-- Page 13 --&gt;

SEMI E40-0705 © SEMI 1995, 200525 12.3.1 The services are defined with mechanisms to reject unsupported services and options should they berequested. This improves robustness and enables sophisticated service-users to adjust their requests to thecapabilities of the particular processing agent.12.4 Table 21 provides a checklist for Processing Management (PM) compliance.Table 20 PM Compliance Statement Fundamental PM Requirements PM Section Implemented PM CompliantSingle Process Job Execution 8.2  Yes  No  Yes  NoProcess Job Failure Indication 8.2.1.7  Yes  No  Yes  NoAbort Command 8.2.3.2  Yes  No  Yes  NoProcess Job Object Implementation 8.3, 9  Yes  No  Yes  NoReject Invalid/Incomplete Parameters 8.2.1.2.1  Yes  No  Yes  NoReject Unsupported Capabilities 11.2  Yes  No  Yes  NoServices Implementation (not per Additional) 10  Yes  No  Yes  NoAdditional PM Capabilities PM Section Implemented PM CompliantProcess Job Milestones 8.2.1 (except 8.2.1.2,3)  Yes  No  Yes  NoResource Pre/Post-conditioning  Yes  No  Yes  NoStop, Pause and Resume Commands 8.2.3.3,4,5  Yes  No  Yes  NoManual Process Start 8.2.3.9  Yes  No  Yes  NoProcess Job Queuing 8.3  Yes  No  Yes  NoProcess Tuning 7.5, 10.4.9  Yes  No  Yes  NoProcessing of Material Groups 7.6  Yes  No  Yes  NoMultiple Concurrent Process Jobs 7.7  Yes  No  Yes  NoMultiple Consecutive Process Jobs 7.8  Yes  No  Yes  NoProcess Job with No Material 7.9  Yes  No  Yes  NoEvent Notification 8.2.2  Yes  No  Yes  NoEnhanced Job Creation 10.4.2  Yes  No  Yes  NoMultiple Job Creation 10.4.3  Yes  No  Yes  No NOTICE: SEMI makes no warranties or representations as to the suitability of the standards set forth herein for anyparticular application. The determination of the suitability of the standard is solely the responsibility of the user.Users are cautioned to refer to manufacturers instructions, product labels, product data sheets, and other relevantliterature respecting any materials mentioned herein. These standards are subject to change without notice.The users attention is called to the possibility that compliance with this standard may require use of copyrightedmaterial or of an invention covered by patent rights. By publication of this standard, SEMI takes no positionrespecting the validity of any patent rights or copyrights asserted in connection with any item mentioned in thisstandard. Users of this standard are expressly advised that determination of any such patent rights or copyrights, andthe risk of infringement of such rights, are entirely their own responsibility. Copyright by SEMI® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 14 --&gt;

SEMI E40.1-0705 © SEMI 1996, 20051 SEMI E40.1-0705SECS-II SUPPORT FOR PROCESSING MANAGEMENT STANDARD This standard was technically approved by the global Information & Control Committee. This edition wasapproved for publication by the global Audits and Reviews Subcommittee on April 7, 2005. It was availableat www.semi.org in June 2005 and on CD-ROM in July 2005. Originally published in 1995; last published in2004. 1 Purpose1.1 This document maps the services and data of SEMI E40 to SECS-II streams and functions and data definitions. 2 Scope2.1 This is the standard way to implement the Processing Management, which provides remote control of waferprocessing, using the SECS-II message protocol.NOTICE: This standard does not purport to address safety issues, if any, associated with its use. It is theresponsibility of the users of this standard to establish appropriate safety and health practices and determine theapplicability of regulatory or other limitations prior to use. 3 Referenced Standards and Documents3.1 SEMI StandardsSEMI E5  SEMI Equipment Communications Standard 2 Message Content (SECS-II)SEMI E40  Standard for Processing ManagementNOTICE: Unless otherwise indicated, all documents cited shall be the latest published versions. 4 Terminology4.1 None. 5 Mapping of Processing ServicesTable 1 Processing Management Messages MappingService Message Name Stream, Function SECS-II NamePRJobCreate request S16F3,F4 Process Job Create Request/AcknowledgePrJobCommand request S16F5,F6 Process Job Command Request/AcknowledgePRJobAlert notify If E30 style events:S6F11,F12If E40 style alerts:S16F7,F8If E53 style events:S6F11,F12S6F13,F14 If E30 style events:Event Report Send/AcknowledgeIf E40 style alerts:Process Job Alert Notify/ConfirmIf E53 style events:Event Report Send/AcknowledgeAnnotated Event Report Send/AckPRJobEvent notify If E30 style events:S6F11,F12If E40 style events:S16F9,F10If E53 style events:S6F11,F12S6F13,F14 If E30 style events:Event Report Send/AcknowledgeIf E40 style events:Process Job Event Notify/ConfirmIf E53 style events:Event Report Send/AcknowledgeAnnotated Event Report Send/AckPRSetMtrlOrder request S16F29,30 Process Job Set Material OrderPRJobCreateEnh S16F11/F12 PRJobCreateEnhPRJobMultiCreate S16F15/F16 PRJobMultiCreate

&lt;!-- Page 15 --&gt;

SEMI E40.1-0705 © SEMI 1996, 2005 2 Service Message Name Stream, Function SECS-II NamePRJobDequeue S16F17/F18 PRJobDequeuePRGetAllJobs S16F19/F20 PRGetAllJobsPRGetSpace S16F21/F22 PRGetSpacePRJobSetRecipeVariable S16F23/F24 PRJobSetRecipeVariablePRJobSetStartMethod S16F25/F26 PRJobSetStartMethod 6 Mapping of Processing ParameterTable 2 Data Item MappingService Parameter SECS-II Data ItemPrJobID PRJOBIDPRMtlType MFPRMtlName MIDPRAck ACKAPRRecipeMethod PRRECIPEMETHODRecID RCPSPECRecipeVarName RCPPARNMRecipeVarValue RCPPARVALPRProcessStart PRPROCESSSTARTPRCmdName PRCMDNAMEPRJobMilestone If E30 style events:CEIDIf E40 style alerts:PRJOBMILESTONEIf E53 style events:CEIDPRJobState PRSTATETimestamp TIMESTAMPPREventID If E30 style events:CEIDIf E40 style events:PREVENTIDIf E53 style events:CEIDCmdParmName CPNAMECmdParmVal CPVALPRMtrlOrder PRMTRLORDERErrorCode ERRCODEErrorText ERRTEXTPREventData V (SV, ECV, DVVAL)PRJobSpace PRJOBSPACEPRPauseEvent PRPAUSEEVENT 7 Variable Data Item Mapping7.1 This section shows the specific SECS-II data classes, and formats needed for SECS-II implementations ofSEMI E40 variable data. According to SEMI E40 11, all ProcessJob object attributes are to be available asvariables for Process Job state transition events. These variables will be of SEMI E5 data item DVVAL.

&lt;!-- Page 16 --&gt;

SEMI E40.1-0705 © SEMI 1996, 20053 8 Implementation Details8.1 Use of Object Services  Several capabilities of the Processing Management Services are accessed through theObject Services Standard. Whan a Process Job has been created, (PRJOBID is valid), then its attributes can be readand written using the Object Services GetAttr and SetAttr messages.8.1.1 E39 Object Services shall be used for access to ProcessJob attributes. The GetAttr service may be used for allProcessJob attributes and the SetAttr service may be used on only those attributes whose Access is set to RW.8.2 Multi-Block Messages  Processing Management Services is protocol independent and therefore, makes nomention of SECS-II multi-block access and grant messages. When these Service use the SECS-II protocol, thenS16F3,F5 shall be preceded by an S16F1/S16F2 access request/grant message exchange when the message will bemulti-block. 9 SECS-II Attribute Definitions9.1 Process Job Object SECS-II Attributes Definitions  The following are the SECS-II structure definitions forthe E40 ProcessJob object.Table 3 Process Job SECS-II Attribute DefinitionsAttribute Name Attribute Data Form: SECS-II StructureObjID (Conforms to the restrictions of ObjID as specified in SEMI E39.1, 6.)ObjType ProcessJobPauseEvent L,n n=number of collection events1. n. CEID restricted to format U()PRJobState PRJobStatePRSTATE enumerated as follows:51 (U1)Enumerations:0  QUEUED/POOLED1  SETTING UP2  WAITING FOR START3  PROCESSING4  PROCESS COMPLETE5  (Reserved)6  PAUSING7  PAUSED8  STOPPING9  ABORTING10  STOPPED11  ABORTED

&lt;!-- Page 17 --&gt;

SEMI E40.1-0705 © SEMI 1996, 2005 4 Attribute Name Attribute Data Form: SECS-II StructurePRMtlNameList When MF = 13 (0x0d) (carriers)L,n n=number of carriers1. L,21. 2\. L,j j=number of slots1. :j. :n. L,21. 2\. L,k k=number of slots1. :k. When MF = 14 (0x0e) (substrate)L,n n=number of material (substrate)1. substrate IDn. MID restricted to format APRMtlType MF restricted to format BMF Value Description13 (0x0d) carriers (e.g. FOUP, SMIF pod, cassette)14 (0x0e) substrate (e.g. wafer, mask, flat panel)other not valid for E40 materialPRProcessStart PRRecipeMethod RecID RecVariableList L,n n=number of recipe variables1. L,21. 2\. n. L,21. 2\. NOTICE: SEMI makes no warranties or representations as to the suitability of the standard set forth herein for anyparticular application. The determination of the suitability of the standard is solely the responsibility of the user.Users are cautioned to refer to manufacturers instructions, product labels, product data sheets, and other relevantliterature respecting any materials mentioned herein. These standards are subject to change without notice.The users attention is called to the possibility that compliance with this standard may require use of copyrightedmaterial or of an invention covered by patent rights. By publication of this standard, SEMI takes no positionrespecting the validity of any patent rights or copyrights asserted in connection with any item mentioned in thisstandard. Users of this standard are expressly advised that determination of any such patent rights or copyrights, andthe risk of infringement of such rights, are entirely their own responsibility. Copyright by SEMI® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 18 --&gt;

SEMI E41-95 © SEMI 19951 SEMI E41-95EXCEPTION MANAGEMENT (EM) STANDARD 1 Purpose 1.1 Interactive exception handling enhances the errorrecovery ability while maintaining automated control inthe factory. This standard addresses thecommunications needs within the semiconductormanufacturing environment with respect to equipmentexception handling.1.2 This standard specifies capabil ities to be providedby the exception agent for effective reporting andinteraction with respect to abnormal situations in theequipment. It describes the concept of exceptionmanagement, the behavior of the equipment in relationto interactive exception handling, and the messagingservices which are needed to provide the functionality.1.3 The communications services defined here willenable standards-based interoperability of independentsystems. They shall allow application software to bedeveloped which can assume the existence of theseservices and allow software products to be developedwhich offer them.1.4 Implementation of automated exceptionmanagement will help reduce error recovery time andavoid changing from automatic to manual equipmentcontrol in many situations. The adoption of thestandards described will greatly reduce the effortrequired to integrate compliant equipment components.Compliance requires a specific set of standard services. 2 Scope2.1 The current scope of this stand ard is interactiveexception handling within a cluster tool.2.2 While the functionality provid ed may be applied toother multi-resource equipment, it may not provide theflexibility required for automated management andcommand by the factory of all types of equipment. It isanticipated that this standard will be extended toaccommodate management of exceptions in other typesof multi-resource equipment and by the factory of alltypes of equipment.2.3 This standard supports excepti on conditionreporting, including alarms, by an exception agent to adecision authority. The exception agent also has theability to enable and disable reporting on eachexception condition.2.4 Interactive exception handling is supportedthrough selection by the decision authority of recoveryactions in certain situations. The recovery actions areperformed by the exception agent with the goal of resolving the abnormal situation and allowing normalequipment operation to continue.2.5 This standard presents a soluti on from theconcepts and behavior down to the messaging services.It does not define the messaging protocol.2.6 A messaging service includes the identificationthat a message shall be exchanged and definition of thedata which is contained in that message. It does notinclude information on the structure of the message,how the data is represented within the message, or howthe message is exchanged. This additional informationis contained within the message protocol.2.7 The defined services may be a pplied to multipleprotocols. Information on the mapping of exceptionmanagement services to special protocols (e.g., SECS-II) are added as adjunct standards.2.8 The services assume a commu nicationsenvironment in which a reliable connection has beenestablished between the user of the services and theprovider of the services. Establishing, maintaining,releasing a connection, and handling communicationfailures is beyond the scope of this standard. 3 Referenced Standards3.1 SEMI Standards3.2 The following SEMI 1 standard is related to theException Management standard:SEMI E5  SEMI Equipment CommunicationsStandard 2 Message Content (SECS-II) 4 DefinitionsThe following definitions are arranged in alphabeticalorder. Some are defined using terms defined elsewherewithin this section. No references beyond this sectionshould be necessary for a basic understanding of theseterms.agent  an intelligent system within a factory thatprovides one or more service resources and uses theservices of other agents. A generalization of host,equipment, cell, cluster, cluster module, stationcontroller, work station. Agents are associated with aphysical system or a collection of physical systems,including computer platforms. 1 These documents can be obtained from Semiconductor Equipmentand Materials International, 3081 Zanker Road, San Jose, CA 95134,408.943.6900.

&lt;!-- Page 19 --&gt;

SEMI E41-95 © SEMI 1995 2 alarm  an alarm is related to any abnormal situationof the equipment that may endanger people, equipment,or material being processed.clearing  exception agent to decision authorityreporting that an abnormal situation related to anexception condition is no longer apparent or relevant.decision authority  an entity requiring to be notifiedof significant exception condition changes and whichdecides how to proceed to resolve abnormal situationsrelated to recoverable error conditions. The decisionauthority may be represented by a supervisorycontroller interacting with an operator who mayultimately choose the recovery action.error condition  an exception condition which is notan alarm and which may support recovery actionsrequested by a decision authority.exception agent  the entity which manages access toand reporting of information on abnormal situations inequipment. It achieves this by defining exceptionconditions, each related to a significant abnormalsituation. It may provide services for a decisionauthority to direct the recovery from certain situations.exception condition  a condition managed by anexception agent for reporting on and recovery from anabnormal situation in the equipment.form  type of data representing information containedin an object attribute or service message parameter. Thedata types are detailed in Section 4.1.fundamental requirements  the requirements forinformation and behavior that must be satisfied forcompliance with a standard. Fundamental requirementsapply to specific areas of application, objects, orservices.posting  all exception agent to decision authorityreporting associated with an exception condition whilethe related abnormal situation is apparent and relevant.recovery action  an operation associated with an errorcondition with the aim of resolving the abnormalsituation detected. It may supply information to theexception agent or request the exception agent toperform some activity.service  the set of messages and definition of thebehavior of a service provider that enables remoteaccess to a particular functionality.service-provider  the software control entity that isthe provider of any of the related services.service-user  the software control entity that is theuser of any of the related services.4.1 Data Type form  type of data: positive integer, unsigned integer,integer, enumerated, boolean, text, formatted text,structure, list, ordered list.positive integer  may take the value of any positivewhole number. Messaging protocol may impose a limiton the range of possible values.unsigned integer  may take the value of any positiveinteger or zero. Messaging protocol may impose a limiton the range of possible values.integer  may take on the value of any negative orunsigned integer. Messaging protocol may impose alimit on the range of possible values.enumerated  may take on one of a limited set ofpossible values. These values may be given logicalnames, but they may be represented by any single-itemdata type.boolean  may take on one of two possible values,equating to TRUE or FALSE.text  a text string. Messaging protocol may imposerestrictions, such as length or ASCII representation.formatted text  a text string with an imposed format.This could be by position, by use of special characters,or both.structure  a complex structure consisting of a specificset of items, of possibly mixed data types, in a specifiedarrangement.list  a set of one or more items that are all of the sameform (one of the above forms).ordered list  a list for which the order in which itemsappear is significant. 5 Conventions5.1 Harel State Model  This doc ument uses theHarel State Chart notation to describe the dynamicbehavior of the objects defined. An overview of thisnotation is presented in an Appendix of SEMI E30. Theformal definition of this notation is presented in Scienceof Computer Programming 8, Statecharts: A VisualFormalism for Complex Systems, by D. Harel, 1987.Transition tables are provided in conjunction with thestate diagrams to describe explicitly the nature of eachstate transition. A transition contains columns forTransition #, Current State, Trigger, New State,Action(s). The trigger (column 3) for the transitionoccurs while in the current state. The actions(column 5) include a combination of (1) actions takenupon exit of the current state, (2) actions taken uponentry of the new state, and (3) actions taken which aremost closely associated with the transition. Nodifferentiation is made.

&lt;!-- Page 20 --&gt;

SEMI E41-95 © SEMI 19953 5.2 Object Attribute Representatio n  The objectinformation models for standardized objects will besupported by an attribute definition table with thefollowing column headings: Attribute Name Definition Access Rqmt FormThe formal textname of theattribute Description ofthe informationcontained RO orRWY or N (seebelow) The Access column uses RO (Read Only) or RW (Readand Write) to indicate the access that service-users haveto the attribute.A Y or N in the requirement (Rqmt) columnindicates whether or not this attribute must be supportedin order to meet fundamental compliance for theservice.The Form column is used to indicates the format of theattribute. (See Section 4.1 for definitions.)5.3 Service Message Representatio n5.3.1 Service Resource Definition  A serviceresource definition table defines the specific set ofmessages for a given service group, as shown in thefollowing table: Message Service Name Type DescriptionMessage Name N or R The intent of the service. Type can be either N = Notification or R = Request.Notification type messages are initiated by the serviceprovider, and the provider does not expect to get aresponse from the consumer/subscriber.Request messages are initiated by a service consumer orsubscriber. Request messages ask for data or an activityfrom the provider. Request messages expect a specificresponse message (no presumption on the messagecontent).5.3.2 Service Parameter Dictionary  A serviceparameter dictionary table defines the parameters usedin a service, as shown in the following table: Parameter Form DescriptionParameter X Data type A parameter called X is B in A. A row is provided in the table for each parameter of theservice. The first column contains the name of theparameter. This is followed by columns describing theform and contents of the corresponding primitive. The Form column is used to indicate the type of datacontained in a parameter. (See Section 4.1 fordefinitions.)The Description column in the Service ParameterDictionary table describes the meaning of theparameter, the values it can assume, and anyinterrelationships with other parameters.To prevent the definition of numerous parametersnamed XxxList, this document adopts the conventionof referring to the list as (List of) Xxx. In this case,the definition of the variable Xxx will be given, not ofthe list. The term list indicates a collection (or set) ofzero or more items of the same data type. Where a listis used in both the request and the response, the listorder in the request is retained in the response. A listmust contain at least one element unless zero elementsare specifically allowed.5.3.3 Service Message Definition  A servicemessage definition table defines the parameters used ina service, as shown in the following table: Parameter Req/Ind Rsp/Cnf DescriptionParameter X (see below) (see below) A description of theservice. The columns labeled Req/Ind and Rsp/Cnf link theparameters to the direction of the message. Themessage sent by the initiator is called the Request.The receiver terms this message the Indication or therequest. The receiver may then send a Response,which the original sender terms the Confirmation.The following codes appear in the Req/Ind and Rsp/Cnfcolumns and are used in the definition of the parameters(e.g., how each parameter is used in each direction):M  Mandatory parameter  must be given a validvalue.C  Conditional parameter  may be defined insome circumstances and undefined in others. Whether avalue is given may be completely optional or maydepend on the value of another parameter.U  User-defined parameter.-  The parameter is not used.=  (for Response only) Indicates that the value ofthis parameter in the response must match that in theprimary (if defined). 6 OverviewException management is concerned with theinteractive handling of equipment exception conditions.This standard defines the services provided by which

&lt;!-- Page 21 --&gt;

SEMI E41-95 © SEMI 1995 4 abnormal situations are reported by an exception agent(service-provider) to a decision authority (service-user).In the case of recoverable situations, services areprovided for a decision authority to choose how toproceed to resolve the abnormal situation.The exception agent is the equipment entity whichmanages access to and reporting of information onabnormal situations. It achieves this by definingexception conditions, each related to a significantabnormal situation. All services are defined in terms ofthese exception conditions.Exception management allows for the decisionauthority to direct the resolution of an abnormalsituation. The decision authority selects a recoveryaction to be performed to resolve the situation fromamong the options supplied with the exceptioncondition. The exception agent performs the requestedrecovery action, which may or may not resolve thesituation.The services are fully defined in terms of thefunctionality provided by the exception agent (service-provider) and as such do not dictate the architecture ofthe decision authority (service-user).This standard describes the concepts and exceptioncondition model on which the communications arebased, followed by the detailed behavioral model used.It then describes the standard object attributes andmessage services in detail.6.1 Compliance  Compliance wi th this standardincludes adherence to all stated requirements in thisdocument where implemented. This includes definedmessage services and state models.There are two levels of compliance defined. The first isalarm reporting support. The second extends support toinclude interactive handling of recoverable exceptionconditions. Required capabilities are listed inFundamental Requirements, Section 10.4. 7 Concepts7.1 Exception Management Model  The exceptionmanagement model describes the mechanism forinteractive handling of equipment exception conditions.An exception condition is a condition monitored inequipment by an exception agent (service-provider) fordetecting an abnormal situation. Exception conditionsare limited in this standard to those accessible by aremote decision authority (service-user).An exception condition is persistent, existing whetheror not the abnormal situation currently exists. Theabnormal situation is indicated by the exceptioncondition state becoming SET. An exception agent is an entity which manages remote decision authority accessto any number of exception conditions. Each exceptioncondition is identified by a name which is unique forthe exception agent.A decision authority is a remote entity requiring to benotified of exception condition information and whichdecides appropriate actions to take to resolve abnormalsituations. The decision authority may be representedby a supervisory controller interacting with an operatorwho may ultimately choose the recovery action.The exception agent notifies the decision authority ondetection of an abnormal situation related to anexception condition (i.e., state is SET) and again whenit is no longer apparent. It also provides access toexception condition attribute data and for the executionof recovery actions requested by the decision authority.Exception management defines two types of exceptionconditions: alarms and error conditions.An alarm is related to any abnormal situation on theequipment that may endanger people, equipment, ormaterial being processed. Alarms do not provide fordecision authority involvement in the resolution of theabnormal situation.An error condition is related to any abnormal situationdetected which is made accessible to a decisionauthority. An error condition may supply a list ofpossible recovery actions from which the decisionauthority can select to attempt to resolve the abnormalsituation, thereby resulting in the error condition statebecoming CLEARED.Being persistent, exception condition attributes may bequeried at any time, and reporting of changes, such asstate SET/CLEARED, can be disabled by the decisionauthority.7.2 Posting and Clearing  Signi ficant changes in anexception condition are reported to the decisionauthority if enabled. The major significant events arethe transitioning of the exception condition state to SETor CLEARED, which indicate that the abnormalsituation has been detected or is no longer apparent,respectively.All significant information is sent when reporting thatthe exception condition state is SET. This includes theunique identifier, type, a message describing theabnormal situation, time and a list of possible recoveryactions where appropriate. It is important to keep thedecision authority updated on exception conditioninformation while the abnormal situation exists,especially with respect to valid recovery actions. Allchanges in the list of possible recovery actions arereported to the decision authority while the exceptioncondition state is SET.

&lt;!-- Page 22 --&gt;

SEMI E41-95 © SEMI 19955 The term posting is used to describe all reporting thetransition to the SET state and while an exceptioncondition state is SET.Clearing is the reporting of the occurrence of anexception condition state transition to CLEARED. Notethat the exception agent, not the decision authority,transitions the state to CLEARED. Anyacknowledgment at the decision authority of exceptioncondition posting (e.g., by the operator) is not relevantto the exception agent.Exception condition changes while its state isCLEARED are not reported to the decision authority.7.3 Enable/Disable Reporting  T he decisionauthority may enable and disable posting and clearingfor a particular exception condition by setting andresetting its enabled attribute, respectively. Reportingon an exception condition is enabled by default.Note that the exception condition itself is not beingenabled or disabled, but the reporting of its state isbeing enabled or disabled.Posting of an exception condition shall occur uponbeing enabled if the exception condition state is SET.7.4 Recovery Actions  Recovery actions provide amechanism for a decision authority to assist inresolving an abnormal situation detected in theequipment. This is generally needed to resolve failureor conflict where information is required beyond thecapabilities of the system. By supplying options relatedto each error condition, error recovery is directed to theproblem area.One or more recovery actions may be associated withan error condition. A recovery action is any operationwith the aim of resolving the abnormal situationdetected. It may supply information to the exceptionagent or request it to perform some activity.A recovery action may be requested by the decisionauthority only when the error condition state is SET.Only recovery actions currently valid for the errorcondition are accepted by the exception agent.The list of valid recovery actions is supplied in theposting of an error condition. Changes in this list arenotified by re-posting. A decision authority may requestany of the supplied recovery actions to be performedand is notified of acceptance to perform the recoveryand, some time later, its completion. No more than onerecovery action may be in progress on a particular errorcondition and it may be aborted by the decisionauthority at any time.A recovery action does not directly change the errorcondition state to CLEARED. It performs activities orprovides information with the object of removing the abnormal situation which in turn changes the state toCLEARED. A recovery action may continue after thestate has transitioned to CLEARED, until the activityinitiated has completed. A recovery action is rejected ifreceived when the error condition state is CLEARED.Since the exception agent must maintain systemintegrity by ensuring that incompatible operations arenot performed concurrently, it may reject any recoveryaction requested. 8 BehaviorThis section provides a high-level definition of thecommunications between the decision authority and theexception agent used in exception management. It doesnot define the message detail, concentrating on theconcepts. The message detail is addressed in theMessaging Services section.8.1 Exception Condition Commun ication8.1.1 Exception Report Messaging  The messageflow for exception reporting is shown in Figure 1. Thearrows represent significant information exchange. Figure 1Exception Reporting Message Flow A detailed description of each message used inexception reporting follows:EX Post  The exception agent has detected anabnormal situation which is monitored by an exceptioncondition. It changes the exception condition stateattribute to SET. The exception agent notifies thedecision authority using the EX Post notification,supplying the following information: identification of the exception condition, type of exception, time, a message explaining the abnormal situation, a list of possible recovery actions (where availablewith error conditions).

&lt;!-- Page 23 --&gt;

SEMI E41-95 © SEMI 1995 6 EX Post is re-sent every time the message or recoveryaction information changes as long as the exceptioncondition state remains SET.The EX Post notification is not sent if reporting on theexception condition is disabled, that is, if the enabledattribute is false. The EX Post notification is sent whenan exception condition becomes enabled if theexception condition state is SET.Upon receipt of the EX Post, the decision authority hasthe information needed to take the appropriate action.This may include requesting the exception agent toperform one of the supplied recovery actions.EX Cleared  The abnormal situation detected by theexception agent is no longer apparent or relevant. Theexception agent changes the exception condition stateattribute to CLEARED. It notifies the decision authorityusing the EX Cleared notification, supplying thefollowing information: identification of the exception condition, type of exception, time, a message.The EX Cleared message is not sent if reporting on theexception condition is disabled. That is, the enabledattribute is false.Upon receipt of the EX Cleared, the decision authorityknows that the abnormal situation related to theexception condition is no longer apparent or relevant.8.1.2 Recovery Action Messaging  In this section,the extended messaging of the recovery action is addedto the reporting messaging described above. Recoveryactions are not available for alarms. The message flowfor recovery actions is shown in Figure 2. Figure 2Recovery Action Message Flow A detailed description of each message used in recoveryactions follows:EX Recover  The decision authority requests that theexception agent perform a recovery action. Theparticular recovery action selected is identified in theEX Recover request together with the related exceptioncondition identifier. It shall be one of the recoveryactions supplied for the exception condition in the EXPost notification.Upon receipt of the EX Recover request and beforeacknowledging, the exception agent checks that thespecified recovery action is currently valid. The requestshall be accepted and initiated immediately or rejectedby the exception agent.The exception agent rejects a recovery action request ifthere is already a recovery action in progress on thatexception condition.EX Recover Acknowledge  The exception agentresponds to the decision authority that the requestedrecovery action is accepted or rejected, and if rejected,supplies text reasons for failure.Acceptance of a recovery action indicates that theexception agent has initiated the operation. Theoperation continues to completion without furtherintervention by the decision authority. The recoveryaction may or may not result in the exception conditionstate changing to CLEARED and the recovery actionmay continue after the state becomes CLEARED.The exception agent may reject a requested recoveryaction for a number of reasons, including: unknown recovery for the exception condition, recovery currently invalid, busy with recovery for this exception condition, currently unable to perform the recovery (e.g.,other conflicting activity or failure).EX Recovery Complete  The exception agent declaresthe recovery action to be complete once it hascompleted the associated operation. This message isalso used when a recovery action ends abnormally. Themessage indicates whether the operation completednormally and, if not, supplies text reasons for thefailure.Note that normal completion of a recovery action doesnot indicate that the abnormal situation has beenresolved. That is indicated by the EX Clearednotification.EX Recovery Abort  The decision authority maycommand the exception agent to abort a recovery actionat any time. The goal of the abort command is to end

&lt;!-- Page 24 --&gt;

SEMI E41-95 © SEMI 19957 the recovery action activities as quickly as possible.The abort command terminates the recovery action.8.2 Exception Condition State Mo del  The behaviorrequired for exception management is fully specified bythe exception agent (service-provider) behavior. This isdescribed by the exception agent exception conditionstate model. All required decision authority (service-user) behavior is inferred by this model.Message flow diagrams presented in the previoussection are useful to show simple situations. Theexception condition state model presented in thissection provides the information necessary toextrapolate the message flow diagrams for all situationswithin the scope of this standard.The exception condition provides for exception agentreporting on an abnormal situation in the equipment andmanagement of a recovery action requested by thedecision authority to resolve the situation. Recovery isrequested in the context of a particular exceptioncondition so the recovery action behavior forms a partof the exception condition behavior.Figure 3 shows the state diagram for an exceptioncondition. The Harel state model notation used isdescribed in Conventions, Section 5.1. Thecorresponding state transition table is shown in Table 1on the following page. Figure 3Exception Condition State Model The detailed state definitions follow:EXSTATE  When created by the exception agent, anexception condition enters the EXSTATE. It is in thisstate as long as it is in existence, irrespective ofassociation to the decision authority. The exceptioncondition has two concurrent subsets, which togetherfully describe its state. These subsets are Reporting andRecovery.The exception condition initializes to the SET state ifthe abnormal situation related to the exceptioncondition is apparent and relevant; otherwise, itinitializes to the CLEARED state.Reporting  Reporting is one concurrent subset ofEXSTATE. It includes the substates describing whetherthe abnormal situation related to the exceptioncondition is apparent and relevant, and whether thelatest information on the situation has been reported. Table 1 Exception Condition Transition Table # Current State Trigger New State Action(s)1 not EXSTATE The exception agent creates theexception condition.EXSTATE 2 not EXSTATE Initial creation and the abnormalsituation is either not apparent orirrelevant. CLEARED 3 not EXSTATE Initial creation and the abnormalsituation is both apparent andrelevant. SET 4 CLEARED The abnormal situation is detected. SET5 not SET Default entry into SET state. NOT POSTED6 NOT POSTED Reporting enabled. POSTED Send EX Post message.7 POSTED Change in the list of possiblerecovery actions.POSTED Send EX Post message. 8 SET The abnormal situation is either nolonger apparent or has becomeirrelevant. CLEARED Send EX Cleared message.

&lt;!-- Page 25 --&gt;

SEMI E41-95 © SEMI 1995 8 9 POSTED Reporting disabled. NOT POSTED10 not EXSTATE Default entry into recoveryconcurrent state at initial exceptioncondition creation. NOTRECOVERING 11 NOTRECOVERING EXRecover message receivedwhile in the SET state and accepted.RECOVERING Initiate requested recovery actionand execute to completion.12 RECOVERING Recovery action completed. NOTRECOVERING Send EX Recovery Completemessage.13 RECOVERING EXRecoveryAbort messagereceived.ABORTING-RECOVERYPerform the abort procedure toterminate the recovery action inprogress.14 ABORTING-RECOVERY Abort procedure is complete. NOTRECOVERING Send EX Recovery Completemessage. CLEARED  The abnormal situation related to the exception condition is either not apparent or not relevant.SET  The abnormal situation related to the exception condition is apparent and relevant.The exception agent should generate a collection event each time an exception condition transitions fromCLEARED to SET and another from SET to CLEARED.NOT POSTED  The latest information on the detected abnormal situation has not yet been reported by theexception agent. This may be transient on entering the SET state or may be because reporting is disabled. NOTPOSTED is the default state when entering the SET state.POSTED  The latest information on the detected abnormal situation has been reported by the exception agent tothe decision authority.Recovery  Recovery is one concurrent subset of EXSTATE. It includes the substates describing the behavior inrelation to exception condition recovery actions.NOTRECOVERING  In the NOTRECOVERING substate, there is no recovery action in progress directly relatedto the exception condition. NOTRECOVERING is the default state when an exception condition is initially created.Recovery actions may only be initiated when the exception condition is in the SET state.RECOVERING  A recovery action related to the exception condition is in progress when in the RECOVERINGstate.ABORTINGRECOVERY  In the ABORTINGRECOVERY substate, the abort procedure is performed toimmediately terminate the recovery action. It is the responsibility of the exception agent to cease physical activity asquickly as possible, having achieved a safe condition. 9 Object DefinitionsException management defines one standard object, the Exception Condition.9.1 Exception Condition Object D efinition  The exception condition is a persistent object created by theexception agent. It provides the decision authority with reporting on, access to, and the possibility to directresolution of an abnormal situation detected. It also tracks progress of a requested recovery action. The exceptioncondition is uniquely identified by the EXID attribute.The object attribute notation used in Table 2 is described in Conventions, Section 5.2.Table 2 Exception Condition Attributes Attribute Name Definition Rqmt Access FormObjType The object type. Y RO Text:EXCEPTIONObjID Exception agent unique identifier for theexception condition.Y RO Text:Unique with respect to the exception agent.

&lt;!-- Page 26 --&gt;

SEMI E41-95 © SEMI 19959 EXType Identifies the type of exception condition. Y RO Enumerated:AlarmErrorEXMessage Text message describing the abnormalsituation monitored.Y RO Text EXEnabled Indicates that reporting to the decisionauthority on the exception condition isenabled. Y RW Boolean:TRUE  EnabledFALSE - DisabledEXRecActList List of possible recovery actions. N RO List of:TextEXStateList All concurrent sub-states of the exceptioncondition according to the state model inFigure 3. Y RO List of:Text EXRecoveryAction Recovery action which may be requested toresolve the abnormal situation.N RO Text EXState A unique sub-state of the exceptioncondition according to the state model inFigure 3. Y RO Text:EXSTATE/CLEAREDEXSTATE/SET/NOTPOSTEDEXSTATE/SET/POSTEDEXSTATE/NOTRECOVERINGEXSTATE/RECOVERINGEXSTATE/ABORTINGRECOVERY 10 Messaging Services Detai lThis section defines the messaging services required to implement the exception management concepts. Themessages were introduced in Section 8.1. These services are independent of the messaging protocol used. They maybe mapped to SECS-II (SEMI-E5) or to other comparable protocols.These messaging services define the messages to be used, the nature of the parameters contained within themessages, and data type of the parameters. Not defined here is the internal structure of the actual messages astransferred, including order of the parameters and how various data structures and data types are represented.The service message notation used in the tables below is described in Conventions, Section 5.3.10.1 Service List  The messages s hown in Table 3 are exchanged between service-provider and service-user forthe purpose of accomplishing exception management tasks.Table 3 Service List Message Name Type DescriptionEXPost N Notification by the exception agent that the abnormal situation related to the exceptioncondition has been detected or significant information has changed while the situation exists.EXCleared N Notification by the exception agent that the abnormal situation related to the exceptioncondition is no longer apparent or relevant.EXRecover R Decision authority request that a particular recovery action be performed.EXRecoveryComplete N Notification by the exception agent that a recovery action has completed.EXRecoveryAbort R Decision authority request that a recovery action be terminated immediately.

&lt;!-- Page 27 --&gt;

SEMI E41-95 © SEMI 1995 10 10.2 Parameter DictionaryTable 4 Parameter Dictionary Parameter Name Definition Form: Possible ValuesErrorCode Contains the code for the specific error found. Enumerated:EXRecover:Parameters improperly specifiedInsufficient parameters specifiedRecovery action currently invalidBusy with another recoveryCurrently unable to perform the recoveryEXRecoveryAbort:Parameters improperly specifiedInsufficient parameters specifiedNo active recovery actionEXRecoveryComplete:FailedRecovery abortedErrorText Text in support of the error code. TextEXAck Indicates whether the request was successful or the activitycompleted normally.Boolean:TRUE  SuccessfulFALSE  UnsuccessfulEXID Persistent exception condition identifier. Text:Unique with respect to the exception agent.EXMessage Message describing the situation related to an exceptioncondition.Text EXRecovery Identifies a recovery action associated with an exceptioncondition.Text EXRecoveryStatus Reports the acceptance or rejection of a requested recoveryaction and whether completion was normal.Structure composed of:EXAck(List of) StatusEXType Identifies the type of exception condition. Enumerated:AlarmErrorStatus Reports any errors found. Structure composed of:ErrorCodeErrorTextTimestamp Event date and time. Textyyyymmddhhmmsscc 10.3 Service Detail  Tables 5 thro ugh 9 define the parameters for each service. Parameters have additional detailwhich is defined in the parameter dictionary, Table 4.10.3.1 EXPost  Detection of abnormal situations by the exception agent is communicated using the EXPostservice, as described in Section 8.1. This notification is also used to communicate any significant changes inexception condition information while its state is SET.Table 5 EXPost Service Detail Parameter Req/Ind CommentTimestamp MEXID M Identifies the exception condition which has detected the abnormal situation.EXType MEXMessage M(List of) EXRecovery C List of possible recovery actions. Not available for alarms.

&lt;!-- Page 28 --&gt;

SEMI E41-95 © SEMI 199511 10.3.2 EXCleared  Notification tha t an abnormal situation is no longer apparent or relevant, as is described inSection 8.1, is communicated using the EXCleared service.Table 6 EXCleared Service Detail Parameter Req/Ind CommentTimestamp MEXID M Identifies the exception condition which has detected the abnormal situation.EXType MEXMessage M 10.3.3 EXRecover  Recovery action requests, described in Section 8.1, are communicated using the EXRecoverservice. The recovery action services are not available for alarms.Table 7 EXRecover Service Detail Parameter Req/Ind Rsp/Cnf CommentEXID M - Identifies the exception condition on which to perform the recovery action.EXRecovery M - The particular recovery action being requested.EXRecoveryStatus - M 10.3.4 EXRecoveryComplete  Noti fication of recovery action completion by the exception agent iscommunicated using the EXRecoveryComplete service. Recovery action completion, which is described in Section8.1, is not directly linked to clearing the exception condition state, and successful completion indicates only that theoperation performed completed normally.Table 8 EXRecoveryComplete Service Detail Parameter Req/Ind CommentTimestamp MEXID M Identifies the exception condition on which the recovery action was performed.EXRecoveryStatus M 10.3.5 EXRecoveryAbort  Recover y action abort, described in Section 8.1 is communicated using theEXRecoveryAbort service.Table 9 EXRecoveryAbort Service Detail Parameter Req/Ind Rsp/Cnf CommentEXID M - Identifies the exception condition on which the recovery action is being performed.EXRecoveryStatus - M 10.4 Fundamental Requirements  Exception management defines the standard services available to achieveexception condition-based exception handling and error recovery in equipment.All exception agent implementations shall support the fundamental requirements. This standard provides for twoaspects of fundamental requirements: exception reporting and interactive exception handling. It is possible tosupport only exception reporting in systems which do not require interactive exception handling. Interactiveexception handling requires that exception reporting be supported.10.4.1 Exception Reporting  The fu ndamental requirements of the exception agent for exception reporting arebased on maintaining the decision authority updated on the exception conditions it is interested in. These are listedbelow. Detect and report the occurrence of significant abnormal situations by setting the related exception condition,and posting it if reporting is enabled.

&lt;!-- Page 29 --&gt;

SEMI E41-95 © SEMI 1995 12  Detect and report that an abnormal situation is nolonger apparent or relevant by clearing the relatedexception condition and reporting it if enabled. Provide for enabling and disabling reporting oneach exception condition. Maintain the data of exception condition attributesindicated in Table 2. Reject requests for capabilities not supported (suchas recovery actions).10.4.2 Interactive Exception Handlin g  Thefundamental requirements of the exception agent forinteractive exception handling extend the exceptionreporting to allow the decision authority to requestrecovery actions to be performed to resolve abnormalsituations. These are listed below. Support all exception reporting fundamentalrequirements specified above. Supply a list of valid recovery actions for anexception condition when posting. Execute a requested recovery action for anexception condition if the requested recoveryaction is currently valid. The exception agent maysupport only a single recovery action to be inprogress at a time and reject all other recoveryaction requests for other exception conditionswhile it is busy. Report the completion of the recovery action. Support Abort of the recovery action at all times,immediately ceasing recovery activity andterminating the recovery action. Reject requests with incomplete or invalidparameters. Reject requests for capabilities not supported.Optional capabilities defined or enabled in this standardinclude the following: Support for multiple concurrent recovery actions.The standard allows only one recovery action inprogress for each exception condition. Adjust the exception condition message and thevalid recovery action list as appropriate during theerror recovery, and post the changes if reporting isenabled.The services are defined with mechanisms to rejectunsupported services and options should they berequested. This improves robustness and enablessophisticated service-users to adjust its requests to thecapabilities of the particular exception agent. NOTICE: These standards do not purport to addresssafety issues, if any, associated with their use. It is theresponsibility of the user of these standards to establishappropriate safety and health practices and determinethe applicability of regulatory limitations prior to use.SEMI makes no warranties or representations as to thesuitability of the standards set forth herein for anyparticular application. The determination of thesuitability of the standard is solely the responsibility ofthe user. Users are cautioned to refer to manufacturersinstructions, product labels, product data sheets, andother relevant literature respecting any materialsmentioned herein. These standards are subject tochange without notice.The users attention is called to the possibility thatcompliance with this standard may require use ofcopyrighted material or of an invention covered bypatent rights. By publication of this standard, SEMItakes no position respecting the validity of any patentrights or copyrights asserted in connection with anyitem mentioned in this standard. Users of this standardare expressly advised that determination of any suchpatent rights or copyrights, and the risk of infringementof such rights, are entirely their own responsibility. Copyright by SEMI® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 30 --&gt;

SEMI E41.1-96 © SEMI 19961 SEMI E41.1-0996SECS-II SUPPORT FOR EXCEPTION MANAGEMENT STANDARD 1 PurposeThis document maps the services and data of its prime document, SEMI E41, to SECS-II streams and functions anddata definitions. 2 ScopeThis is the standard way to implement the Exception Management Standard, which provides remote controlcommunication of exceptions and recovery, using the SECS-II message format. 3 Referenced Documents3.1 SEMI StandardsSEMI E5  SEMI Equipment Communications Standard 2 Message Content (SECS-II)SEMI E41  Exception Management (EM) Standard 4 TerminologyNone. 5 Mapping of Exception Ma nagement MessagesTable 1 Exception Management Messages SECS-II Mapping Service Message Name Stream, Function SECS-II NameEXPost Notify S5F9,F10 Exception Post Notify/ConfirmEXCleared Notify S5F11,F12 Exception Clear Notify/ConfirmEXRecover Request S5F13,F14 Exception Recover Request/AcknowledgeEXRecoveryComplete Notify S5F15,F16 Exception Recovery Complete Notify/ConfirmEXRecoveryAbort Request S5F17,F18 Exception Recovery Abort Request/Acknowledge 6 Exception Parameters Ma ppingTable 2 Exceptions Data Item Mapping Parameter SECS-II Data ItemErrorCode ERRCODEErrorText ERRTEXTEXAck ACKAEXEnabled EXENABLEDEXID EXIDEXMessage EXMESSAGEEXRecovery EXRECVRAEXState EXSTATEEXType EXTYPETimestamp TIMESTAMP

&lt;!-- Page 31 --&gt;

SEMI E41.1-96 © SEMI 1996 2 7 Implementation Details7.1 Several capabilities of the Exc eption Management Services (EMS) are accessed through the Object ServicesStandard. The Exception Objects are persistent. An Object Services compliant implementation of EMS will allowaccess to all the attributes specified in the SEMI E5 Object definition table for an Exception Object.All implementations shall use Object Services GetAttr and SetAttr to access:EXENABLEDEXSTATENOTE 1: EXSTATE is read-only. NOTICE: These standards do not purport to address safety issues, if any, associated with their use. It is theresponsibility of the user of these standards to establish appropriate safety and health practices and determine theapplicability of regulatory limitations prior to use. SEMI makes no warranties or representations as to the suitabilityof the standards set forth herein for any particular application. The determination of the suitability of the standard issolely the responsibility of the user. Users are cautioned to refer to manufacturers instructions, product labels,product data sheets, and other relevant literature respecting any materials mentioned herein. These standards aresubject to change without notice.The users attention is called to the possibility that compliance with this standard may require use of copyrightedmaterial or of an invention covered by patent rights. By publication of this standard, SEMI takes no positionrespecting the validity of any patent rights or copyrights asserted in connection with any item mentioned in thisstandard. Users of this standard are expressly advised that determination of any such patent rights or copyrights, andthe risk of infringement of such rights, are entirely their own responsibility. Copyright by SEMI® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 32 --&gt;

SEMI E42-0704 © SEMI 1995, 20041 SEMI E42-0704RECIPE MANAGEMENT STANDARD: CONCEPTS, BEHAVIOR, ANDMESSAGE SERVICES This standard was technically approved by the Global Information & Control Committee and is the directresponsibility of the Japanese Information & Control Committee. Current edition approved by the JapaneseRegional Standards Committee on April 30, 2004. Initially available at www.semi.org June 2004; to bepublished July 2004. Originally published September 1995; previously published February 2000.CONTENTS1 Introduction1.1 Purpose1.2 Scope1.3 Referenced Documents1.4 Definitions1.4.1 Objects1.4.2 Services1.4.3 Form1.4.4 Recipe Management1.5 Conventions1.5.1 Text String Restrictions1.5.2 Harel State Model1.5.3 Objects1.5.3.1 OMT Object Information Model1.5.3.2 Object Attribute Representation1.5.4 Service Message Representation1.6 Requirements1.7 Document Structure1.8 Applicable Documents2 Overview of RMS2.1 Recipe Management Models2.2 Major Objects in RMS2.2.1 Recipes2.2.2 Recipe Namespace2.2.3 Recipe Namespace Manager2.2.4 Recipe Executor3 Recipes3.1 Motivations3.2 Basic Concepts3.2.1 Types of Recipes 3.2.2 Recipe Structure3.2.2.1 Recipe Body3.2.3 Recipe Identification3.2.3.1 Recipe Name3.2.3.2 Recipe Class3.2.3.3 Version3.2.3.4 Recipe Identifiers3.2.4 Advanced Recipe Capabilities3.2.4.1 Multi-Part Recipes3.2.4.2 Variable Parameters3.2.5 Attributes3.2.5.1 Descriptors3.3 Full and Minimal Recipe Models3.4 Managed Recipes3.4.1 Generic Attributes3.4.1.1 Timestamp Attributes3.4.1.2 Length Attributes3.4.1.3 Descriptors3.4.2 Managed Recipe Object AttributeDefinitions3.4.2.1 Generic Attribute Definitions3.4.2.2 Agent-Specific Attribute Definitions3.4.2.3 Minimal Managed Recipe4 Recipe Namespace4.1 Motivations4.2 Namespace Model4.3 Namespace Specifications4.4 Member Agents4.5 Illustrations4.6 Attribute Definition Tables

&lt;!-- Page 33 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 2 5 Distributed Recipe Namespace5.1 Motivations5.2 Overview5.3 Distributed Recipe Namespace Issues5.3.1 Object Services5.3.2 Logical Recipe5.3.3 Change Requests5.4 Distributed Recipe Namespace Segment5.4.1 Master and Dedicated Segments5.4.2 Change Restrictions5.5 Distributed Recipe Namespace Recorder5.6 Distributed Recipe Namespace ManagementInformation5.7 Distributed Recipe Namespace5.8 Distributed Recipe Namespace Manager5.8.1 Change Management5.9 Building a Distributed Recipe Namespace5.10 Rebuilding a Damaged Distributed RecipeNamespace5.11 Object Attribute Definition Tables5.11.1 Distributed Recipe Namespace SegmentAttribute Definition5.11.2 Distributed Recipe Namespace RecorderAttribute Definition5.11.3 Distributed Recipe Namespace AttributeDefinition5.11.4 Distributed Recipe Namespace ManagerAttribute Definition6 Recipe Executor6.1 Motivations6.2 Description6.3 The Execution Recipe6.3.1 Comparison of Managed and ExecutionRecipes6.3.2 Downloaded Recipes6.3.3 Execution Recipe Identifier6.3.4 Execution Recipe Descriptor6.3.5 Execution Recipe Attribute Definitions6.4 Default Namespace 6.5 Recipe Storage6.6 Change Control6.6.1 Recipe Creation6.6.2 Recipe Compression6.6.3 Changes to Stored Recipes6.6.4 Last Value6.7 Production6.8 Recipe Executor Attributes7 Agents7.1 Definitions7.2 RMS Resources7.3 Agent Attributes8 Recipe Management Operations8.1 Recipe Lifecycle8.2 Description of Operations8.2.1 General Requirements8.2.2 Recipe Origination8.2.2.1 Create Recipe8.2.2.2 Update Recipe8.2.3 Recipe Building8.2.3.3 Unlink Recipe8.2.3.4 Modify Variable Parameters8.2.4 Recipe Authorization8.2.4.1 Approve Recipe8.2.5 Recipe Protection8.2.6 Unprotect8.2.7 Certify8.2.8 De-Certify8.2.9 Informational Operations8.2.9.1 Get Recipe Descriptors8.3 Recipe State Model8.4 Table of Operations9 Namespace Management Operations9.1 Applications of Object Services9.1.1 Object Specifiers9.1.2 Required Object Services9.2 Namespace Operations

&lt;!-- Page 34 --&gt;

SEMI E42-0704 © SEMI 1995, 20043 9.2.1 Create Namespace9.2.2 Delete Namespace9.2.3 Rename Namespace9.3 Namespace Informational Operations9.3.1 Get Available Storage9.3.2 Check Recipe Status9.3.3 Get Best Version9.4 Namespace Informational Operations9.4.1 Create Recipe9.4.2 Delete Recipe9.4.3 Store Recipe9.4.4 Retrieve Recipe9.4.5 Copy Recipe9.4.6 Rename Recipe9.4.7 Verify Recipe9.4.8 Download Recipe9.4.9 Upload Recipe9.5 Table of Operations9.6 Namespace Events10 Distributed Recipe Namespace ManagementOperations10.1 Distributed Recipe Namespace SegmentOperations10.1.1 Object Services10.1.1.1 Attribute Read/Write10.1.1.2 Create and Delete Operations10.1.1.3 Object Attachment Operations10.1.2 Segment Recipe Management Operations10.1.2.1 Requirements for Approval10.1.2.2 Segment Change Approval10.1.2.3 Scenario of a Segment Change Request10.2 Distributed Recipe Namespace Recorder10.2.1 Object Services10.2.1.1 Attribute Read/Write10.2.1.2 Object Create and Delete Operations10.2.1.3 Object Attachment Operations10.2.2 Add Segment Record10.2.3 Delete Segment Record 10.2.4 Add Change Request Record10.2.5 Delete Change Request Record10.2.6 Get Change Request Record10.3 Distributed Recipe Namespace ManagementOperations10.3.1 Object Services10.3.2 Delete Distributed Recipe Namespace10.3.3 Attach and Detach Supervised Objects10.3.3.1 Attach Supervised Object10.3.3.2 Detach Supervised Object10.3.4 Change Request Management10.3.4.1 External Change Requests10.3.4.2 Internal Change Requests10.3.4.3 Allowable Change Requests10.3.4.4 Change Request Record Definition10.3.4.5 Change Request Lifecycle10.3.4.6 Change Request Completion10.3.4.7 Change Management Example10.3.5 Segment Change Request10.3.6 Segment Action Complete10.3.7 Segment Notification10.3.8 Get Change Requests10.3.9 Rebuild Distributed Recipe Namespace10.4 Tables of Operations10.4.1 Segment Operations Table10.4.2 Recorder Operations Table10.4.3 Manager Operations Table11 Recipe Executor Operations11.1 Object Services Operations11.1.1 Execution Recipe Specifier11.2 Description of Operations11.2.1 Recipe Download and Verify11.2.2 Recipe Verify11.2.2.1 Derived Object Form Recipes11.2.2.2 Verification ID11.2.3 Recipe Upload11.2.4 Recipe Rename

&lt;!-- Page 35 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 4 11.2.5 Get Available Storage11.2.6 Recipe Delete11.2.7 Recipe Selection11.2.7.1 Multiple Selection11.2.7.2 Validation11.2.7.3 Delegation11.2.7.4 Variable Parameters11.2.7.5 Message Scenarios11.2.7.6 Selected Recipes11.2.8 Recipe Deselection11.2.9 Get Execution Recipe Descriptor11.2.10 Change Control11.2.10.1 Changing Existing Recipes11.2.10.2 Creating New Recipes11.2.10.3 Building Derived Form Recipes11.2.10.4 Saving Last Value11.2.10.5 Change Notification11.3 Table of Operations11.4 Recipe Executor Events12 Recipe Namespace Services12.1 Recipe Management Message ParameterDictionary12.2 Message Flow12.3 RMNCreateNS12.4 RMNDeleteNS12.5 RMNRenameNS12.6 RMNSpaceInquire12.7 RMNRcpStatInquire12.8 RMNVersionInquire12.9 RMNCreate12.10 RMNUpdate12.11 RMNStore12.12 RMNRetrieve12.13 RMNCopy12.14 RMNRename12.15 RMNAction12.16 RMNVarPar 12.17 RMNGetDescriptor12.18 RMNComplete13 Distributed Recipe Namespace Services13.1 Distributed Recipe Namespace MessageParameter Dictionary13.2 Distributed Recipe Namespace SegmentServices13.2.1 RMDSApproveAction13.3 Distributed Recipe Namespace RecorderServices13.3.1 RMDRAddSegRecord13.3.2 RMDRDelSegRecord13.3.3 RMDRAddChgRecord13.3.4 RMDRDelChgRecord13.3.5 RMDRGetChgRecord13.4 Distributed Recipe Namespace ManagerServices13.4.1 RMDComplete13.4.2 RMDNotify13.4.3 RMDSegChange13.4.4 RMDGetChangeRequests13.4.5 RMDRebuild14 Recipe Executor Services14.1 Recipe Executor Message Parameter Dictionary14.2 Message Flow14.3 RMEDnldVer14.4 RMEVerify14.5 RMEUpload14.6 RMERename14.7 RMESpaceInquire14.8 RMEDelete14.9 RMESelect14.10 RMEDeselect14.11 RMEGetDescriptor14.12 RMEChange14.13 RMEComplete

&lt;!-- Page 36 --&gt;

SEMI E42-0704 © SEMI 1995, 20045 15 Recipe Management Compliance15.1 Areas of Compliance15.2 Managed Recipe15.3 Managed Recipe Compliance Table15.4 Recipe Namespace Management15.4.1 Recipe Namespace15.4.2 Recipe Namespace Manager15.4.3 Recipe Namespace ManagementCompliance Table15.5 Compliance for Distributed Recipe NamespaceManagement15.5.1 Distributed Recipe Namespace15.5.2 Distributed Recipe Namespace Manager15.5.3 Distributed Recipe NamespaceManagement Compliance Table15.6 Distributed Recipe Namespace Segment15.6.1 Distributed Recipe Namespace SegmentCompliance Table15.7 Distributed Recipe Namespace Recorder15.7.1 Distributed Recipe Namespace RecorderCompliance Table15.8 Execution Recipe Compliance15.8.1 Execution Recipe Compliance Table15.9 Recipe Executor 15.9.1 Recipe Executor Compliance Table16 Glossary of TermsRelated Information 1R1-1 RMS Standardized ObjectsR1-2 RMS Requirement/Concepts MapR1-3 BackgroundR1-3.1 TraceabilityR1-3.2 Recipe Life CycleR1-3.3 Recipe EditingR1-3.4 Recipe SharingR1-3.5 Protection and Process ControlR1-3.6 Recipe SelectionR1-4 Example of a Factory Implementation ofApproval LevelsR1-5 Examples of Variable ParametersR1-6 Applications of Object ServicesR1-6.1 ScopeR1-6.2 FilterR1-6.3 Complex AttributesR1-7 Examples of RMS Application

&lt;!-- Page 37 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 6 NOTES This page intentionally left blank.

&lt;!-- Page 38 --&gt;

SEMI E42-0704 © SEMI 1995, 20047 SEMI E42-0704RECIPE MANAGEMENT STANDARD: CONCEPTS, BEHAVIOR, ANDMESSAGE SERVICESE This standard was editorially modified in September 1999 to conform to its non-provisional status. Changeswere made to Section 1.2. 1 IntroductionThis standard defines the concepts required formanagement of recipes, the operations or behaviorprovided by the Recipe Management Standard (RMS),and the messages through which services are providedthrough an interface between the provider and the userof these services. 1.1 Purpose  The purpose of this standard is twofold: To enable applications software to be developedthat can assume the existence of standard concepts,behaviors, and message services that collectivelyform Recipe Management and that take advantageof them. To enable software to be developed to offer theRecipe Management capabilities.1.2 Scope  This is a standard that defines concepts,behavior, and services to support the integration ofautomated recipe management within a semiconductorfactory. These services are applicable to a variety ofrelationships, including both traditionalhost/equipment and cluster tool controller/attachedmodule communications and control.The standard provides a set of communications serviceswhich allows such systems to transfer and managerecipes to ensure the correct processing of materialwithin semiconductor manufacturing equipment andsystems. RMS also requires compliance to SEMI E39(Object Services Standard (OSS): Concepts, Behavior,and Services) for completeness.This document describes several different hierarchicalrelationships: supervisory agents and their supervisedagents, recipes and their subrecipes, and recipe classesand their subclasses. Such hierarchical relationshipsprovide a natural organizational and classificationstructure that is reflected in many different kinds ofsystems, such as telephone switching systems anddirectory trees. It is the intent of this standard to supportlogical hierarchical relationships rather than to requirethat strict hierarchical relationships be implemented insystems architecture.RMS places no restriction on where the set of definedservices is implemented. 1.3 Referenced Documents1.3.1 Semiconductor Equipment and MaterialsInternational (SEMI)1 1.3.1.1 SEMI Equipment Automation/HardwareVolumeSEMI E10  Standard for Definition and Measurementof Equipment Reliability, Availability, andMaintainability (RAM) 1.3.1.2 SEMI Equipment Automation/Software 2VolumeSEMI E30  Generic Model for Communications andControl of Manufacturing Equipment (GEM)SEMI E39  Object Services Standard: Concepts,Behavior, and ServicesSEMI E53  Event Reporting 1.3.2 Other ReferencesJames Rumbaugh, Michael Blaha, William Premerlani,Frederick Eddy, William Lorensen, Object-OrientedModeling and Design, Englewood Cliffs, New Jersey:Prentice-Hall, 1991.D. Harel, Statecharts: A Visual Formalism for ComplexSystems, Science of Computer Programming 8, 1987. 1.4 Definitions  Basic definitions for objects,services, and form are provided in SEMI E39, Sections4.1 through 4.4. This section provides additionaldefinitions.Definitions in Section 1.4.3 are specific to RMS. 1.4.1 Servicesservice provider  An application (a component of anagent) responsible for providing services to the serviceuser.service user  (service consumer) An application thatuses the services provided. 1 Semiconductor Equipment and Materials International (SEMI), 805East Middlefield Road, Mountain View, CA 94043, 650.964.5111,FAX 650.967.5375

&lt;!-- Page 39 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 8 1.4.2 Formbinary  A string of bit values (zeroes and ones), witha format that is either left unspecified or specified by bitposition, with the most significant bit first. The totallength of the string is a multiple of eight. Messagingprotocol may impose restrictions on length. 1.4.3 Recipe Management  This section introducesbasic terminology used in RMS. Entries are inalphabetical order. Additional definitions andspecifications are provided in later sections.agent  An intelligent system within a factory thatprovides one or more service resources and uses theservices of other agents. This is a generalization thatincludes host, equipment, cell, cluster, cluster module,station controller, and work station. Agents areassociated with a physical system or a collection ofphysical systems, such as computer platforms.authorized user  A user who can be identified to anagent as having the level of authority required for aparticular activity, such as certifying a recipe for thatequipment.collection event  A detectable occurrence of interestto a service user.component agent  A subordinate agent that providesservices to a supervisory agent.download  An operation that transfers a recipe(down) to an execution storage area.edit  An operation which creates a new recipe bodyor changes the body of an existing recipe.editor  A service which allows a user to edit a recipe.Editors are not specified in RMS.equipment2  An agent with associated hardware thatprovides, at a minimum, recipe execution services.event  A detectable occurrence significant to anobject.execution (recipe execution)  The process of readingthe recipe contents and implementing its instructions,process parameters, or other information required for itsown processing.executing agent  An agent that provides recipeexecution capabilities.execution area  The storage location of the recipe(s)currently selected (ready) for execution.host  A supervisory agent that represents the factoryto its subordinates. 2 The term "equipment" is restricted in RMS to "intelligentequipment." logical recipe  A recipe with a particular set ofattributes and a particular body, consideredindependently from its physical location. A logicalrecipe may have multiple instances or copies.name  A text-based attribute of an object that may beused as all or part of its identifier.namespace  In general, a domain within which objectidentifiers are unique. In RMS, the term namespace isused as a synonym for recipe namespace, unlessotherwise stated.operator  The user who interacts locally with agentthrough the agent's interface.recipe  The pre-planned and reusable portion of theset of instructions, settings, and parameters undercontrol of an agent that determines the processingenvironment seen by the manufactured object and thatmay be subject to change between runs or processingcycles.recipe class  A formal grouping of recipes with acommon language syntax and functionality.recipe executor  The component of an executingagent that executes recipes.recipe namespace  A logical management domainwith the responsibility for the storage and managementof recipes, the ensurance of the uniqueness of recipeidentifiers within that domain, and the provision ofservices pertaining to recipes stored within that domain.recipe parameter  A control value that affects theagent's process.select  The act of preparing a recipe for execution.setting  A static value accessible to the user, throughone or more methods, that is used by equipment tocontrol its process. Settings include, but are not limitedto, setpoint values. Settings typically may be specifiedwithin a recipe.storage area  An area where objects and data arestored.subordinate agent  An agent that is a component of,or managed by, another agent.supervisory agent  An agent with supervisoryresponsibilities for one or more subordinate agents.timestamp  The notation of the date and time of theoccurrence of an event.upload  An operation that transfers a recipe (up) froman execution storage area.user  A person interacting with an agent directlythrough the agent's human interface or indirectlythrough the agent's supervisor.

&lt;!-- Page 40 --&gt;

SEMI E42-0704 © SEMI 1995, 20049 validate  The action of checking recipe contents toensure that parameter type and range are valid for theequipment configuration prior to execution. \[Note thatvalidation and verification are used in different ways.\]variable parameter  A formally defined variable(setting) defined in the body of a recipe permitting theactual value to be supplied externally.verify  The operation of reading a recipe's contents toensure that it is syntactically correct and identifyingelements that must be made public.version  Part of a recipe's identifier that is used toshow its heritage. 1.5 Conventions  The following conventions areused in this document: To highlight terms specific to RMS (excludingterms defined in Sections 1.4.1 through 1.4.3 thatare common to multiple standards), a defined termappears in boldface wherever it first appears andwherever it is defined. This alerts the reader tothose terms with specific meanings. Except forterms that are very common, such as recipe, host,and equipment, defined terms otherwise are initalics wherever they appear. Terms related to objects and object services are inconformance with SEMI E39 (Object ServicesStandard: Concepts, Behavior, and Services). Abrief discussion of objects is provided in theAppendix of that document. Attribute names are underlined. Attributes called "names" in RMS are generallyintended to be used for the ObjID attribute of astandardized object. To prevent the definition of numerous messageparameters named "XxxList," this document adoptsthe convention of referring to the list as "(List of)Xxx". In this case, the definition of the parameterXxx will be given, not of the list. The term "list"indicates a collection (or set) of zero or more itemsof the same data type.For attributes that are lists, this convention is notfollowed, as the entire attribute, as a list, must beassigned a specific name. 1.5.1 Text String Restrictions  Text strings used inattribute names, attribute values, or messageparameters, are subject to the restrictions defined byOSS: Text in ASCII is restricted to the charactersbetween 20 16 and 7D16, excluding the question mark "?"(3F 16), the asterisk "\*" (2A 16), and the tilde "~" (7E16). Text strings used as, or within, the object identifierObjID are additionally restricted to exclude the "greaterthan" symbol "&gt;" (2E 16) and the colon character ":"(3A 16) to conform with OSS requirements. 1.5.2 Harel State Model  This document uses theHarel State Chart notation to describe the dynamicbehavior of the objects defined. An overview of thisnotation is presented in an Appendix of SEMI E30. Theformal definition of this notation is presented in Scienceof Computer Programming 8, "Statecharts: A VisualFormalism for Complex Systems," by D. Harel, 1987.This document also adopts the extension of Harelnotation to show the deletion of an object as used byRumbaugh, et al. (see Section 1.5.2.1). 1.5.3 Objects  Standardized objects defined by RMSconform to the requirements of SEMI E39 (ObjectServices Standard: Concepts, Behavior, and Services).RMS adopts the convention of showing standardizedobjects as drawn with a heavy line in object models.Non-standardized objects are used to illustrate conceptsand relationships but are not formally defined andcannot be accessed through Object Services. A list ofstandardized objects defined by RMS is included inRelated Information 1.1.5.3.1 OMT Object Information Model  The objectmodels are presented using the Object ModelingTechnique, developed by Rumbaugh et al., in Object-Oriented Modeling and Design, Prentice-Hall,Englewood Cliffs, NJ, 1991. Overviews of this notationare provided in an appendix of SEMI E39 (ObjectServices Standard: Concepts, Behavior, and Services).1.5.3.2 Object Attribute Representation  The objectinformation models for standardized objects will besupported by an attribute definition table with thefollowing column headings:AttributeNameDefinition Access Rqmt Form The formaltext name ofthe attribute. Description of theinformationcontained. RO orRWY or N (seebelow) The Access column uses RO (Read Only) or RW (Readand Write) to indicate the access that users of theservice have to the attribute.A 'Y' or 'N' in the Requirement (Rqmt) columnindicates if this attribute must be supported in order tomeet fundamental compliance for the service.The Form column is used to indicate the format of theattribute. (See Section 1.4 for definitions.)

&lt;!-- Page 41 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 10 1.5.4 Service Message RepresentationService Resource DefinitionA service definition table defines the specific set ofmessages for a given service resource, as shown in thefollowing table: Message Service Name Type DescriptionMessage name N or R The intent of the service.Type can be either N = Notification or R = Request.Notification type messages are initiated by the serviceprovider, and the provider does not expect to get aresponse from the user.Request messages are initiated by a service user.Request messages ask for data or an activity from theprovider. Request messages expect a specific responsemessage (no presumption on the message content).Service Parameter DictionaryA service parameter dictionary table defines theparameters for one or more services, as shown in thefollowing table: Parameter Form DescriptionParameter X Data type A parameter called X is B inA.A row is provided in the table for each parameter of theservice. The first column contains the name of theparameter. This is followed by columns describing theform and contents of the corresponding primitive.The Form column is used to indicate the type of datacontained in a parameter. (See Section 1.4 fordefinitions.)The Description column in the Service ParameterDictionary table describes the meaning of theparameter, the values it can take on, and anyinterrelationships with other parameters.To prevent the definition of numerous parametersnamed "XxxList", this document adopts the conventionof referring to the list as "(List of)Xxx". In this case, thedefinition of the variable Xxx will be given, not of thelist. The term "list" indicates a collection (or set) ofzero or more items of the same data type. Where a listis used in both the request and the response, the listorder in the request is retained in the response. A listmust contain at least one element, unless zero elementsare specifically allowed.Service Message DefinitionA service message definition table defines theparameters used in a service, as shown in the followingtable: Parameter Req/Ind Rsp/Conf DescriptionParameter X (seebelow)(seebelow)A description of theservice.The columns labeled Req/Ind and Rsp/Conf link theparameters to the direction of the message. Themessage sent by the initiator is called the "Request".When receiver terms this message the "Indication" orthe "Request", the receiver may then send a"Response", which the original sender terms the"Confirmation".The following codes appear in the Req/Ind andRsp/Conf columns and are used in the definition of theparameters (e.g., how each parameter is used in eachdirection):"M"  Mandatory parameter  must be given avalid value."C"  Conditional parameter  may be definedin some circumstances and undefined in others.Whether a value is given may be completelyoptional or may depend on the value of the otherparameter."U"  User-defined parameter."-"  The parameter is not used."="  (for Response only) Indicates that the valueof this parameter in the response must match that inthe primary (if defined). 1.6 Requirements  Requirements for recipemanagement are varied. For example, there is afundamental need to retain information about eachrecipe, to provide that information upon request, and totransfer it with the recipe so that it remains available.There is a need to classify recipes, to reuse them, and toshare them with multiple installations of equipment.The need for sharing recipes introduces a newrequirement for safeguarding the relationship between arecipe's identifier and its contents, to be able to protecta recipe from unauthorized changes, and to ensure thatthe identifier for a recipe that is used by multipleequipment is in fact the same recipe.The requirements for managing recipes in a factory aregiven in tabular form in Table 1.1, which presents themaccording to their functional areas and the specificissues involved. Table R1-1, in Related Information,shows the specific concepts defined in RMS to addresseach of these requirements.

&lt;!-- Page 42 --&gt;

SEMI E42-0704 © SEMI 1995, 200411 Table 1.1 RequirementsFunctional Areas Issue RequirementsManagement of Recipes Identification Uniquely store, identify, and select recipes in a system.Easy and clear identification of a recipe.Multiple Access Share recipes among equipment.Enable synchronized change of shared recipes among equipment.History and Traceability Capture the history of recipe usage.Capture the history of recipe changes.Life Cycle Management Manage approval of recipes for process development and production.Operations Protection Protect recipes from unexpected changes.Protect recipes from mistakes in operations.Portability Create, edit, and change recipes outside the equipment which executethem.Reusability Change recipes for a specific piece of equipment.Use recipes developed on one piece of equipment for other equipment.Share recipes among the same kind of equipment by adjusting forindividual differences.Execution Safety Do not execute recipes that are not syntactically correct.Execute the specified (selected) recipes without errors.Protect recipes being executed from inadvertent change caused by otheractivities.Flexibility Change a recipe's parameters during or between runs in a systematicway.System Operation System Node Operation Dynamically connect and disconnect equipment to/from thecommunications network.Stand-Alone Operation Execute recipes with no communications link.Create and change recipes with no communications link.Manage recipes moved between equipment or from off-line storagethrough removable media.Enable smooth integration of stand-alone equipment into on-line factorysystems.

&lt;!-- Page 43 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 12 1.7 Document Structure  Figure 1.1 depicts the domain of the Recipe Management Standard as consisting ofPurpose, Concepts, Behavior, and Message Services. This also reflects an underlying structure of the document. Figure 1.1Recipe Management Domain Purpose provides the motivation for RecipeManagement capabilities and is addressed in Section1.6. Concepts provide a detailed introduction to thestandardized objects of RMS, their attributes, and theirrelationships with other objects. Behavior describes theoperations that are performed by, or on, these objects.Finally, message services define the messages and theirparameters independently of the protocol in which theyare implemented. Both concepts and behavior representan "inside view" of an RMS application, while servicesprovide an interface from an external view.  Section 1: the formal introduction to RMS. Section 2: an overview of the major objects of RMSand their relationships, to provide a generalcontext for the technical detail that follows. Sections 3-6: concepts for recipes, recipenamespace, distributed recipe namespace, andrecipe executor. Section 7: the concept of the agent and of serviceresources, to provide a more complete context forRMS implementations. Sections 8-11: behavior (operations) for recipemanagement, namespace management, distributedrecipe namespace management, and the recipeexecutor.  Sections 12-14: definitions of message services forthe recipe namespace, distributed recipenamespace, and recipe executor service resources. Section 15: RMS compliance. Section 16: a glossary of terms, provided as aconvenient reference. Related Information: provides backgroundinformation on the requirements behind RMS andexamples of applications.1.8 Applicable DocumentsISO/TR 8509:1987, Information Processing Systems,Open Systems Interconnection  Service Conventions. 2 Overview of RMSThis section provides an introduction to, and overviewof, the major objects of RMS. 2.1 Recipe Management Models  To provide aclearer understanding of the major entities or areas offunctionality specified by RMS, they are portrayed asobjects in RMS models, using OMT notation.Relationship lines in the object-based models do notrepresent a direct communication link between objects,but rather the knowledge and association that one objecthas with respect to another.The models do not indicate the relative location of twoobjects.

&lt;!-- Page 44 --&gt;

SEMI E42-0704 © SEMI 1995, 200413 2.2 Major Objects in RMS  Recipe Management is concerned with the major areas of functionality illustrated inFigure 2.1: recipes3, recipe namespaces providing persistent recipe storage, recipe namespace managers thatprovide management of the namespace and access to its recipes, and the recipe executor that executes recipes. Figure 2.1Major Objects of RMS 3 The recipe object in Figure 2.1 is not itself a standardized object. However, two recipe subtypes defined in Section 3 are standardized objects. 2.2.1 Recipes  Recipes provide a flexible,manipulatable, and re-usable form for users to selectsequencing and settings to effect a particular result.Equipment uses recipes in a variety of ways to controlthe processing environment, sometimes using severaltypes of recipes together. Recipes may also be used formaintenance activities, such as calibration or cleaning.Recipes can be modified and copied from oneenvironment to another. Their inherent flexibility as aform also becomes an endless source of problemsunless they can be managed. Misprocessing,unintentionally running the wrong recipe for a givenproduct, is prohibitively expensive for factories.RMS defines a recipe as an object with attributes information about the recipe  as well as content. It isthe attributes of the recipe that allow true managementof recipes, throughout their lifecycles, to occur. 2.2.2 Recipe Namespace  A recipe namespace inRMS is analogous to a smart file directory. Thenamespace provides long-term recipe storagecapability.Basic operations are part of the namespacespecification. For example, recipes can be copied from one namespace to another, copied within a namespace,renamed, created, updated, and deleted. They can bedownloaded to, and uploaded from, an applicationcalled a recipe executor. Several recipes can be linkedtogether to form a set.The namespace also can serve as a recipe pool that canbe shared by a group of equipment of a common type.The distributed recipe namespace is a namespace ableto utilize and manage recipe storage provided by suchan equipment group. 2.2.3 Recipe Namespace Manager  The recipenamespace itself is passive, a container for recipes. Therecipe namespace manager (manager) provides thedynamic element that manages the namespace. Themanager represents the interface for the namespace tothe external world and the internal decision authoritywithin the namespace.

&lt;!-- Page 45 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 14 2.2.4 Recipe Executor  The recipe executor (executor) is the component of an agent that understands thecontents of a recipe and is able to verify their syntactical correctness and to validate that it can be executed underthe current configuration. It executes a recipe by reading its contents and applying them appropriately in order toachieve a desired result.The recipe executor also may provide additional limited storage capability, but it is restricted from modifyingexisting recipes, except under special conditions, to prevent unexpected and/or unwanted change. 2.3 Agent  As used in RMS, an agent is a system, or subsystem, in a factory, that has a physical aspect. It consistsof one or more applications that provide and/or use service resources, such as a recipe namespace manager and/or arecipe executor, as illustrated in Figure 2.2. Figure 2.2An Example of an Agent and Component ApplicationsAgent is a generalization that covers traditional equipment, supervisory or aggregate systems such as stations, cells,and clusters, and intelligent subsystems within equipment, such as process modules within a cluster. Other types ofagents may also be implemented, such as those dedicated to recipe namespace management.An agent that provides a recipe executor is called an executing agent. Equipment is an executing agent withassociated hardware to which the recipe applies and which it uses to do work. 2.4 Implementations  RMS can be implemented on different platforms within a factory. A host controller mayonly provide recipe namespace management, while a diskless cluster module may provide only recipe execution.Traditional equipment capable of operating in stand-alone mode is required to provide a recipe namespace that isavailable on powerup as well as a recipe executor component. Additional examples of implementations of RMS areprovided in Related Information 1.RMS defines the services provided through an external interface. Communications between or within applicationsthat are internal to an agent are not covered by RMS, so long as the attributes and operations comply with RMSrequirements. 3 RecipesThis section describes the concepts concerning recipes. 3.1 Motivations  Definitions of recipe structure, attributes, and operations address the following issues: maintenance of recipe attributes for management and traceability, provision of a standard method for transferring attributes separately, as well as with the recipe body, reduction or elimination of the need for dedicated recipe editors, support for applications requiring multiple recipe types, such as formats or language syntaxes, run-to-run control,

&lt;!-- Page 46 --&gt;

SEMI E42-0704 © SEMI 1995, 200415  support for sorting by factory approval andcertification levels, the ability to tune a generic recipe for a specificinstallation of agent as well as the same agent overtime, and the ability to share recipes across executing agentssupporting the same recipe syntax or language(s).3.2 Basic Concepts  There are two types of recipesaddressed by RMS, the managed recipe that is storedin a recipe namespace and the execution recipe that isstored in recipe execution storage. This sectiondescribes the basic concepts concerning both types ofrecipes.3.2.1 Types of Recipes  There are three types ofrecipe objects shown in Figure 3.1. Most of RecipeManagement is concerned with the management ofrecipes stored in a recipe namespace. These recipes arecalled managed recipes. Recipes are also stored by therecipe executor in the recipe execution storage, andthese are called execution recipes. Figure 3.1Recipe TypesThe recipe supertype is an abstract type that shows thecommon elements and attributes of the managed recipeand the execution recipe and their differences. Therecipe supertype is not itself intended to beimplemented. That is, recipe object types formallydefined in RMS are either managed recipes orexecution recipes. As indicated by the light lines, thesupertype is not a standardized object. 3.2.2 Recipe Structure  Both the managed and theexecution recipe have a body4 and a set of attributes.The body (contents) of the recipe contains the data usedby the recipe executor for its execution process. Thebody is also not a standardized object and may not beaccessed through Object Services.Figure 3.2 illustrates all of the attributes defined byRMS that are common to both the managed recipe andthe execution recipe. Not all of these attributes arerequired for a minimum implementation of RMS. Therules for setting the values of certain attributes,however, are different for the managed recipe and theexecution recipe. Figure 3.2Recipe SupertypeThe identification attributes, those attributes used forpurposes of identification, are discussed in Section 3.3.The other attributes are discussed in later sectionsspecific to each recipe type.The managed recipe also may maintain a set ofattributes that are specific to a single executing agent.The agent-specific attributes are technically attributesof the association between the recipe and the executingagent. In RMS, however, these attributes are treated asattributes of a component of the recipe called the agent-specific dataset, in order to allow them to be managedwithin the namespace along with the other attributes ofthe recipe. Agent-specific attributes allow the recipe tobe personalized for particular executing agents (i.e.,particular recipe executors). 4 The recipes body corresponds to a process program in SEMI E5and SEMI E30.

&lt;!-- Page 47 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 16 Because the managed recipe may be applied to multipleagents, it may have multiple agent-specific datasets.When a recipe is downloaded from a recipe namespaceto a recipe executor, the managed recipe is transformedinto an execution recipe by taking the agent-specificattributes of the agent-specific dataset for that agent (itsrecipe executor) and merging them into the attributes ofthe execution recipe.Methods of storing a recipe or the components of arecipe are not dictated by RMS. However, theassociation between a recipe's body and its attributesshall be carefully maintained. 3.2.2.1 Recipe Body  The recipe body contains thereusable instructions, settings, parameters, and otherdata that the recipe executor reads to execute the recipeand control its operation.A recipe body may be in one of two basic forms:source (text) or object. The purpose of the source formis to encourage the use of human-readable and human-editable text. The object form supports the typesintended only to be read and applied by machines andother automated systems, such as those produced byvision systems or CAD programs, as well as proprietaryformats created and used by the recipe executor. 3.2.2.1.1 Source Form  Recipes that are created andmodified by a form of editor should be available insource form. The source form of a recipe body isequivalent to a text file, such as ASCII or JIS-8, thatcan be created, read, printed, or modified with any"standard" text editor5. The executing agent is notrequired to supply such a text editor, but its recipeexecutor should be able both to read and write recipesin source form. Editing is not covered by RMS.The source form of a recipe may be copied from onenamespace to another namespace and from anamespace to a recipe executor's recipe executionstorage, and all recipe executors with access to a givennamespace are assumed to use the same recipelanguage and the same functionality.Two restrictions are placed on the interpretation of thetext transferred between agents:  In ASCII, the valid characters are from space(20 16 ) through "~" (7D 16), plus the tab (09 16),linefeed (0A16), carriage return (0D 16), and formfeed (0C16 ) characters. The space and tab are 5 The intent is not to specify the text editor, but rather to allow a userto modify text on the basis of clear guidelines and restrictions thatmay apply. Source form recipes are highly desirable to reduce theproliferation of, and need for, proprietary editors that are dedicatedand language-specific. considered as horizontal whitespace characters,and the carriage return and form feed charactersare considered vertical whitespace characters. Theline-feed character is used to define the end of aline of text (eol). The meaning of a recipe should not depend onembedded control characters, or specificwhitespace characters, or the existence ofwhitespace at the end of a line. Horizontalwhitespace characters should be treated alike forpurposes of interpretation, as should verticalwhitespace characters. All other characters, asidefrom those specified here, are discouraged and, iffound, should be removed from the text prior totransfer.In general, the recipe language and syntax used within arecipe body are beyond the scope of recipemanagement. However, to reduce arbitrary variabilityfor the user, the following "rules" are recommended:  Case is not significant for the purpose ofcomparison or meaning but should be retained asencountered, since it is often used to enhancereadability. For example, the tokens alarmlevel,ALARMLEVEL, and AlarmLevel should all havethe same meaning. Comments may be included in the text and areignored in recipe interpretation. Two types ofcomments are defined: comments that begin withthe character pair "//" continue to the end of theline, while comments that begin with the characterpair "/\*" are terminated only by the character pair"\*/". A comment of the second type is terminatedby the first character pair "\*/" that follows.Comments may not be nested. Nested commentsare not honored and may generate a syntax error. The minimum line consists of a single line-feedcharacter.In addition, recipe languages that support externalreferences to other recipes should use the text formdefined for the recipe identifier (Section 3.2.3.4) andfor the recipe specifier (Section 3.2.4.1.2).The supplier of the recipe executor shall providedocumentation that formally defines each recipelanguage that the agent supports. Two forms arerequired, one for the user, who must be able to writecorrect recipes, and one that covers both the syntacticaland lexical structures of the language using a formaldescriptive protocol such as the Backus-Naur Form(BNF). The second form of documentation allowsparsers to be built that are capable of pre-checking arecipe for syntactic and lexical correctness prior todownloading it. Pre-checking improves efficiency and

&lt;!-- Page 48 --&gt;

SEMI E42-0704 © SEMI 1995, 200417 performance by reducing the demand for recipechecking by the recipe executor.The final responsibility for determining the correctnessof a recipe shall belong to the recipe executor. 3.2.2.1.2 Object Form  Recipes that cannot betranslated into a meaningful source form includedatasets derived from vision systems or mechanicalsystems through a special hardware-dependent "teach"operation. Such recipes may remain in a proprietaryobject form and may or may not be applicable to otherrecipe executors because of their hardwaredependencies.For greater efficiency, recipe executors may rewrite(e.g., tokenize) a source recipe to generate aproprietary object form of the recipe. This is called thederived object form, to distinguish it from object formrecipes that never exist in source form. The agent'smanufacturer may choose to make this form availablefor transfer as well. From the point of view of thesupervisor, the body of a recipe that is in object form isan unstructured binary vector or string. In general, itcannot be edited on a supervisor, and the source formof the recipe is still required. Derived object formrecipes that cannot be used by multiple recipe executorsshould not be stored in recipe namespaces that areshared.Where both the source form and the derived object formexist, the identifier for the object form of the recipeshall be different from that of the source form in somerecognizable way. The supplier of the recipe executorshall provide a documented method for distinguishingone from the other within the identifier. This methodmust be such that the relationship of the derived objectform recipe from the original source recipe is obviousto the user. (See Section 3.2.3.4 for examples.) Anattribute of the recipe, SrcRcpID, is provided to retainthe relationship between the source form recipe and thederived object form recipe. 3.2.3 Recipe Identification  The ability to properlyand unambiguously identify a recipe is critical to bothrecipe management and processing. It is also importantfor the user that identification be logical. RMS definesthree elements used to uniquely identify a recipe withinany recipe namespace. These three elements are therecipe's class, name, and version. Each element isexpressed as a text string, and they are concatenatedtogether to form the recipe identifier (see Section3.2.3.4).3.2.3.1 Recipe Name  The recipe name is a user-defined text string that may be used to encode thetechnology, layer, manufacturing area, and othercharacteristics. The recipe name alone is not necessarily unique within either a given class or a givennamespace.The recipe name is subject to the conventions for textas defined in Section 1.5.1. 3.2.3.2 Recipe Class  A recipe class is a formalgrouping of recipes that have a common syntax. A classmay contain subclasses where the recipes within thesubclasses operate in different environments or havedifferent syntaxes from the parent class and/or from oneanother. A subclass is itself a class and may containfurther subclasses.The overall model for recipes is a set of classhierarchies or "class trees" defined by the supplier ofthe recipe executor. The major classes of recipes are thePROCESS class, the SERVICE class, and possiblyother agent-specific classes. These are called primaryclasses. A primary class is a class that is not a subclassof another class.The PROCESS class is a required primary class and iscomposed of recipes whose primary purpose is toincrease the manufactured value of the productionmaterial 6.The SERVICE class is an optional primary class usedfor recipes whose purpose is to maintain, prepare,calibrate, or test the operation of equipment. Typicalsubclasses of the SERVICE class might beCALIBRATION and CLEANING. SERVICE recipesthat use the same recipe language as normal processrecipes are not required to be placed into a separateprimary class. The SERVICE class allows separationand use of a different syntax for special non-processpurposes.Other primary classes that do not fit the PROCESS orSERVICE may be provided by the supplier of therecipe executor. Such additional classes, and theirfunction, shall be documented.Recipes that are not in the PROCESS class or one of itssubclasses shall not be used for production purposes.However, recipes within the PROCESS class may beused for purposes other than production.Figures 3.3 and 3.4 show examples of object models ofpossible classes and subclasses for a wire-bonder andfor a furnace with an automatic boat-loader subsystem. 6 Material handling systems, wafer metrology, wafer measurement,wafer inspection systems, as well as process equipment whichdirectly changes the characteristics of the material, increase the valueof the material in some way.

&lt;!-- Page 49 --&gt;

SEMI E42-0704 © SEMI 1995, 2004 18 Figure 3.3Wire-Bonder Recipe ClassesThe text form of a recipe class shall conform to the convention for text (Section 1.5.1). Within the text form of arecipe identifier, a class is delimited on both ends by the forward slash character "/". The complete classspecification within recipe identifier is formed by the concatenation of classes and subclasses, starting with theprimary class and ending with the particular class of the recipe in question:/PRIMARY CLASS/SUBCLASS 1/SUBCLASS 2/.For example, a recipe named DryOx, version 4, within the NORMAL CYCLE class in Figure 3.4., has an identifierof/PROCESS/FURNACE/DIFFUSION/NORMAL CYCLE/DryOx;4. Figure 3.4Recipe Classes for FurnaceThe complete class specification, which always starts with the primary class, shall always be accepted. If classnames within a namespace are all unique, however, the service provider may also accept a class designatorconsisting of a single class. The identifier in the example above then becomes/NORMAL CYCLE/DryOx;4.

&lt;!-- Page 50 --&gt;

SEMI E42-0704 © SEMI 1995, 200419 3.2.3.3 Version  A recipe may evolve over time andexist in several versions. This allows the user to retain arecipe name over multiple versions and show therecipe's heritage. Different versions are identified bythe version portion of the recipe's identifier. NOTE:More than one version of a recipe may be in use forproduction at the same time, not only within thefactory, but also within a single equipment.A version is a text string consisting of at least onecharacter. A new version is either generatedautomatically by the recipe namespace or is assignedby the user. A user may assign any combination of textcharacters and punctuation marks to the version, exceptfor:  the characters prohibited by the convention for textusage and the object identifier (Section 1.5.1), whitespace characters.It is recommended, but not required, that only uppercase be used.Numeric versions (version numbers) consist only ofthe digits "0" through "9" and one decimal pointcharacter "." and can be translated to a pure number. Toavoid confusion and multiple versions with the samenumeric value, numeric versions are further restrictedas follows:  whole numbers (with no decimal point) may notstart with a zero "0" followed by another digit, and decimal numbers (with a decimal point) may notstart or end with the decimal point or end with azero following the decimal point.For example, version numbers "09", "1.", ".5", and"1.670" are prohibited. The proper forms with the samenumeric values are "9", "1", "0.5", and "1.67". The usermay assign a version of "0" but not of "00".Versions that are assigned automatically have additionalrestrictions:  They shall be numeric versions, excluding thedecimal point and with a minimum value of "1". Versions shall be assigned incrementally. Whenassigning a version for a recipe with a given classand name, if no other recipe exists within thenamespace with that class and name, then a versionof "1" is assigned. Otherwise, the highest existingversion already in use for that class and name isdetermined, and the new version is assigned avalue equal to that value plus 1. For example, if thehighest version in use has a numeric value of 5,then the next version assigned would be "6". To compare two versions, they are converted toupper-case and compared character by character.3.2.3.4 Recipe Identifiers  The recipe identifier isformed from the concatenation of the recipe's class,name, and version, in that order:/CLASS 1/CLASS2//CLASSn/NAME;VERSIONwhere CLASS1 is a primary class and CLASSi+1 is asubclass of CLASS i. The recipe name follows class.Name and version are always separated by a semicolon";" (3B16).Where CLASS n is a unique class name, the formbecomes/CLASS/NAME;VERSION.The recipe identifier is used for the OSS-requiredattribute ObjID and shall conform to restrictionsimposed on ObjID (see SEMI E39). The total length ofObjID may have additional restrictions imposed by theprotocol.NOTE: There is no necessary relationship between arecipe's identifier or name and any file name(s) underwhich the body and attributes may be stored internally.The recipe identifier is a logical reference to the recipethat is independent of specific platforms andimplementations. In particular, file services provided byoperating systems may have naming restrictions, suchas length, that are incompatible with the requirementsof RMS. A recipe may be stored internally in differentways, such as in a single flat file, a set of related files,or a database. Actual storage methods shall be invisibleto RMS.Where suppliers supporting recipes in source form alsorewrite them, as discussed in Section 3.2.2.1.2, amethod based on the recipe identifier (ObjID) isrequired to both distinguish between the two forms andto recognize the relationship between the originalsource form recipe and the derived object form recipe.The method may use any of the three elements of theidentifier for this purpose. For example, recipes inobject form may be placed in a separate subclass called"/OBJ/", or a suffix such as ".obj" might be appended tothe user-defined name of the original recipe. 3.2.3.4.1 Default Recipe Identifiers  It is alwayspossible to reference a recipe by specifying its fullidentifier (class, name, and version number). In certaincases, described in Section 3.2.4.1.1, it may also benecessary to specify the namespace of a recipe.However, it is not always necessary to specify allcomponents of the identifier. Specifically, class and/orversion may be omitted when a recipe is selected forexecution and within an external reference. Namespaceis not normally specified. Rules define default values