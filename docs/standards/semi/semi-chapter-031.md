---
title: "E32-0997 - Â© SEMI 1994, 19971..."
description: "SEMIæ ‡å‡†æ–‡æ¡£"
sidebar_label: "E32-0997 - Â© SEMI 1994, 19971..."
sidebar_position: 31
tags: ['SEMI', 'Standard']
custom_props:
  source_type: 'pdf'
  source_file: 'semi-chapter-031.pdf'
  chapter: 31
  page_count: 50
---

import PdfDownloadCard from '@site/src/components/PdfDownloadCard';
import PdfSplitView from '@site/src/components/PdfSplitView';

<PdfDownloadCard
  pdfLink="/pdfs/semi/031.pdf"
  pdfSize="N/A"
  title="E32-0997 - Â© SEMI 1994, 19971..."
  description="SEMIæ ‡å‡†æ–‡æ¡£"
/>

---

## ðŸ“– å¹¶æŽ’æŸ¥çœ‹ï¼šMarkdownæ–‡æœ¬ + PDFåŽŸæ–‡æ¡£

<PdfSplitView pdfPath="/pdfs/semi/031.pdf">

---
title: "E32-0997 - Â© SEMI 1994, 19971..."
description: "SEMIæ ‡å‡†æ–‡æ¡£"
sidebar_label: "E32-0997 - Â© SEMI 1994, 19971..."
sidebar_position: 31
tags: ['SEMI', 'Standard']
custom_props:
  source_type: 'pdf'
  source_file: 'semi-chapter-031.pdf'
  chapter: 31
  page_count: 50
---



&lt;!-- Page 1 --&gt;

SEMI E30.5-0302 Â© SEMI 2001, 200229 M20 standard requires that the M20 coordinatesystem is fixed on the wafer, and is not affected by howthe wafer is loaded on equipment. Also, as stated in theSEMI M20 standard, an orientation of 0 is for a waferloaded on equipment with the primary fiducial towardsthe operator or down.R1-2.2.1 Often, no other information is required formeasurements to be made on a wafer. However, theM20 coordinate system may not provide sufficientaccuracy to locate measurement sites on patternedwafers. This is a result of any of a number of possiblereasons, all of which can be described as experimentalerrors. For instance, wafers are not perfectly round,fiducial dimensions may vary, and equipment (bothsteppers that place patterns on wafers and metrologyequipment) capabilities to determine the location of thewafer center and fiducial vary.R1-2.2.2 In order to deal with these errors, metrologyequipment suppliers have developed various strategies,as discussed in the introduction section. Perhapsbecause the SEMI M20 standard's reference toorigins of other coordinate systems is in the samesentence with reference points, many suppliersadopted the location of one (or more) reference point(s)as the origin for their pattern-based coordinatesystem(s). Without a common reference site, multiplecoordinate systems resulted. More nefarious strategieswere developed to compensate for stage errors onequipment. These usually entail a series of referencepoints required to zero in on the measurement site,and this made comparison of locations determined ondifferent equipment next to impossible.R1-2.2.3 MSEM defines the M20P coordinatesystem to be one which is identical to the M20coordinate system, if there were no experimental errors.In other words, the location of the origin and axes of theM20P coordinate system are offset slightly from theorigin and axes of the M20 coordinate systembecause of experimental errors. If the location ofreference points, called alignment sites in MSEM, isdefined to be the "M20" coordinates where they areexpected to be, and equipment is designed to be ableto find the alignment sites, given the various possibleexperimental errors, the found and expected SEMIM20 coordinates can be used to determine theM20-to-M20P coordinate system transformation, asexplained in appendix 1. Alignment site information isspecified through the use of the MSEM data itemsnamed AlignList, the CPNAME CP-ALIGNLIST and,the table type named ALIGN-DEF-LIST.R1-2.2.4 Most metrology equipment cannot distinguishwhether patterned wafer site location errors are due tothe wafer, the layout on the wafer, or the equipment'sability to locate the sites. However, information that is available through the use of patterned-wafer alignmentsites can provide a means for identifying potentialmetrology equipment problems. For instance, assumethat the only pattern-layout location error on a wafer isthat due to the establishment of the location of thewafer center and fiducial. For many users andmetrology systems, this is a good assumption. If this isthe case, then the MSEM data item named XlateDatacan be used to track this error. Although the error mayresult from multiple sources, being able to track it onvarious metrology equipment will enable users to applystatistical process control techniques to identify thespecific sources.R1-2.2.5 Sites specified for measurements oradditional alignments may be found by metrologyequipment at locations which deviate from theirexpected locations through either pattern layout errorsor metrology equipment stage errors. Again, in acontrolled manufacturing process, these combinederrors should be normally distributed, and non-normaldeviations may indicate possible metrology equipmentproblems. These types of errors shall be reportedthrough the use of the MSEM data item named Offset.R1-2.2.6 A minimum of two alignment sites arenecessary to establish an M20P coordinate system ona wafer. Additional sites are often used, as in theexample given in appendix 1. The system supplier shalldocument the requirements for ALIGNLISTinformation, and detail how any site-by-sitealignment sites (that is, those needed to obtain betterlocation accuracy in the neighborhood of measurementsite) are associated with the specific SITELISTmeasurement sites.R1-2.2.7 Alignment site location information may beeither provided to or by equipment. Some equipmenthave the capability to find and report the locations ofreference sites without prior knowledge of theirlocations on the wafer. In this case, the equipment shallreport the location of both alignment and measurementsites in M20 coordinates. When alignment siteinformation is provided to equipment to establish anM20P coordinate, measurement site locations shall bereported in the M20P coordinate system.R1-2.2.8 MSEM encourages users to define M20Plocations in reference to the user's device layout designwithin an ideal SEMI M20 wafer coordinate system.An alternative is to define M20P locations bytraining on a benchmark system.R1-3 Layout of Rectangular Elements on a SiliconWafer Equipment shall be capable of routine,automated operation without needing wafer layoutinformation (e.g., field or die maps). However, havingthe capability to provide wafer layout information to

&lt;!-- Page 2 --&gt;

SEMI E30.5-0302 Â© SEMI 2001, 2002 30 metrology equipment from the host can be desirable. Insome cases, the amount of information required todefine measurement site locations is less if apattern-element-based format is used. MSEM defines ameans to do this in this section, if desired, based onSEMI standard SEMI M21.R1-3.1 SEMI standard SEMI M21, Specification forassigning addresses to rectangular elements in aCartesian array, is limited (for MSEM purposes) bythe fact that nothing is specified about how therectangular elements are located on the wafer. TheSEMI M21 standard details how to assign addressesto elements and how to find the array center element.In this section, MSEM defines how these elements arelocated on a wafer, using the data item namedM21Data, and how to establish within-elementcoordinate systems.R1-3.2 There are users who want or require much morelayout information than is provided for by SEMI M21,such as within-element structure details or elementattribute information. This additional layoutinformation is beyond the scope of MSEM, since it isconsidered to be information which only is needed toaid operator-interactive use of metrology systems.R1-3.3 MSEM M21 Layout The first patternelement layout issue to be addressed is that ofdetermining which SEMI M21 elements are to beincluded in the MSEM M21 layout. MSEM definesthe M21 layout to include all elements which eitherwholly or partially are within the circumference of thewafer. Thus the MSEM M21 element layout does notcorrespond to the pattern layout exactly, since someM21 elements may not contain patterns.R1-3.4 The second layout issue is that of how best tospecify the element locations on the wafer. The MSEMapproach is to specify the M20P coordinate for thelower left corner of the minimum number of elementsneeded to define the layout, along with the elementaddresses. For a non-tiled layout, the location of asingle element is sufficient to establish the M21layout. For tiled layouts, the location of one element ineach row or column is required. Note that the locationof the lower left corner of an element may be outsidethe circumference of the wafer.R1-3.5 Layout definition is supported only forhost-to-equipment communications. The user is responsible for ensuring that the element addressesprovided to the equipment agree with the SEMI M21specification. The equipment need not check this, otherthan to ensure that there are not conflicts within theprovided layout, and shall report results with elementaddresses as provided by the user.R1-3.6 M21 layouts are established within the M20Pcoordinate system, and need not require any additionalalignment site data than is needed to establish theM20P coordinate system. However, as with M20P,additional alignment may be necessary because oferrors in either the pattern layout or the equipment'sability to locate features. OFFSET shall be used toreport the location corrections that result from anywithin-element alignments.R1-3.7 MSEM provides a means for element-basedcoordinate systems, if required. This capability isprovided by the option of specifying M21 as thecoordinate system for ALIGN-DEF-DATA andSITEDEFDATA items. For element-based sitelocations, MSEM requires that SEMI M21 elementcoordinate systems have x and y axes parallel to therespective M20-based coordinate system axes, withtheir origins at the lower left corner of each element.R1-4 An Example of How an M20P Coordinate Systemis Established on a Silicon WaferR1-4.1 The following example is fairly basic. For thisexample, the equipment does M20P alignment via arepeated two-step process. The first step is done at alow resolution, the second at a high resolution, and theprocess is done at two positions on the wafer.R1-4.2 The equipment documentation states that 4alignment sites are required. These are defined to theequipment via the table type named ALIGN-DEF-LIST, as detailed below. The order of the sites inALIGN-DEF-LIST is not important. The sites are thenselected via the CPNAME item namedCP-ALIGNLIST, which is included in the PP-SELECTcommand. The order of the sites listed inCP-ALIGNLIST is important, and is as specified in theequipment's documentation. The first site is thealignment site for the first low resolution site, thesecond item is for the first high resolution site, the thirditem is the second low resolution site, and the fourth isthe second high resolution site.

&lt;!-- Page 3 --&gt;

SEMI E30.5-0302 Â© SEMI 2001, 200231 Table R1-1 ALIGN-DEF-LISTAlign-Name Coordx Coordy Coordsys Align- Attribute(n)Coarse1 -60000 -200 M20P Fine1 -60020 -205 M20P Coarse 2 60000 200 M20P Fine2 59980 195 M20P R1-4.3 ALIGN-DEF-LISTL,41. 2\. 3\. 4\. R1-4.4 Using this information, the equipment will go to the nominal M20 location for Coarse, then find where itactually is. The offset between the nominal M20 location and the actual M20 location is then used to find Fine1.The actual M20 location of Fine1 is saved. The process is then repeated for Coarse 2 and Fine2. The equipment cannow determine the M20 to M20P offset from the nominal and actual coordinates.First, a summary of the data:xN1=-60020 yN1=-205 Nominal x and y data for the first fine sitexA1=-59800 yA1=-150 Actual x and y data for the first fine sitexN2= 59980 yN2= 195 Nominal x and y data for the second fine sitexA2= 60060 yA2= 175 Actual x and y data for the second fine site R1-4.5 The equipment first calculates THETA (  ), using, for example, the formula: += MNMAMNMA1tan 1 where MA and MN are, respectively, the slopes of the lines connecting the nominal and actual fine sites, in M20coordinates, calculated as follows: MA yA yAxA xA MN yN yNxN xN=   =  2 12 12 12 1 R1-4.6 The equipment then calculates DELTAX and DELTAY, using, for example, the formulas: DELTAX C D= ++ sin ( ) cos ( )(sin ( )) (cos ( ))  2 2 DELTAY C D= + sin ( ) cos ( )(sin ( )) (cos ( ))  2 2

&lt;!-- Page 4 --&gt;

SEMI E30.5-0302 Â© SEMI 2001, 2002 32 Where C and D are the adjusted site 1 coordinates in a rotation-adjusted coordinate system calculated, for example,using the formulas:C = yA1 - ((xN1 sin ) + ((yN1 cos )D = xA1 - ((xN1 cos ) - ((yN1 sin ) R1-4.7 The equipment can also calculate a SCALEFACTOR term to indicate the relative difference between thelength of the vector connecting the nominal alignment sites and the length of the vector connecting the actualalignment sites. This can be used, for example, to judge whether there is a problem with the alignment process,since the difference between these two vectors should be small. SCALEFACTOR VAVN= where VA and VN are the length of the vectors connecting the actual and nominal alignment sites, calculated usingthe formulas: ( ) ( )VN yN yN xN xN=  + 2 122 12 ( ) ( )VA yA yA xA xA=  + 2 122 12

&lt;!-- Page 5 --&gt;

SEMI E30.5-0302 Â© SEMI 2001, 200233 Figure R1-1M20/M20P Coordinate Systems Example R1-5 Multi Measurement Station Metrology Equipment  MSEM implementation on metrology equipment withmultiple measurement stations should follow guidelines setablished for multi-processing station SEMS such as theApply and Develop Track Specific Equipment Model (SEMATECH ID #: 95113021AENG Title: SEMATECHApply/Develop Track Specific Equipment Model (ADTSEM), Version 0.8, January 4, 1996). NOTICE:. SEMI makes no warranties or representations as to the suitability of the standards set forth herein forany particular application. The determination of the suitability of the standard is solely the responsibility of the user.Users are cautioned to refer to manufacturers instructions, product labels, product data sheets, and other relevantliterature respecting any materials mentioned herein. These standards are subject to change without notice.The users attention is called to the possibility that compliance with this standard may require use of copyrightedmaterial or of an invention covered by patent rights. By publication of this standard, SEMI takes no positionrespecting the validity of any patent rights or copyrights asserted in connection with any item mentioned in thisstandard. Users of this standard are expressly advised that determination of any such patent rights or copyrights, andthe risk of infringement of such rights, are entirely their own responsibility. Copyright by SEMIÂ® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 6 --&gt;

SEMI E32-0997 Â© SEMI 1994, 19971 SEMI E32-0997MATERIAL MOVEMENT MANAGEMENT (MMM) CONTENTS1 Introduction1.1 Purpose1.2 Scope1.3 References1.4 Conventions1.4.1 State Models1.4.2 Object Services2 Definitions3 Overview3.1 Macro and Micro Levels3.2 Ports and Locations3.3 Compliance4 Macro Level4.1 Macro Level Concepts4.1.1 Macro Level Definitions4.1.2 Atomic Transfer4.1.3 Compound Transfer4.1.4 Parallel Transfers4.1.5 Transfer Recipe4.1.6 Transfer System Controller as TransferAgent4.1.7 Transfer Job4.2 Macro Level Behavior4.2.1 Macro Level Communications4.2.2 Transfer Job State Model4.2.3 Atomic Transfer State Model4.3 Extended Behavior Models4.3.1 Extended Communications4.3.2 Extended Transfer Job State Model4.3.3 Extended Atomic Transfer State Model4.4 Macro Level Services4.4.1 Service List4.4.2 Service Detail 4.4.3 Parameter/Attribute Definitions4.5 Object Attribute Definitions4.5.1 Equipment4.5.2 TransferJob Object4.5.3 AtomicTransfer Object5 Micro Level5.1 Micro Level Concepts5.1.1 Micro Level Definitions5.1.2 Micro Level Description5.2 Micro Level Behavior5.2.1 Micro Level Communications5.2.2 Micro Level Messaging via Host5.3 Extended Behavior5.4 Micro Level Services5.4.1 Service List5.4.2 Service Detail5.4.3 Parameter DefinitionsApplication NotesA1-1 Transfer-Related MechanismsA1-1.1 Example Port State ModelA1-1.2 Additional Related MechanismsA1-2 WIP TrackingA1-3 Error HandlingA1-3.1 Macro Level Error HandlingA1-3.2 Micro Level Error HandlingA1-4 Practical ApplicationsA1-4.1 Passive TransferA1-4.2 Active Transfer/Exchange of CassettesA1-4.3 Sequential MovesA1-4.4 Linked LithographyA1-4.5 Non-Compliant Transfer PartnerIndexList of TablesTable 4.1 Transfer Job State Transition Table

&lt;!-- Page 7 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 2 Table 4.2 Atomic Transfer State Transition TableTable 4.3 Extended Transfer Job State TransitionTableTable 4.4 Extended Atomic Transfer StateTransition TableTable 4.5 Equipment Object Definition TableTable 4.6 TransferJob Object Definition TableTable 4.7 AtomicTransfer Object Definition TableTable A1-1 Extended Atomic Transfer StateTransition TableList of FiguresFigure 1.1 Illustration of Material MovementScopeFigure 3.1 Port vs. LocationFigure 4.1 Transfer Job SequencingFigure 4.2 Macro Level Message FlowFigure 4.3 Macro Level Messaging With EventsFigure 4.4 Transfer Job State Diagram for a SinglePortFigure 4.5 Transfer Job State Model for MultiplePortsFigure 4.6 Atomic Transfer State DiagramFigure 4.7 Extended Transfer Job State ModelFigure 4.8 Extended Atomic Transfer StateDiagramFigure 5.1 Micro Level Message FlowFigure 5.2 Micro Level Message Flow via HostFigure A1-1 Example Port State Diagram

&lt;!-- Page 8 --&gt;

SEMI E32-0997 Â© SEMI 1994, 19973 SEMI E32-0997MATERIAL MOVEMENT MANAGEMENT (MMM) 1 IntroductionAutomated material movement represents a significantmilestone in the evolution of automation insemiconductor manufacturing. The standardization ofthe transfer process is critical to the economic viabilityof material movement automation. This standardaddresses the communications needs of thesemiconductor manufacturing facility with respect tomaterial movement.1.1 Purpose  This standard addr esses automatedmaterial movement on the semiconductor factoryfloorthe task of transporting objects (material, et al)from one processing or storage location to another. Itdefines the concepts of material movement, thebehavior of the equipment (including transfer devices)in relation to material movement, and the messagingservices which are needed to accomplish the task.1.2 Scope  The scope of this sta ndard is definedfrom two viewpoints. The first is the breadth of thefunctionality covered. The second is the depth to whichit is covered.The breadth of functionality covered by this standard islimited to the activity required to transfer an objectfrom a location on entity A to a location on entityB under the supervision of a factory host. Thistransfer may occur directly between two factory processequipment, or may involve the assistance of a transferagent, a device dedicated to material transfer. Thus,the material movement domain includes a maximum offour types of entities (see Figure 1.1): Figure 1.1Illustration of Material Movement Scope 1. The factory host, which might, for example, be afactory controller or cell controller.2. The set of process-related equipment, to which thehost communicates.3. The transfer agent, which performs the physicaltransport of the material in the factory. The transferagent might communicate directly with the host orbe controlled by an intermediate system.4. This intermediate system, the transfer systemcontroller, is the fourth type of entity.This document assumes that the transfer systemcontroller is either a part of the host or a part of apotentially complex transfer agent (as shown by thedotted boxes in Figure 1.1). Thus, the term transfersystem controller seldom appears. The case where atransfer agent is actually a transfer system controllerplus multiple transport devices is discussed further inSection 4.1.6.There are some forms of material movement that do notfall within the domain of this standard and thus are notapplicable to the methods described below. Oneexample might be a non-deterministic system, such as aconveyer where generic parts are placed onto thesystem and circle until randomly selected by aworkstation needing that type of part.

&lt;!-- Page 9 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 4 The subject of alarm reporting is not covered in thisdocument. While material movement-related alarmsituations will exist, the definition of the mechanism forreporting such alarms is left to other standardsdocuments.This standard presents a solution from the concepts andbehavior down to the messaging services. It does notdefine the messaging protocol.A messaging service includes the identification that amessage shall be exchanged and definition of the datacontained within that message. It does not includeinformation on the structure of the message, how thedata is represented within the message, or how themessage is exchanged. This additional information iscontained with the message protocol.The defined services may be applied to multipleprotocols. Information on the mapping of materialmovement services to specific protocols (e.g., SECS-II)are added as adjunct standards.1.3 References  The following S EMI standards arerelated to the Material Movement standard:SEMI E5  SEMI Equipment CommunicationsStandard 2 Message Content (SECS-II)SEMI E23  Specification for Cassette TransferParallel I/O InterfaceSEMI E30  Generic Model for Communications andControl of SEMI Equipment (GEM)SEMI E39  Object Services Standard: Concepts,Behavior, and ServicesOther References:ISO/TR 8509:1987, Information Processing Systems,Open Systems Interconnection  Service ConventionsHarel, D., Statecharts: A Visual Formalism forComplex Systems, Science of Computer Programming8 (1987) 2312741 1.4 Conventions1.4.1 State ModelsDefinition of behavior of systems or subsystems isbased upon state models using the Harel notation. Adiscussion of this notation is available in the article byDavid Harel referenced above.The Harel notation does not include the concept ofcreation and deletion of state models to representtransient entities. The transfer job described in thisdocument is such an entity, where each new transfer job 1 A brief tutorial on the Harel Statechart Notation is provided asApplication Note A.5 of the SEMI E30 (GEM) standard. created uses a copy of the same state model. In thisdocument, the use of an oval is used to denote thecreation of an entity and also the deletion of that entity.Transition tables are provided in conjunction with thestate diagrams to describe explicitly the nature of eachstate transition. A transition contains columns forTransition #, Current State, Trigger, New State,Action(s), and Comment. The trigger (column 3) forthe transition occurs while in the current state. Theactions (column 5) include a combination of (1)actions taken upon exit of the current state, (2) actionstaken upon entry of the new state, and (3) actions takenwhich are most closely associated with the transition.No differentiation is made.1.4.2 Object Services  SEMI E39 Object ServicesStandard (OSS) requires that standardized objects besubtypes of the Top Object, that their attributes bedefined in a table format and include specification ofthe value for object type, and that the objects supportthe GetAttr and SetAttr services. See SEMI E39 fordetails.

&lt;!-- Page 10 --&gt;

SEMI E32-0997 Â© SEMI 1994, 19975 Standardized objects are supported by an attribute definition table with the following column headings: Attribute Name Definition Access Reqd FormThe formal text name ofthe attribute.Description of the information contained. RO or RW Y or N Any valid form.(See below.) Access  RO (Read Only) or RW (Read and Write) toindicate the access that users of the service have to theattribute.Reqd  A Y or N in the Required (Reqt) columnindicates if this attribute must be supported in order tomeet fundamental compliance for the service.Form  Indicates the format of the attribute. (SeeSection 4.5.2 for definitions.) 2 DefinitionsThe following definitions are arranged in alphabeticalorder. Some are defined using terms defined elsewherewithin this section. Please reference such definitions asneeded. No references beyond this section should benecessary for a basic understanding of these terms.Active Transfer Partner  (Opposite of PassiveTransfer Partner) A transfer partner is considered activewhen it physically participates in the micro levelportion of the transfer, either by moving the transferobject or by moving impediments within the transferenvelope (e.g., doors, clamps). This term refers to themicro level transfer phase only, and not to any setupactivities prior to the transfer (e.g., a port door may beopened during setup phase by passive partner).Atomic Transfer  The basic unit of movement. Thetransfer of a single transfer object from Equipment Adirectly to Equipment B where only one change inownership occurs.Compound Transfer  Combination of two or moreatomic transfers executed sequentially or concurrentlyto achieve a single goal (e.g., exchange carriers or movea carrier between process machines using a transferagent).Dynamic Port  (Opposite of Static Port) A port withassociated mechanisms capable of assisting with thephysical movement of a transfer object or of interferingwith the transfer of an object during the transfer. Suchmechanisms may include doors, elevators, and robotarms. A transfer partner using a dynamic port for thetransfer may be active or passive as required.NOTE 1: The concepts of dynamic and static areassociated with a port rather than equipment, as equipmentmay have both dynamic and static ports.Equipment  Mechanical entity in the factory whichplays a role in the manufacturing process. The equipment referenced in this document includemachines used for processing, transport, and/or storageof material (see definition of material).Host  In the context of material movement, the hostis an entity, generally separate from either transferpartner, which coordinates and supervises a transferjob.Interactive Transfer  A transfer in which bothpartners are active and must interact in the performanceof the transfer.Interfering  A dynamic port is interfering when anyof its associated mechanisms are positioned where theyare capable of physically obstructing the transfer.Macro Level  Level of material movement thatinvolves coordination by the host but may not requireknowledge of the physical process used to accomplishthe material transfer.Material  A term used interchangeably with transferobject to refer to discrete objects which may betransferred to and from equipment. This may includeproduct, carriers, reusable fixtures, etc. See transferobject definition.Material Location  A physical position on a piece ofequipment at which a transfer object may reside. Manymaterial locations may be accessed directly through aport, but this is not a requirement. Some materiallocations internal to the equipment may not beaccessible by a transfer agent.Message Service/Service  A service (or a messageservice) represents a set of functions offered to a userby a provider. An unconfirmed service consists of asequence of service primitives  the request from thesender to the communications facility and an indicationto the receiver from the communications facility. Eachof these service primitives is described by a list ofparameters. A confirmed service adds a response to theinitial request. The primitives for a response are calledthe response and the confirmation. A service excludesdefinition of message structure and protocol.Micro Level  Level of material movementcharacterized by peer-to-peer interaction of the transferpartners to achieve synchronization of the detailedmechanical steps of material transfer.

&lt;!-- Page 11 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 6 Object  Webster's defines an object as somethingperceptible. In the software world, an object is acombination of attributes and behavior. It may refer tosomething concrete, such as a transfer object, or to aconcept, such as a transfer job.Ownership  An equipment is said to own a transferobject from the time the object is transferred into one ofits ports until it is transferred out of the equipment. Thisindicates that the equipment has physical control of thetransfer object.Passive Transfer  A transfer that involves one activeand one passive partner. During a passive transfer, theactive partner retains control of the transfer envelopeduring the entire physical transfer.Passive Transfer Partner  (Opposite of ActiveTransfer Partner) A transfer partner is consideredpassive when it takes no part in the physical micro leveltransfer, moving nothing within the transfer envelope.This term refers to the physical micro level transferphase only. Setup activities prior to the transfer may beperformed by a Passive Transfer Partner (e.g., a portdoor may be opened during setup phase).Port  A point on the equipment at which a change ofequipment ownership of a transfer object occurs. A portis not itself a material location, but shall have anassociated location. A port may be thought of as anaccess point to an a material location on an equipment.The definition of the term port includes any dedicatedmechanisms that either prepare for, facilitate, or arecapable of interfering with the transfer. All equipmentshall have a minimum of one port.NOTE 2: While they are of use to the host system, thecommonly used designations Input Port and Output Portare irrelevant in the context of this document. They are basedon a flow of material through an equipment rather than themovement of transfer objects (which may be carriers ratherthan the material itself). Transfer objects may have to bemoved into and out of both these types of ports.Receiving Port  For a specific transfer, the port intowhich a transfer object is to be placed.Sending Port  For a specific transfer, the port fromwhich a transfer object is to be removed.Static Port  (Opposite of Dynamic Port) A port withno associated mechanisms capable of assisting orinterfering with the transfer of an object. A transferpartner utilizing a static port for the transfer shallalways be passive.Transfer Agent  An equipment specialized to thetransport of material from one equipment (or storagearea) to another. Transfer Envelope  The three-dimensional spaceoccupied during the transfer by the transfer object andall associated transfer mechanisms of both transferpartners. This defines the space in which transferactivity occurs and in which the potential for physicalinterference with the transfer exists.Transfer Job  The set of atomic transfersconstructed by the host to accomplish a cohesivematerial movement objective. See the section oncompound transfers below.Transfer Object  A physical object that istransferred to and from equipment, such as a productmaterial, an empty carrier, or a carrier containingmaterial to be processed. Tools (e.g., stepper reticles)and expendable materials also may be transfer objects.The term material is used interchangeably withtransfer object.Transfer Partners  In a given atomic transfer, theequipment sending a transfer object and the equipmentreceiving the transfer object are transfer partners.Transfer Specification  The list of data provided bythe host to define an atomic transfer.Transfer System Controller  Entity that is responsiblefor management of multiple transfer agents. Thetransfer system controller presents a singlecommunications interface to its host representing thesemultiple agents. 3 OverviewMaterial movement is concerned with the transfer ofobjects (WIP, tools, expendable materials, etc.) amongprocess equipment, buffers, and storage facilities. Theseobjects may optionally be contained (singly or in mass)within a carrier. Empty carriers may also be consideredobjects.Material movement may include several different typesof entities. These are divided into two classes: Host andEquipment. The host is the supervising entity whichorganizes the transfer and gives the appropriatedinstructions to each equipment involved. An equipmentphysically participates in the transfer, either sending orreceiving material. The class of equipment may bedivided into three types:Process Equipment  Equipment which performsvalue-added operations on the factories products. Thisincludes those equipment which physically changes theproduct and those which measure/test the product.Transfer Agent  A type of equipment specialized tothe movement of transfer objects from place to placewithin a factory. Transfer agents themselves may be ofdifferent types and with widely-differing

&lt;!-- Page 12 --&gt;

SEMI E32-0997 Â© SEMI 1994, 19977 characteristics. These may be fixed-arm robots, robotarms on a fixed track, AGVs with or without robotarms, overhead gantries, cars on tracks, or even transfersystems containing a heterogenous collection of othertransfer agents. Humans also may act as transfer agents.Storage Areas  A type of equipment used to holdtransfer objects pending further processing (if product)or use (if reticles, etc.) within the factory. A storagearea may be as sophisticated as an automated WIP Binor as simple as a shelf.3.1 Macro and Micro Levels  M aterial movement isseparated into two levels. The more abstract level,called the macro level, consists of all messagetransactions used by the host in its coordination role. Atthe macro level, the host is responsible for determiningwhat material is to be moved, from where, to where,and when. The host shall provide each party involved ina transfer job with the information necessary to performits part of that transfer job.A transfer job may be composed of multiple handoffoperations, or Atomic Transfers. Each atomic transferinvolves only two equipment, termed TransferPartners. In order to perform this handoff operation,the transfer partners must achieve a level ofsynchronization. The communications between thetransfer partners is called the micro level of materialmovement.These communications occur between the two partnersin a peer-to-peer fashion. Micro communications maybe implemented via a direct equipment-to-equipmentconnection 2 or by passing messages indirectly throughthe host.The macro and micro levels are designed to worktogether so that the host may initiate the transfer andthen allow the transfer partners to perform the jobinteractively. However, these two levels may be usedseparately. For instance, the macro level may becombined with functionality of the SEMI E23 (CassetteTransfer Parallel I/O Interface Specification) standard.Additionally, under some conditions there may not be ahost coordinating the transfer. Instead, one of thetransfer partners might be in control. Here, the microlevel may still be used to accomplish the transfer. Thecontrolling partner would perform the coordinationfunctions normally in the domain of the host.In this standard, the macro and micro levels are definedseparately, each with its concepts, behavior, andservices. 2 In this context, connection is intended to mean a direct logical link,rather than a hard wired connection. 3.2 Ports and Locations  A port may be considereda point of entry to the equipment. A location is areceptacle for a transfer object. At any time, a port shallbe linked to at least one location. However, somelocations may be internal and never be linked to a port.For typical factory equipment, there is a permanentone-to-one correspondence between the port and alocation. However, not all semiconductor equipmentfollows this pattern. For instance, the port on a transferagent that includes a robot arm and multiple on-boardstorage locations is actually the gripper on the robotarm. The gripper is also a location. In another case, aport may actually feed a rotating carousel containingmultiple locations. The port in this example would bethe access door to the carousel. The location linked tothis type of port would be the one in front of the door attransfer time and would change whenever the carouselrotates. Figure 3.1 helps to illustrate the differencebetween ports and locations. Figure 3.1Port vs. Location

&lt;!-- Page 13 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 8 It is important to note that the attribute of full orempty belongs to a location rather than a port. A portthat has just received a transfer object may be able toreceive another immediately. Likewise, a port that hassent a transfer object may have more material availableto send.3.3 Compliance  Compliance to this standardincludes adherance to all stated requirements in thisdocument. This includes all defined messages services,state models, and communications scenarios.This standard may be divided into two parts: Material Movement Macro Level, and Material Movement Micro Level.An equipment may be compliant to one of these partswithout the other. Details of compliance to each ofthese parts are defined in the body of this document. 4 Macro LevelThe set of host&lt;-&gt;equipment interactions needed tofacilitate a transfer is called the macro level. Theseinteractions concentrate on the definition of the transferspecification, and leave the details of the physicaltransfer to the micro level interactions.In addition to the services defined in Section 4, theGetAttr service defined by SEMI E39, Object ServicesStandard, is supported by this standard. The definitionfor the GetAttribute service defined in Section 4 will beremoved and no longer supported in 1998.4.1 Macro Level Concepts  The macro level isdesigned with the intent of creating a widely applicable,host coordinated material movement capability. Theresult is a sequence of interactions from host toequipment that is used to accomplish the coordinationof material movement required on the manufacturingfloor.The elements of material movement common to alltransfers make up the framework. Other elements whichdiffer from implementationtoimplementation arepushed, as much as possible, into the data portions ofcommunications. The common elements identified areas follows: The host is responsible for designating the transferpartners which are compatible for transfer. The host must supply the necessary information forthe transfer to each partner. Once transfer is defined, the responsibility movesto the transfer partners, especially the designatedprimary partner 3 . The host may monitor the 3 See the definition for primary transfer partner in Section 4.1.1. transfer, but leaves the details to the transferpartners. The transfer partners inform the host of milestonesduring the process and of process completion.Some of the elements which are more implementation-specific are: Which partner is the sender and which is thereceiver of material. This has no intrinsicrelationship to other details, such as the selection ofthe primary transfer partner. Whether a transfer partner is passive or activelyparticipates in the transfer. This also becomes adata issue. The method (mechanism) of an interactive transfer.This may vary depending on the transfer partners'capabilities and system design. Interaction withdifferent partners may require different methods.Transfer recipes containing this information maybe specified by the host as a part of the transferspecification.The host must have some knowledge of the capabilitiesof the transfer partners it designates to perform atransfer. It must understand which partners arecompatible. If compatible, it must know the proper rolefor each partner of the transfer and what methods mustbe used. If an interactive transfer is warranted, the hostmust be able to determine which partner should be theprimary. Definition of the mechanism for suchdeterminations by the host is beyond the scope of thisdocument.4.1.1 Macro Level DefinitionsAbort  The immediate termination of an active job,including a complete stop of all transfer job-relatedmovement. An abort may be initiated by the host (andoptionally by the operator). An abort by the host isdirected at a transfer job, not at an individual atomictransfer. When told to abort, a transfer job shall, in turn,abort its atomic transfers. The abort command isintended to be used only in situations where there is riskof material or hardware damage.Allocate  The formal reservation of an entity'sresources for a specific purpose. In this document, itrefers to the reservation of an equipment's resources fora specific transfer job or atomic transfer. Allocation ofneeded material locations for a transfer job occurs justprior to that job becoming active. Allocation of requiredport-related resources occurs just prior to the start of anatomic transfer.Commit  The commit by the equipment indicates areadiness to begin the actual material handoff. The

&lt;!-- Page 14 --&gt;

SEMI E32-0997 Â© SEMI 1994, 19979 commit follows any setup activities and coincides withentry to the HANDOFF state. For example, an AGVmay not be allowed to commit until it has moved to thepoint of transfer. The point at which an equipment maycommit is equipment-specific. There is a separatecommit for each atomic transfer in a job.Deallocate  The release of allocated resources. In thisdocument, it refers to the equipment's release of theresources reserved for a transfer job or an atomictransfer.Port Resources  Equipment-controlled mechanismsthat serve a port. An example of a port resource is acassette indexer that changes to elevation of thematerial location. A port resource is available only tothe atomic transfer that has allocated that port.Primary Transfer Partner  The partner that controlsthe micro level transfer and that would receive theoptional host command to initiate the transfer. Theprimary transfer partner shall always be an activepartner for the transfer. For an interactive transfer, thenature of the transfer partners may determine whichshould be primary. Otherwise, the host may choose.Restore  An operation associated with a transfer jobwhich causes the resources used by that job to bereturned to the preferred idle conditions (e.g., portaccess door closed). When a transfer job involvesmultiple ports on an equipment, restore activities aredone on a port-by-port basis as each port is no longerneeded by the transfer job.Secondary Transfer Partner  The opposite of theprimary transfer partner. This partner is either passiveduring the transfer or is controlled by the primarytransfer partner. If active, this partner shall awaitcommunications from the primary partner before acting(see micro level).Setup  A process associated with an atomic transferthat causes the port resources to achieve required pretransfer conditions (e.g., port access door open).Stop  A command available to the host that causes anorderly termination of a transfer job. Upon receipt of astop command, the equipment shall complete allcurrently active atomic transfers, execute the restoreprocess, and then terminate.4.1.2 Atomic Transfer  An atomic transfer is thehandoff of a transfer object from one equipment toanother. This is the fundamental building block ofmaterial movement. An atomic transfer includes theminimum number of physical participants in the move:one sender and one receiver. Thus, only one change ofownership shall occur in an atomic transfer. Alltransfers required in practice can be constructed as aseries of atomic transfers. A set of atomic transfers combined to make a complex but cohesive transfer iscalled a compound transfer.4.1.3 Compound Transfer  On the factory floor,many material transfer situations will require multipleatomic transfers. For example, the host may determinethat a material carrier needs to be moved fromequipment X to equipment Y by transfer agent T.To accomplish the transfer would require two atomictransfers, first T acquires the carrier from X, then itdelivers it to Y. A compound transfer might involveseveral equipment and include parallel as well assequential execution of atomic transfers.4.1.4 Parallel Transfers  Each por t on an equipmentis a separate entity. It is possible, within the limitationsof the equipment and transfer agents, to execute paralleltransfers involving separate ports on an equipment.These parallel transfers may be with the same transferpartner, or with multiple partners. There are no inherentrestrictions to a transfer job simultaneously executingmultiple atomic transfers on an equipment. If anequipment's ports are static (i.e., always passive), theequipment should allow parallel transfers. If the portsare dynamic, there may be some sharing of resourceswhich could limit this (e.g., use of the same robot arm).An equipment is not required to allow parallel transfers.4.1.5 Transfer Recipe  The transfe r recipe is anelement of the transfer specification. The scope of atransfer recipe is one atomic transfer. A transfer recipemay contain information defining the following aspectsof a transfer: setup/restore operations, sequence of handoff operations (see micro level), micro level commands to be issued by the primarypartner to the secondary transfer partner, parameters relating to the transfer.Thus, the host may use the transfer recipe tocommunicate the details that make it possible to preparefor and carry out the micro level transfer.Use of transfer recipes is not a requirement. However,these recipes provide for dynamically programmingan equipment to interact properly with what may be acompletely different type of equipment. For instance, itmay be possible to teach one transfer partner theproprietary commands that the other partnerunderstands by embedding those commands in atransfer recipe. During the transfer, the primary partnercould issue those commands at the proper time usingstandard micro level messages (see Section 5).Transfer recipes should be created and managedaccording to applicable SEMI standards and in a similar

&lt;!-- Page 15 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 10 manner to other types of recipes on the equipment (e.g.,process recipes).4.1.6 Transfer System Controller as Transfer Agent A transfer agent is an entity to which transfer-relatedcommands are given in order to carry out transfer jobs.A transfer system, which might include several materialtransport devices, can be described the same way.However, there are some important differences.There are a number of ways that a host could view atransport system, including: as a single transfer agent with numerous ports, as a single transfer agent with a single port andnumerous internal locations, as multiple logical transfer agents with their ownports, or as the set of real transfer agents that the transfersystem controls.The transfer system may conceal from the host thevarious internal operations (e.g., handoffs, travel paths)that it uses to complete a transfer. It may even hide theactual physical location (or series of locations) andprovide a logical location for host reference.4.1.7 Transfer Job  The host's ma terial transferobjectives are defined in a transfer job. This transfer jobmay be a single atomic transfer or a compound transfer.A compound transfer job consists of multiple atomictransfers grouped together to accomplish a morecomplex objective. A typical compound transfer mayalso be accomplished by creating a separate transfer jobfor each required atomic transfer. The decision to groupatomic transfers into a transfer job is application-dependent.The key advantages to the use of compound transferjobs are the reduction of the communication overheadto the host and the streamlining of the transfer process.The communication overhead is reduced by the fact thatthe host can define a number of atomic transferoperations with a single message to the equipment. Theequipment are not required to wait for host commandsbetween these atomic transfers.The process is streamlined by virtue of the removal ofredundant physical activities during the transfer job.Total setup and restore time for a port may be reducedif the setup for consecutive atomic transfers is similar.One example of streamlining would be the exchangeof carriers between equipment, where a transfer agentmight bring an empty carrier to replace a full carrier onthe output port of a machine. If the port has a doorthat is opened during transfer preparation and closedduring the restore phase, the door would be better left open for both atomic transfers. Upon completion of theremoval of the first transfer object, rather than close thedoor, the new transfer is begun and the door left open.The two atomic transfers would thus be executed as onesmooth swap transfer without wasted time.Equipment View of Transfer Job  A transfer job mayinvolve a number of equipment and ports. Each of theinvolved equipment is given a Transfer Job Createrequest that specifies only the portion of the overalltransfer job that involves that equipment. Only the hostis guaranteed a complete picture of a compoundtransfer. In the example where a transfer job wascreated to move a transfer object from X to Y viatransfer agent T, X would see send material to T, Y would see receive material from T, and T would see get material from X and putmaterial on Y.Atomic Transfer Sequencing Guidelines  When thetransfer job given to an equipment contains multipleatomic transfers, the guidelines for performing thosetransfers are: Atomic transfers for a specified port are performedin the sequence given. When a transfer job references multiple ports onthe equipment, these ports may execute theiratomic job sequences in parallel to the other ports.See Figure 4.1 for an illustration of the flow of acomplex transfer job from the view of one equipment.The three parallel paths show a possible chronology fora transfer job.

&lt;!-- Page 16 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199711 Figure 4.1Transfer Job Sequencing There are exceptions to the sequencing guidelinesabove. One case would be a device designed tosimultaneously transfer from multiple ports on onemachine to corresponding ports on another. This wouldtranslate into synchronized parallel atomic transfers onseparate ports. Another case would be two atomictransfers involving the same port that might happenconcurrently. That is, a transfer object is transferred outof the port at the same time 4 another is transferred in.In either of these cases, the equipment is responsiblefor:1. recognizing that such transfers can and should becombined and2. synchronizing the execution of the transfers.Multiple Transfer Jobs  Multiple transfer jobs mayexist simultaneously on an equipment. Although not arequirement, an equipment may 1. queue transfer jobs for later execution or2. allow them to execute in parallel with othertransfer jobs. 4 At The Same Time in this case means that both atomic transfersare in progress. It does not imply that both transfer objects must movesimultaneously. Queued transfer jobs and parallel transfer jobs areseparate concepts, either of which may be supported.Resource Allocation/Deallocation  Transfer jobsallocate the needed material locations prior tobeginning. These material locations remain allocateduntil the transfer job chooses to release them. In manycases, a material location is physically linked with asingle port, and the allocation of that location infersallocation of the port. However, this is not arequirement.If the material locations for a transfer job are notavailable or are not in the proper state, the job shall berejected or queued (if queuing supported and queue notfull). For the transfer job to begin, each locationreferenced in the equipment's transfer job must containthe proper material for the first atomic transfer whichwould use that location.If parallel transfer jobs are supported and the necessarylocations are available, a second (or third, etc.) transferjob may begin execution.In some cases a port may provide direct access tomultiple locations. This may be true for the specializedports described in Section 3.2 and in cases where theport serves as a passthrough to internal locations. Foreach atomic transfer, the needed port and its resourcesare allocated just prior to the start and released(deallocated) at the end of that atomic transfer.4.2 Macro Level Behavior4.2.1 Macro Level Communications  This sectionprovides a high-level definition of the communicationsbetween the host and each transfer partner needed toachieve the macro level of material transport. This isnot intended to define the messages, but rather todescribe the concepts. The message detail is addressedin the Macro Level Services Section (4.4). Section 4.2.2shows how these messages are integrated into thetransfer job behavior model.First, the control message flow is presented as Figure4.2. Then additional informational messaging isdescribed (see Figure 4.3). The arrows representsignificant information exchange. Some replies that donot contain significant information may not be shown.The ordering of the messages between one partner andhost shall be retained. The key synchronization pointbetween the partners at the macro level is that bothpartners shall complete their setup activities before theatomic transfer started event may occur.4.2.1.1 Macro Level Job Control  F igure 4.2illustrates the job control-related message flowexpected on a normal transfer as seen by the host.These messages are used to control the material

&lt;!-- Page 17 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 12 movement process. This diagram assumes a simpletransfer job involving only two partners and only oneport on each. It also assumes that the partners take thesame role (primary or secondary) for each atomictransfer that occurs. The messaging is no different ifthese assumptions are not made, but diagrams becomequite difficult to create. Figure 4.2Macro Level Message Flow Transfer Job Create  The host requests that the deviceparticipate in a specified transfer job. This may consistof a single atomic transfer or a compound job. Thisrequest may be acted upon immediately, or, if necessaryresources are currently busy, saved for later execution 5 .The request shall supply a transfer specification foreach atomic transfer, in which the host supplies suchinformation as which port is to be used, whether the port is to send or receive material, identification of the material to be transferred, role of the equipment (primary or secondarytransfer partner), mechanism or recipe to be used in the transfer, identification of the other transfer partner, and an identifier for the atomic transfer.Upon receipt of the Transfer Job Create request andbefore acknowledging, the equipment should check thetransfer specification(s) to ensure that they are valid.That is, that the specified parameters (ports, transferrecipes, role of the equipment, etc.) have legal values.Depending upon its ability to queue jobs, it may checksuch dynamic information as presence of transfer 5 If the equipment does not support queuing or if the queue is full, therequest may be rejected. object, availability of resources, etc. to determinewhether to accept or reject.Transfer Job Create Acknowledge  The equipmentresponds to the host that the requested job is acceptedor rejected, and if rejected, supplies the reason.Transfer Job Complete  Once a transfer partnercompletes the restore operation, it declares the transferjob to be complete. This message is also used should atransfer job end abnormally. It declares the end of job.All movement of the involved mechanisms shall haveceased before this message is sent. This message shallprovide information on the success or failure of thetransfer.Transfer Job Started  This message marks thebeginning of the transfer job. It signifies that the setupactivities for the first atomic transfer are beginning.Get Attribute  The host may request informationrelating to a specific job. This may include portions ofthe transfer specification and current status information.4.2.1.2 Macro Level Information Mess aging  Thereare a number of material transfer-related events whichmay be of significance to the host. These are designatedas collection events and shall be available forreporting to the host. This section describes thosecollection events and shows how they fit into thechronology of a transfer job. Refer to Figure 4.3 as eachevent is described.Collection event messages provide valuableinformation to the host, but are not strictly required toperform material movement. Therefore, it is expectedthat some message protocol implementations willprovide a method by which the factory host may disablethose events which are not needed in a particularimplementation. Figure 4.3Macro Level Messaging With Events

&lt;!-- Page 18 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199713 Committed To Transfer  The equipment informs thehost when it is fully prepared for a specific atomictransfer. This signifies the completion of the setupactivities. It does not indicate that the two transferpartners have agreed to begin the physical handoff. Thisevent coincides with the Transfer Ready messagedefined in the micro level (see Section 5 below).Atomic Transfer Started  The transfer partnersinform the host, via an event, when the atomic transferhas begun 6 . This may represent a logical start ratherthan physical movement. This indicates that anynecessary coordination of the transfer partners has beendone to ensure that the atomic transfer may start. Asecondary partner may sense the start of transfer laterthan the primary partner.NOTE 3: The physical transfer begins following the AtomicTransfer Started event and ends prior to the Atomic TransferComplete event message.Atomic Transfer Complete  This event indicates thatan atomic transfer has completed. This indicates thateither the next atomic transfer for this port will beginthe setup phase, or, if none remain, restore activitiesmay begin.4.2.2 Transfer Job State Model  M essage flowdiagrams are useful to show simple situations. Materialmovement may range from very simple to quitecomplex. The transfer job state model presented in thissection provides the information necessary toextrapolate the message flow diagrams above to fit allsituations within the scope of this report. It does notcover the states of the various hardware which mayexist (e.g., elevators, doors). See Section A1-1 for adiscussion of the port hardware and relatedmechanisms.The state model notation used in this report is thatdefined by Harel and is described in a reference cited inSection 1.3 above.The transfer job is a transient entity. It is created by thehost (Transfer Job Create message), executes, and thenis dissolved by the equipment.Figure 4.4 shows a basic state diagram for a transferjob. The ovals at top and bottom show where the job iscreated and then deleted. The portion between the ovalsis standard Harel notation. This model is from anequipment view and assumes that only one port on theequipment is used by the transfer. It also assumes thatpause, resume, abort, and stop activities do not exist(these are addressed later in the document). 6 The primary transfer partner will determine readiness to start basedon micro level handshaking with the secondary transfer partner. Figure 4.4Transfer Job State Diagram for a Single Port State definitions and then the state transition tablefollow.TRANSFER JOB QUEUEDIn this state, the transfer job has been accepted by theequipment through the Transfer JobCreate/Acknowledge messages and is awaitingexecution. Transfer jobs are begun sequentially in theorder received by the equipment. Execution may notbegin until all previously queued transfer jobs havebeen started and the material locations needed for thistransfer job may be allocated.All transfer jobs pass through this state. If theequipment allows queuing of transfer jobs, they mayremain in this state for prolonged periods. A transferjob remains queued until the material locations neededfor that transfer are available.TRANSFER JOB ACTIVEIn the TRANSFER JOB ACTIVE state, all atomictransfers defined in the transfer job are performed.PORT AThis substate of TRANSFER JOB ACTIVE enclosesthe job activities related to a single port on theequipment. Within this state, the atomic transfersinvolving this port are executed sequentially (except asnoted in Section 4.1.7 under Atomic TransferSequencing Guidelines). Substates of PORT A (orPORT B, etc.) include SELECT ATOMIC

&lt;!-- Page 19 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 14 TRANSFER, ATOMIC TRANSFER ACTIVE,RESTORE, and AWAIT JOB COMPLETION.SELECT ATOMIC TRANSFERIn this state, the next atomic transfer for this port isselected. Any prerequisites for the atomic transfer arechecked (e.g., is material XYZ in Port A, Location 1).Atomic transfers are executed sequentially per port(except as noted in Section 4.1.7 under Atomic TransferSequencing Guidelines).Prior to exiting this state, the port resources for theselected atomic transfer are allocated.If no atomic transfer is ready for selection (e.g., the portresources are not available), the transfer job shallremain in this state, awaiting a change in conditionswhich would allow an atomic transfer to be selected.ATOMIC TRANSFER ACTIVEIn this state, the next atomic transfer for this port isexecuted. See the atomic transfer state model for detailson this process.RESTOREWhile in the RESTORE substate, the equipment shallperform any necessary posttransfer operations toreturn the port to the desired idle condition. These tendto be physical activities. No physical actions arerequired for restore, but some mechanism fordetermining port status is recommended.The setup 7 and restore operations are expected to begoal oriented, that is, oriented toward satisfyingspecific conditions (e.g., states such as door open).They should not depend on a fixed sequence of actionssuch as initiate the door opening mechanism. Thus, aport left in a posttransfer condition from a previousatomic transfer would still be able to prepare properlyfor the next.When queuing is allowed, the equipment may provide alook ahead capability so it may alter its restore phase tobetter accommodate the next transfer job. Suchfunctionality is not required.AWAIT JOB COMPLETIONIn this substate, all atomic transfers on this port for thetransfer job have completed. The transfer job continuesto exist until all ports have completed their atomictransfers and restore operations. If only one port isused, this state will be occupied only briefly.The following transition table defines the transitionsbetween states for the transfer job state model. Itapplies to Figures 4.4 and 4.5. 7 Setup is more fully described in Section 4.2.3.

&lt;!-- Page 20 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199715 Table 4.1 Transfer Job State Transition Table # Current State Trigger New State Action(s) Comment1 (Transfer JobCreated)The equipment accepts a TransferJob from the host.TRANSFER JOBQUEUEDPlace the transfer job inthe queue.None. 2 TRANSFER JOBQUEUEDNecessary material locations havebeen allocated to transfer job andany equipment-specificprerequisites met. TRANSFER JOBACTIVERemove the transfer jobfrom the queue. SendTransfer Job Startedmessage. None. 3 Any... Default entry into the PORT A (orPORT B, etc.) stateSELECT ATOMICTRANSFERAll atomic transfers arequeued (by port).None. 4 SELECT ATOMICTRANSFERAtomic transfer selected forexecution on this port.ATOMICTRANSFERACTIVE Cause selected atomictransfer to transition fromqueued to setup. See Sec. 4.2.3for the atomictransfer statemodel.5 ATOMICTRANSFERACTIVE Atomic transfer complete eventfrom the atomic transfer statemodel. SELECT ATOMICTRANSFERNone. None. 6 SELECT ATOMICTRANSFERNo atomic transfers remain for thisport.RESTORE None. None. 7 RESTORE Port returned to desired idleconditions.AWAIT JOBCOMPLETIONNone. None. 8 TRANSFER JOBACTIVEAll atomic transfers for the transferjob are completed.(Transfer JobComplete)Send Transfer JobComplete message.None. Figure 4.5 begins with the model in Figure 4.4 and is expanded to cover a transfer job with multiple ports. Eachtransfer job, as seen by the equipment, may include from one port to the total number of ports on the equipment. Figure 4.5Transfer Job State Model for Multiple Ports

&lt;!-- Page 21 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 16 4.2.3 Atomic Transfer State Model  When a transferjob becomes active, it creates a queue of atomictransfers for each port (see Transition 2 of the transferjob state model). These atomic transfers are executed asdescribed in the transfer job state model above. Thissection describes the behavior of the atomic transfer asit is created, executed, and finally deleted.Figure 4.6 shows the state model for an atomic transferas it moves through its life cycle. Each atomic transferof an active transfer job is represented by a separatecopy of this state model. These state models are notsubstates of the transfer job state model. Rather,transfer job and atomic transfers are separate entitieswhich interact. Figure 4.6Atomic Transfer State Diagram The definitions for the states and state transitionsfollow.ATOMIC TRANSFER QUEUEDIn this state, the atomic transfer is awaiting its turn toexecute at the port.TRANSFER ACTIVEIn this state, the transfer job has activated this atomictransfer. The atomic transfer is performed entirelywithin this state. The substates of TRANSFERACTIVE are SETUP and HANDOFF.The TRANSFER ACTIVE state in this modelcorresponds to the ATOMIC TRANSFER ACTIVEstate in the transfer job state model. Thus, when thetransfer job activates an atomic transfer on a port, bothstate models shall be in the (ATOMIC) TRANSFERACTIVE state during the atomic transfer. This appliesonly to the specific atomic transfer being performed.SETUPWhile in the SETUP substate, the equipment performsany pretransfer setup operations necessary for thecurrent atomic transfer. These operations might include(but are not limited to) opening doors, unclampingcarriers, and homing elevators. For transfer agents, it isreasonable to include as part of the setup such actionsas a transfer agent moving into position near a specifiedprocess equipment.The setup and restore 8 operations are expected to begoal oriented, that is, oriented toward satisfyingspecific conditions (e.g., states such as door open).They should not depend on a fixed sequence of actionssuch as initiate the door opening mechanism. Thus, aport left in a posttransfer condition from a previousatomic transfer would still be able to prepare properlyfor the next.If no setup time is required for the transfer, this statemay be exited immediately. This is the case for a staticport since it can perform no physical actions related tosetup.HANDOFFThe equipment is committed to the transfer when nosetup operations remain and the port is capable ofperforming the transfer. Entry into the HANDOFF stateindicates that the port shall take no further actionwithout the (expressed or implicit) cooperation of itstransfer partner. Both transfer partners shall be in theHANDOFF state when the atomic transfer begins. 8 Restore is described in Section 4.2.2.

&lt;!-- Page 22 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199717 The HANDOFF substate is divided into two furthersubstates: AWAITING TRANSFER PARTNER ANDTRANSFERRING.NOTE: If one transfer partner has not yet reached theHANDOFF substate when the other begins the transfer,interference could occur on the part of the uncommittedpartner, with potential to damage equipment ormaterial. The micro level Transfer Ready exchange willhelp prevent this (see Section 5 below).AWAITING TRANSFER PARTNEROnce the port is ready for the transfer, the AWAITINGTRANSFER PARTNER substate is entered. The portshall remain in this state until its transfer partner isready.TRANSFERRINGIn this state, the physical handoff portion of the atomictransfer is in progress. Most micro level coordination occurs while the transfer partners are both in theTRANSFERRING state.ATOMIC TRANSFER COMPLETEIn this state, the atomic transfer has completed and isawaiting the completion of the job. Upon entry to thisstate, the equipment shall release (deallocate) the portresources used for this atomic transfer. It shall alsodeallocate any material location used by this atomictransfer that is not needed by any further atomictransfer in this transfer job. This state exists primarily toallow the host to poll for current status of the individualatomic transfers (there is no status if the atomic transferno longer exists).The following transition table defines the transitionsbetween states for the atomic transfer state model. Itapplies to Figure 4.6. Table 4.2 Atomic Transfer State Transition Table # Current State Trigger New State Action(s) Comment1 (Atomic TransferCreated)The parent transfer jobbecomes active(see Table 4.1). ATOMICTRANSFERQUEUED None. None. 2 ATOMIC TRANSFERQUEUEDThe parent transfer jobselects this atomic transferas next for a port andtransitions to ATOMICTRANSFER ACTIVE. SETUP None. None. 3 SETUP All preparation for thisatomic transfer is complete.AWAITINGTRANSFERPARTNER None. Committed To Transfer eventoccurs. See micro level TransferReady message.4 AWAITINGTRANSFERPARTNER Transfer partner is readyfor transfer (see microlevel). TRANSFERRING None. Atomic Transfer Started eventoccurs. This transition might notoccur for a static port.5 HANDOFF The atomic transfer iscompleted.ATOMICTRANSFERCOMPLETE None. The Atomic Transfer Completeevent occurs. This transition willoccur after the appearance orremoval of the material at the port.See the micro level TransferVerify message.6 ATOMIC TRANSFERCOMPLETEThe parent transfer job iscompleted.(Transfer Jobcomplete)The atomictransfer isdeleted. After this transition, theequipment maintains no status ofthe atomic transition.

&lt;!-- Page 23 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 18 4.3 Extended Behavior Models  In this section, theconcepts of Pause/Resume, Stop/Cancel/Abort, andAutoStart/StartHandoff are added to the state modelsfor the transfer job and the atomic transfer. In addition,the possibility that some transfers will end abnormallyis discussed. While not every implementation requiresthese capabilities, all face the prospect of problemsduring transfer. This section describes how the basicstate models provided above may be extended toinclude such features.4.3.1 Extended Communications  T his sectiondescribes the new commands the host may use to affectcurrent transfer jobs and the events associated withthese new capabilities.Pause  The host may issue a command to pause atransfer job9. A command to pause shall cause thesubject to continue to the first safe, continuable pausingplace and then cease activity. The pause shall occuronly at points that allow for the resumption of theactivity (see the resume command). Pausing a transferjob results in the pausing of each atomic transfer forthat transfer job (see Figure 4.8). The points where apause may fall should be defined by the supplier. Notethat a paused transfer job may be aborted or stopped asan alternative to the resume command. In this case, thestop command may cause the equivalent of a resume inorder to allow the current atomic transfers to complete.There are two actions that may cause a pause. The firstis a host command as described in the paragraph above.The second is a decision by the equipment that aproblem exists that requires outside intervention. Forinstance, if a port hardware problem exists, theequipment may pause the job automatically. The user orhost may then resume the transfer job when thehardware problem is corrected, or alternately abort/stopthe transfer job if the problem is severe.Resume  The resume command is used to continue apreviously paused transfer activity.Stop  The host may command the involved partnersto stop a transfer job. The stop command terminates ajob in an orderly manner. The object of the stopcommand is to complete currently executing atomictransfers and leave the equipment and material in a safestate. While the time needed to stop should be kept asshort as possible, this goal should be a lower priority.If the specified transfer job is queued, the stopcommand acts as a cancel command. 9 It is expected that a host may also pause a port or other hardware.However, this document does not specify these hardware-relatedcommands. Cancel  The host may cancel a transfer job which hasnot yet become active (e.g., a job which is queued).This is useful when it is unacceptable to affect transferwhich is inprogress. A canceled job is removed fromthe queue and discarded. No physical action may beassociated with canceling a transfer job. If the specifiedtransfer job is active, the equipment shall reject thiscommand.Abort  The host may command the involved partnersto abort a transfer job. The goal of the abort commandis to end the transfer activities (especially movement) asquickly as possible, while retaining equipment andmaterial integrity. Aborting a transfer job shall causethe individual atomic transfers to also abort. As withstop, the abort command terminates the transfer job.Different from the stop command is that equipmentexecuting an abort command shall require manualintervention before further material movementoperations are performed. Abort is intended for usewhen serious problems are detected and further damageneeds to be prevented.The abort command takes precedence over the stop,pause, and cancel commands. If the specified transferjob is queued, the abort command acts as a cancelcommand.Transfer Job Create  The Transfer Job Create is notnew, but is extended to include the AutoStart option.There is a parameter added to each atomic transferdefinition which allows selection of this option. If notselected, the atomic transfer shall enter a WAIT stateafter completing SETUP operations, but beforeinforming its transfer partner that it is ready to begin.An event signals the host that the equipment is awaitinginstructions.This feature allows the host added flexibility insynchronizing material movement activities. The hostmay manually synchronize two transfer partners or itmay wish to align a material movement activity withanother equipment or factory-related activity.StartHandoff  The StartHandoff command is issuedby the host to cause a specific atomic transfer totransition from the WAIT state to the TRANSFERACTIVE state.4.3.2 Extended Transfer Job State M odel  Figure4.7 presents an extended transfer job state model. Thismodel provides for the capability to pause/resume, stop,and abort. Except for the extensions, this model is thesame as that in Figure 4.5. Therefore, only theextensions are discussed in this section.

&lt;!-- Page 24 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199719 Figure 4.7Extended Transfer Job State Model ABORTThe ABORT state is an AND substate of TRANSFERJOB ACTIVE. This state is responsible for coordinationof any activities necessary to abort10 the active transferjob. The ABORT state has two substates: NOTABORTING and ABORTING.NOT ABORTINGIn this state, the abort process is not in effect. Thetransfer job proceeds normally.ABORTINGIn this state the transfer job is causing its active atomictransfers to abort. This state is active only so long asany of the transfer job's atomic transfers remains active.STOP 10 See Section 4.1 for the defintion of abort. The STOP state is an AND substate of TRANSFERJOB ACTIVE. This state is responsible for coordinationof any activities necessary to stop 11 the active transferjob. STOP has two substates: NOT STOPPING andSTOPPING.NOT STOPPINGIn this state, the STOP process is not in effect. Thetransfer job proceeds normally.STOPPINGIn this state the process of stopping occurs. When theSTOPPING state is active and the SELECT ATOMICTRANSFER state is entered, that atomic transfer shalltransition to the AWAIT JOB COMPLETION state.When all ports have reached that state, transition 10from the STOPPING state occurs (see Figure 4.7). 11 See Section 4.1 for the definition of stop.

&lt;!-- Page 25 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 20 PAUSEThe PAUSE state is an AND substate of TRANSFERJOB ACTIVE. That is, the pause feature is concurrentwith the execution of the transfer job. The PAUSE statehas three substates: NOT PAUSED, PAUSING, andPAUSED.NOT PAUSEDA newly activated job is NOT PAUSED by default. Inthis state, the transfer job proceeds as normal.PAUSINGThis state is coordinating the movement of the transferjob from NOT PAUSED to PAUSED. It is responsible for making sure that the current activity for each portfor the job has ceased at an appropriate point. Thetransfer job is PAUSING until all of its active atomictransfers are paused.PAUSEDAll activity has ceased. The transfer job is awaiting aResume command. Note that the PORT A, PORT B,etc., substates retain their current states, but theiractivity ceases when PAUSED.The following transition table defines the addedtransitions between states for the extended transfer jobstate model. It applies to Figure 4.7. Table 4.3 Extended Transfer Job State Transition Table# Current State Trigger New State Action(s) Comment9 ABORTING Abort process is complete. (Transfer JobComplete)Send Transfer Job Completemessage to host indicatingabnormal termination. Host or equipmentpreviously issuedabort.10 STOPPING Stop process is complete. (Transfer JobComplete)Send Transfer Job Completemessage to host indicatingabnormal termination. Host or equipmentpreviously issuedabort.11 (Undefined) Default entry into PAUSE state. NOT PAUSED None. None.12 NOT PAUSED Host or equipment issued adirective to pause.PAUSING None. None. 13 PAUSING All transfer job activity hasceased.PAUSED None. Transfer JobPaused event hasoccurred.14 PAUSED Host issued a directive to resumethe transfer job.NOT PAUSED None. Transfer JobResumed eventhas occurred.15 (Undefined) Default entry into STOP state. NOT STOPPING None. None.16 NOT STOPPING Stop initiated. STOPPING Begin stop activities. None.17 (Undefined) Default entry into ABORT state. NOTABORTINGNone. None. 18 NOT ABORTING Abort initiated. ABORTING Begin abort activities. None.19 TRANSFER JOBQUEUEDCancel, Abort, or Stop commandreceived.TRANSFER JOBCANCELLEDRemove the transfer job fromthe queue.None.

&lt;!-- Page 26 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199721 4.3.3 Extended Atomic Transfer Stat e Model  Figure4.8 presents an extended atomic transfer state model.This model extends the atomic transfer model in a waysimilar to the transfer job extension. It provides for thecapability to pause/resume and to abort12. Except forthe extensions, this model is the same as that presentedas Figure 4.6. Therefore, only the extensions arediscussed in this section. Figure 4.8Extended Atomic Transfer State Diagram WAITThe atomic transfer stops activity and awaits aStartHandoff command from the host. This capabilityallows the host to precisely orchestrate the timing of thehandoff in time critical operations.ABORTThe ABORT state is an AND substate of TRANSFERACTIVE. This state is responsible for coordination ofany activities necessary to abort the active atomictransfer. The ABORT state has two substates:ABORTING and NOT ABORTING.NOT ABORTINGIn this state, the abort process is not in effect. Theatomic transfer proceeds normally. 12 Note that stop does not apply to atomic transfers, since theactive atomic transfers are allowed to complete when the transfer jobis stopped. ABORTINGIn this state, the process of aborting is performed. It isthe responsibility of the equipment to cease physicalactivity as quickly as possible and end the currentatomic transfer. This process is application-specific. Itis the responsibility of the supplier to document thismethod.PAUSEThe PAUSE state is an AND substate of ATOMICTRANSFER ACTIVE. That is, the pause states areconcurrent with the execution states of the atomictransfer. The PAUSE state has three substates: NOTPAUSED, PAUSING, and PAUSED.NOT PAUSEDA newly activated atomic transfer is NOT PAUSED bydefault. In this state, the atomic transfer proceeds asnormal.PAUSINGThis state is coordinating the movement of the atomictransfer from NOT PAUSED to PAUSED. It isresponsible for making sure that the current activity forthe atomic transfer has ceased at an appropriate point.PAUSEDAll activity has ceased. The atomic transfer is awaitinga Resume command. Note that the PORT A, PORT B,etc., substates retain their current states, but theiractivity ceases when PAUSED.The following transition table defines the addedtransitions between states for the extended atomictransfer state model. It applies to Figure 4.8.

&lt;!-- Page 27 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 22 Table 4.4 Extended Atomic Transfer State Transition Table # Current State Trigger New State Action(s) Comment3 SETUP Preparation for atomic transferis complete, and TRAutoStartparameter is TRUE. AWAITING XFRPARTNERNone. Committed to Transferevent 7 ABORTING Abort process is complete. ATOMICTRANSFERCOMPLETE None. Atomic TransferComplete event occursnoting abnormaltermination.8 (Undefined) Default entry into PAUSE. NOT PAUSED None. None.9 NOT PAUSED The transfer job transitioned toPAUSING state (Transition 12,Figure 4.7). PAUSING None. None. 10 PAUSING All atomic transfer activity hasceased.PAUSED None. None. 11 PAUSED The host issued a directive toresume the atomic transfer.NOT PAUSED None. None. 12 (Undefined) Default entry into ABORT. NOT ABORTING None. None.13 NOT ABORTING Transfer job transitioned toABORTING state (Transition18, Figure 4.7). ABORTING Begin abortactivities.May be host- orequipment- initiated. 14 ATOMICTRANSFERQUEUED Abnormal Transfer Jobtermination.ATOMICTRANSFERCOMPLETE None. May be caused by transferjob abort or stop. 15 SETUP Preparation for atomic transferis complete, and TRAutoStartparameter is FALSE. WAIT Wait for hostcommand.None. 16 WAIT StartHandoff command isreceived from host.AWAITING XFRPARTNERNone. Committed to Transfer2 event 4.4 Macro Level Services  This section defines the messaging services required to implement the materialmovement concepts. The messages were introduced in Sections 4.2.1 and 4.3.1. These services are independent ofthe messaging protocol to be used. They may be mapped to SECSII (SEMI E5) or to other comparable protocols.These messaging services define the messages to be used, the nature of the data items or parameters to be containedwithin the messages, and data type of the parameters. Not defined here is the internal structure of the actualmessages as transferred, including order of the parameters and how various data structures and data types arerepresented.4.4.1 Service List  The following messages are exchanged between host and equipment for the purpose ofaccomplishing material movement tasks.Host Initiated Services Service Name Description Confirmed\*TRJobCreate Host request that a transfer job be performed. YesTRJobCommand Command which affects a transfer job. YesGetAttribute Request for attributes of an object (e.g., transfer job or atomictransfer). This message service has applicability beyond materialmovement. Yes \* An unconfirmed service requires no response to the request message. This means that no data is required in the response. This does not precludethe implementation of a response message in the message protocol.

&lt;!-- Page 28 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199723 Equipment Initiated Services Service Name Description ConfirmedTRJobAlert Notification to host that transferjob is started or complete.No TrJobEvent Notification to host that atransfer-related event hasoccurred. No 4.4.2 Service Detail  The tables b elow define theparameters for each service. In some cases, parametershave additional detail which is defined in a followingsection. These parameters are marked with the \*character.The columns labelled REQ/IND and RSP/CONF linkthe parameters to the direction of the message. Themessage send by the initiator is called the Request.When receiver terms this message the Indication orthe request. The receiver may then send a Response,which the original sender terms the Confirmation.The following codes appear in the REQ/IND andRSP/CONF columns and are used in the definition ofthe parameters (e.g., how each parameter is used ineach direction):M  Mandatory Parametermust be given avalid value.C  Conditional Parametermay be defined insome circumstances and undefined in others.Whether a value is given may be completelyoptional or may depend on the value of otherparameter.U  User Defined Parameter.   Not Used.=  (for Response only) Indicates that the valueof this parameter in the response must match that inthe primary (if defined).The column labelled Form is used to indicate the typeof data contained in a parameter. The forms used in thisdocument are defined below.Unsigned Integer  May take the value of any nonnegative integer. Messaging protocol may impose alimit on the range of possible values.Enumerated  The parameter may take on one of alimited set of possible values. These values aregenerally given logical names but may be representedby any data type excluding lists and structures.Boolean  The parameter may take on one of twopossible values, equating to True and False.Text  A text string.Structure  A complex structure which consists of acollection of values of one of the possible forms. Thebreakdown of all Structure parameters is providedwithin this document.NOTE 4: To prevent the definition of numberous variablesnamed XxxList, this document adopts the convention ofreferring to the list as (List of) Xxx. In this case, thedefinition of the variable Xxx will be given, not of the list.The term list indicates an ordered collection (or set) of zeroor more items of the same data type. List order is retainedfrom the message request to the response. For this document,a list must contain at least one element unless zero elementsare specifically allowed. TRJobCreateThe host requests that the equipment participate in a material transfer job. Parameter REQ/IND RSP/CONF Description FormTRJobName C - Host created identifier of the transfer job. This allows thehost to use a common name for the transfer job on eachparticipating equipment. Text (List of) AtomicSpec M - Specifications for the atomic transfer(s). StructureTRJobID - M Equipment created ID of the transfer job. Unsigned Integer(List of)TRAtomicID- M The equipment-created identifier of the atomictransfer(s).\* Order matches that given in the (List of)AtomicSpec in the message req. Unsigned Integer TRStatus - M Reports acceptance or rejection of the transfer job. Structure\*All object IDs created by the equipment must be unique within that equipment for that object type. This includes TRJobID and TRAtomicID.These IDs are used by the host to inquire about those objects.

&lt;!-- Page 29 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 24 TRStatus Parameter Detail Parameter RSP/CONF Description FormTRAck M Tells whether the activity was successful (=true) or unsuccessful (=false). Boolean(List of) Status C Reports any errors found. (May be list of 0.) Structure Status Parameter Detail Parameter RSP/CONF Description FormErrorCode M Contains the code for the specific error found. EnumeratedErrorText M Text in support of the error code. Text AtomicSpec Parameter DetailMany of these parameters are conditional. The equipment shall decide if it has a sufficient amount of information toperform each atomic transfer. Parameter REQ/IND Description FormTRLink M Used by the transfer partners to assure that their communicationsrelate to the same atomic transfer. The host is responsible forassuring uniqueness. Unsigned integer TRPort C Material I/O port on the equipment through which the transfer is tooccur. If not specified, the equipment shall select the port.Unsigned integer TRObjName C Textual identifier of the object to be transferred. TextTRObjType\* C Identifies the type of transfer object. Not required if only one type isacceptable.Enumerated TRRole M Equipment's role (i.e., Primary or Secondary). EnumeratedTRRecipe C Name of the transfer recipe (if needed). TextTRPartner M Identifier (Name\* attribute of equipment) of the transfer partner. TextTRPartnerPort C Material I/O port on the equipment's partner to be used for thisatomic transfer.Unsigned integer TRDirection M Send or Receive the transfer object? EnumeratedTRType M Is the equipment to be Passive or Active? EnumeratedTRLocation C Identifier of the location on the equipment of the source (ordestination) of the transfer object.Unsigned integer TRAutoStart M Should the equipment start the handoff without waiting for theStartHandoff command.Boolean TRJobCommandThe host requests a change in an active transfer job. Possible commands include Pause, Resume, Stop, Cancel,Abort, StartHandoff. Parameter REQ/IND RSP/CONF Description FormTRObjID M - Equipment's identifier of the transfer job to which thecommand applies.Unsigned integer TRCmdName\* M - Indicates which command to perform. Text(List of)CmdParameterC - Parameter(s) corresponding to the command type. (May be listof 0)Structure TRStatus - M Describes the acceptance or rejection of the command. Structure

&lt;!-- Page 30 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199725 CmdParameter Detail Parameter RSP/CONF Description FormCmdParmName M The name of the parameter. TextCmdParmValue M Value of the parameter. Varies per Parameter TRJobAlertThe equipment indicates the start or completion of a transfer job. Parameter REQ/IND Description FormTRJobID M Equipments identifier of the transfer job. Unsigned integerTRJobName M Host created identifier of the transfer job. TextTRJobMS\* M Transfer job milestone. EnumeratedTRStatus M Status of the transfer milestone (i.e., success or failure). Structure GetAttributeInformation related to a specific object (e.g., transfer job) is requested. Parameter REQ/IND RSP/CONF Description FormObjType\* M - Type of object for which attributes are desired. Enumerated(List of) ObjectID C - Identifier of each object for which attributes are desired. Ifomitted (i.e., list of zero elements), it implies a request for allobjects of the specified ObjType. Varies accordingto ObjType. (List of) AttributeID\* M - Identifier of requested attribute. Enumerated(List of) AttrData - C Attribute data. Returns the requested attribute list for eachspecified ObjectID (e.g., grouped per ObjectID). If the objectdoes not exist, an empty list is returned for that object, if anattribute does not exist, a null member of the list is returned. Ifthe ObjType is unknown, a single null list is returned. Varies perattribute. (List of) Status - C Reports any errors found in the GetAttribute request. (May belist of 0.)Structure TRJobEventThe equipment reports pertinent state changes related to a transfer job. Parameter REQ/IND Description FormTREventID\* M Identifier of the specific event which occurred. EnumeratedTRJobID M Equipments identifier of the job to which the event refers. Unsigned integerTREventData C Data related to the specific event. May be repeated if multiple dataparameters are reported.Varies per parameterreported.

&lt;!-- Page 31 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 26 4.4.3 Parameter/Attribute Definition s  This sectiongives further details on parameters not sufficientlydefined above. It also defines attributes of the definedobject types. Note that some parameters also serve asattributes (e.g., TRJobName).AtomicSpec  If a list of AtomicSpec parameters issupplied, the order is important. The equipment shallexecute atomic transfers in the order specified on a perport basis.AttributeID/AttrData  An attribute is a characteristicwhich applies to all instances of that (type of) object.Thus, the attributes available for an object depend uponthe ObjType. The three object types available formaterial movement are TransferJob andAtomicTransfer, and Equipment. Below are listed thedefined attributes for each.Object (i.e., any object): ObjectID, ObjType.TransferJob: TRJobState, TRAtomicList,TRJobName, TRJobID (=ObjectID).AtomicTransfer: TRAtomicState, TRLink,TRPort, TRObjName, TRRole, TRRecipe,TRPartner, TRPartnerPort, TRDirection, TRType,TRLocation, TRAutoStart, TRObjType,TRAtomicID (=Object ID).Equipment: Name (=ObjectID).ErrorCode  This parameter is used to report thereasons why an activity was unsuccessful. This appliesto the TRJob Create, TRJobComplete, and theTRJobCommand. While it is impossible to define allpossible errors, the following is a list of values whichmay apply in many cases:TRJobCreate: Parameters improperly specified. Insufficient parameters specified. Queue full or queuing not allowed. Error in atomic transfer specification. Material Location Status does not match TransferSpecification. Primary Transfer Partner Role not supported. Active Participation not supported.TRJobComplete: Failed due to hardware error. Failed due to transfer partner error. Failed due to error during atomic transfer.  Transfer Job aborted by host. Transfer Job stopped by host. Transfer Job canceled by host.TRJobCommand: Parameters missing or improperly specified. Requested service not available from thisequipment. Cancel not allowed after transfer start. Unknown Transfer Job.GetAttribute: Invalid object type. Unknown objectid. Invalid attribute.ObjType  The type or class of the object of interest.The three types of objects contained in this documentare TransferJob, AtomicTransfer, and Equipment.Timestamp  The format for this Text string isYYYYMMDDhhmmsscc where:YYYY= YearMM= Month (0112)DD= Day (0131)hh= Hour (0023)mm= Minute (0059)ss= Second (0059)cc= Hundredths of Second (0099)TRCmdName/CmdParameter  Possible values are: Command ParameterCANCEL nonePAUSE noneRESUME noneABORT noneSTOP noneSTARTHANDOFF TRAtomicID TREventID/TREventData  The following table showsthe defined events and the data which are required to beavailable. Any attribute of the object should beavailable for reporting with an associated collectionevent.

&lt;!-- Page 32 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199727 Event Typical DataCommitted To Transfer TRAtomicID, TimestampWaiting for StartHandoff TRAtomicID, TimestampTransfer Job Paused TimestampTransfer Job Started TimestampAtomic Transfer Started TRAtomicID, TimestampAtomic Transfer Complete TRAtomicID, Timestamp TRJobMS  Identifies which transfer job milestone isbeing alerted to the host. Possible values are: Transfer Job Started. Transfer Job Complete.TRObjType  Identifies the type of object to betransferred. This parameter is used only in cases wherea port is capable of transfers involving different objecttypes. As an example, a list of possible values mightinclude: Wafer Reticle Cassette 100 mm Wafer Carrier 125 mm Wafer Carrier 150 mm Wafer Carrier 200 mm Wafer Carrier  100 mm Wafer 125 mm Wafer 150 mm Wafer 200 mm WaferAttributes: (Note: Some parameters above are alsoattributes.)Name  Each equipment must have a unique Nameattribute, a factory-defined Text string.TRAtomicList  List of the atomic transfers(TRAtomicIDs) contained within the specified transferjob. This is an attribute of a transfer job and is specifiedin the GetAttribute service.TRAtomicState  Attribute of an atomic transfer.Possible values are defined by the state models definedin Sections 4.2.3 and 4.3.3.TRJobState  An attribute of transfer job. Possiblevalues are defined by the state models defined inSections 4.2.2 and 4.3.2.4.5 Object Attribute Definitions  This sectiondefines the attributes of those objects required forMaterial Movement Management: Equipment,TransferJob, and AtomicTransfer.4.5.1 Equipment  The attributes o f the Equipmentobject are defined in Table 4.5. Table 4.5 Equipment Object Definition Table Attribute Name Definition Access Requirement FormObjType Object type. RO Y Text = EquipmentObjID User-definable name. RW Y Text

&lt;!-- Page 33 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 28 4.5.2 TransferJob Object  The att ributes of the TransferJob object are defined in Table 4.6. A TransferJob iscreated by the equipment when it accepts a transfer job create request from the host, and its attributes are based uponthat request.Table 4.6 TransferJob Object Definition Table Attribute Name Definition Access Requirement FormObjType Object type. RO Y Text = TransferJobObjID Textual version of TRJobID. RO Y TextTRJobID Identifier assigned by the equipment. RO Y Unsigned integerTRJobName Host-created job identifier. RO Y TextTRJobState Current state. RO Y Enumerated:TRJobQueued,TRJobActive,TRJobCompleteTRAtomicList List of (TRAtomicID). RO Y List of unsigned integers 4.5.3 AtomicTransfer Object  The attributes of the AtomicTransfer object are defined in Table 4.7.AtomicTransfer objects are created by the equipment when it accepts a transfer job create request from the host, andits attributes are based upon that request.Table 4.7 Atomic Transfer Object Definition TableAttribute Name Definition Access Requirement FormObjType Object type. RO Y Text = AtomicTransferObjID Textual version of TRAtomicID. RO Y TextTRAtomicID Identifier assigned by the equipment. RO Y Unsigned integerTRAtomicState Current state. RO Y Enumerated:TRAtomicActive,TRAtomicCompleteTRLink Assigned by the host to identify an atomic transfer. RO Y Unsigned integerTRPort Material I/O Port identifier. RO Y Unsigned integerTRObjName Textual identifier of transfer object. RO N TextTRObjType Material type of transfer object. RO N EnumeratedTRRole Equipments role. RO Y Enumerated:Primary or SecondaryTRRecipe Recipe identifier for transfer recipe. RO N TextTRPartner Name of equipments partner. RO Y TextTRPartnerPort Identifier for partners port. RO N Unsigned integerTRDirection Indicates whether the equipment will send or receive. RO Y Enumerated:SendReceiveTRType Indicated the equipment is to be active or passive. RO Y Enumerated:PassiveActiveTRLocation Identifies location on the equipment of the source (ordestination) of the transfer object.RO N Unsigned integer TRAutoStart Indicates whether the equipment may automatically startthe handoff without waiting for a StartHandoffcommand. RO Y Boolean:Automatically start (TRUE).Wait for StartHandoff (FALSE).

&lt;!-- Page 34 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199729 5 Micro Level5.1 Micro Level Concepts  The micro level ofmaterial movement is defined below to allow forinteraction between transfer partners on a stepbystepbasis during a handoff. It was designed to be used inconjunction with the macro level defined above butmay instead be used with some other transfercoordination mechanism.5.1.1 Micro Level DefinitionsHandoff  The process by which the transfer objectmoves from the sending transfer partner to the receivingtransfer partner. The terms handoff and micro levelrefer to the same transfer activity.Micro Move  One of a sequence of moves requiredduring a micro level process to effect the transfer of anobject. This is normally associated with physicalactivity within the transfer envelope.5.1.2 Micro Level Description  W hile the macrolevel of material movement deals with coordination andpreparation for a transfer, the micro level addresses thephysical synchronization between two transfer partnersduring an atomic transfer. To control these physicalinteractions properly, communication between thetransfer partners is required. Using thesecommunications, the partners shall ensure that both areready to perform the same specific transfer, that bothagree on the mechanism, and that movement within thetransfer envelope is properly coordinated.There are three parts to the micro level interactionbetween transfer partners. Each of the three parts mustoccur in some form for the micro level to integrateproperly with the macro level.1. The first part is the exchange of I'm ready typemessages, so that the partners can be sure thatstarting the transfer is appropriate.2. The second part of the micro level interaction is thecoordination of the physical transfer. During atransfer, control of the transfer envelope maybelong to only one partner at any time. Joint orparallel movement is never allowed in this space 13.The transfer itself is a series of steps called micromoves. Each step typically contains all theactivities one partner can perform before the othermust act. If the secondary partner is passive duringthe move, no micro level communications areneeded for part two, since the primary partner shallcontrol the transfer envelope during the entirephysical transfer. 13 The space outside the transfer envelope is not restricted, and somepreparations for the next micro move may be possible in this space. 3. The third part of the micro level interaction is theverification that the transfer is complete.The micro transfer mechanism assumes that thesecondary partner will recognize and respond to somelist of micro commands known to the primary partner.These commands might range from the very specific(e.g., reach out and grasp the transfer object) to thevery general (e.g., perform the next step in yoursequence).5.2 Micro Level Behavior5.2.1 Micro Level Communications  This sectionprovides baseline definitions of the communicationsneeded by the micro level of material movement. Moredetailed definitions of the messaging services can befound in Section 5.4 below. Refer to Figure 5.1 whilereading the message definitions. In the figure, themessages in italics are macro level messages providedfor reference. The bolded messages are the micro levelmessages.The prefix HO (for HandOff) is appended to thenames of micro level messages to differentiate themfrom the TR transfer messages.HOReady  Upon completion of any setup operations,each transfer partner shall declare to the other that it isprepared for the specified atomic transfer. Eitherpartner may make this declaration first. When theHOReady exchange has been made, the primary partnershall start the transfer. The HOReady messages includea transfer identifier (see TRLink), which the partnersmatch up. Looking back at the macro level atomictransfer state diagram (Figure 4.6), the combination ofhaving sent and received a HOReady message for thespecific transfer will spur the transition from theSETUP to AWAITING TRANSFER PARTNER states.It is possible that an equipment will receive a HOReadymessage from its partner before it has received thecorresponding Transfer Job Create request from thehost (e.g., setup is instantaneous). An equipment shallbe able to retain such a received message for a time toallow the host to deliver the corresponding Transfer JobCreate request.HOCommand  The HOCommand is the mechanismby which the primary transfer partner orchestrates thesequence of micro moves necessary for the transfer.The primary transfer partner shall successively performits own micro move, then direct its partner to performits next move. Thus, the partners may alternate controlof the transfer envelope during the transfer. If thesecondary partner is passive during the entire transferand the primary performs all physical activity, noHOCommands are required  they are implicitly

&lt;!-- Page 35 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 30 executed by the primary partner. Only oneHOCommand may be active at any time.The list of commands to execute may be included in atransfer recipe. See Section 4.2.4 above for more detail. Figure 5.1Micro Level Message Flow When the secondary partner is passive, noHOCommands need be issued. In this case, all micromoves are conceived of and executed by the primarypartner. The HOReady and HOVerify portions are stillrequired in this case.HOCommand Complete  Once the secondary partnerhas completed the task defined in the HOCommand, ituses the HOCommand Complete response message toalert the primary partner. If an HOCommand cannot beaccepted or fails, this message shall be used to conveythat information.HOVerify  The primary transfer partner, believing allmicro moves complete, shall check its port to ensurethat the transfer object has been sent (or received) andthat all mechanisms are in a safe position. Next, it shallsend the HOVerify message to the secondary partner,asking that it perform the same check.HOVerify Response  The affirmative response fromthe secondary partner confirms that the transfer was asuccess. This message may alternatively signify(through a data field) that the secondary partner does not consider the transfer to be complete. This messagecoincides with the transition for both partners from themacro level TRANSFERRING state to the ATOMICTRANSFER COMPLETE state.5.2.2 Micro Level Messaging via Ho st  Asmentioned above, all three parts of the micro level ofcommunications must be carried out in some form. If adirect link from equipment to equipment exists, theyshould occur via that means, whether using SECSI,Parallel I/O, or another protocol. If no direct link exists,there is a means by which the host may relay microlevel messages from one transfer partner to the other.This is illustrated in Figure 5.2. Figure 5.2Micro Level Message Flow via Host In this situation, the host may act as a surrogate of eachequipment's transfer partner. A piece of equipmentwould send the same defined micro level message asbefore, but would deliver it to the host via the standardhost link. The equipment would treat the host as itstransfer partner, expecting the same response as if itwere talking directly to its true transfer partner. Thehost is responsible for managing the relay of messagesfrom one partner to the other as necessary.The equipment shall provide the ability to pass microlevel messages through the host. If a direct peertopeer link is available, the user shall be able to configurethe path for the messages (directly to partner or throughthe standard host link).5.3 Extended Behavior  This sec tion discusses twomicro level messages which may be exchanged

&lt;!-- Page 36 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199731 between the transfer partners as a result of exceptionalconditions.HOCancelReady  Once a transfer partner has sent aHOReady message, it is committed to participate in atransfer. Under some circumstances, an equipmentneeds to withdraw from that commitment. TheHOCancelReady message is used for this purpose.The HOCancelReady shall be accepted by the transferpartner unless it has already sent the correspondingHOReady. In cases where both transfer partners havesent the HOReady message, the atomic transfer isconsidered to have begun and cannot be canceled. If thetransfer partner receives an HOCancelReady, but has norecord of receiving the original HOReady, it shouldaccept the HOCancelReady.HOHalt  The HOHalt message is used by a transferpartner in situations when the equipment or transferobject are endangered. The receiver of the HOHaltmessage shall cease all movement related to the atomictransfer immediately. Manual intervention is requiredbefore the halted partner may resume movement.5.4 Micro Level Services  This s ection expandsupon the messages defined in Section 5.2.1. It definesthe parameters of the messages and discusses thepossible values.5.4.1 Service List  The following messages areexchanged between transfer partners during an atomictransfer. Service Name Description ConfirmedHOReady Each partner sends this messagewhen it is ready to begin thetransfer process. No HOCommand Message sent by the primarytransfer partner to cause thesecondary partner to perform anactivity in the transfer envelope.The response to this messageindicates completion of theactivity or error. Yes HOVerify Message sent by the primarytransfer partner informing thesecondary partner that allactivities should be completeand asking for confirmation. Yes HOCancelReady Message sent to rescind aprevious HOReady message.Yes HOHalt Message sent to stop all actionby the transfer partner. Thismessage ends the transfer andrequires manual intervention atthe halted equipment. Yes 5.4.2 Service Detail  The tables be low define theparameters for each service. In some cases, parametershave additional detail which is defined in a followingsection. These parameters are marked with the \*character.The following codes are used in the definition of theparameters (e.g., how each parameter is used in eachdirection):M  Mandatory Parametermust be given a validvalue.C  Conditional Parametermay be defined insome circumstances and undefined in others. Whether avalue is given may be completely optional or maydepend on the value of other parameter.U  User-Defined Parameter.  Not Used.=  (for Response only) Indicates that the value ofthis parameter in the response must match that in theprimary (if defined).The column labelled Form is used to indicate the typeof data contained in a parameter. The forms used in thisdocument are defined below.Unsigned Integer  May take the value of any nonnegative integer. Messaging protocol may impose alimit on the range of possible values.Enumerated  The parameter may take on one of alimited set of possible values. These values aregenerally given textual names, but may have simplerrepresentations in protocol (e.g., numeric values).Boolean  The parameter may take on one of twopossible values, equating to True and False.Text  A text string.Structure  A complex structure which consists of acollection of values of one of the possible forms. Thebreakdown of all Structure parameters is providedwithin this document.

&lt;!-- Page 37 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 32 HOReadyAn equipment indicates to its transfer partner a readiness to begin a specific atomic transfer. Parameter REQ/IND Description FormEQName M Identifier (Name attribute) of the equipment sending this message. TextTRLink M Used by the transfer partners to assure that their communications relate to thesame atomic transfer.Unsigned integer TRPort M Identifier of the port (on the equipment sending this message) to be used for thetransfer.Unsigned integer TRObjName C Identifier of the object to be transferred. TextTRObjType C Type of transfer object, required if transfer might involve multiple types. EnumeratedTRRole M Is the sender of this message the primary or secondary transfer partner. EnumeratedTRPartner C Identifier (Name attribute) of the equipment expected to receive this message. TextTRPartnerPort C Material I/O port on the equipment which receives this message to be used forthis atomic transfer.Unsigned integer TRDirection M Does the sender of this message expect to send or receive the transfer object. EnumeratedTRType M Is the transfer to be passive or interactive? EnumeratedTRLocation C Identifier of the material location (on the sender of this message) which will bethe source (or destination) of the transfer object.Unsigned integer HOCommandThe primary transfer partner directs the secondary transfer partner to perform an action related to a specific atomictransfer. Parameter REQ/IND RSP/CONF Description FormTRLink M M(=) Identifier of the atomic transfer which related to this HOCommand. UnsignedintegerHOCmdName\* M - Specific command to be executed. Text(List of)CmdParameterC - Parameter(s) related to the specified HOCommand. (May be a list of0.) See Section 4.4.2 for definition of CmdParameter.Structure HOStatus - M Reports success or failure of the command and, if failure, supplies errordetail.Structure HOStatus Detail Parameter RSP/CONF Description FormHOAck M Did the activity succeed or fail, was the inquiry accepted or rejected. True is a positiveresult, False is negative.Boolean (List of) Status C Reports any errors found. (May be list of 0) See Section 4.4.2 for details of this structure. Structure HOVerifyThe primary transfer partner indicates completion of the atomic transfer to the secondary partner and requestsconfirmation of a successful transfer.Parameter REQ/IND RSP/CONF Description FormTRLink M M(=) Identifier of the atomic transfer. Unsigned integerHOStatus M M Reports the completion status of the atomic transfer from the standpoint of thesending transfer partner.Structure

&lt;!-- Page 38 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199733 HOCancelReadyHaving previously sent an HOReady message, a transfer partner determines that it is no longer ready to begin thetransfer and sends the HOCancelReady message. Parameter REQ/IND RSP/CONF Description FormTRLink M M(=) Identifier of the atomic transfer. Unsigned integerHOCancelAck\* - M Acknowledge code for HOCancelReady. Enumerated HOHaltThis message may be sent by either transfer partner when the equipment or transfer object is endangered. It requiresthe receiver to cease all transfer-related movement immediately. Manual intervention is required before the haltedpartner may again be available for transfer. Parameter REQ/IND RSP/CONF Description FormTRLink M M(=) Indentifier of the atomic transfer. Unsigned integerHOHaltAccept - M True if the request is accepted. Request may be denied only ifreferenced atomic transfer does not exist.Boolean 5.4.3 Parameter Definitions  This section gives further detail on certain parameters defined above. Parameterswhich are defined in Section 4.4 are not repeated here.ErrorCodeHOCommand: Rejected/Unrecognized Command. Rejected/Parameter Error. Failed (Completed Unsuccessfully)  indicates that the activity was attemped, but failed; the mechanismscontinue to be operational. Failed (Unsafe)  indicates that the equipment was left in an unrecoverable state at the end of the activity dueto the failure of a mechanism or due to the risk of damage to the equipment or material. Manual intervention isrequired.HOVerify: Sensor-Detected Obstable. Material Not Sent. Material Not Received. Material Lost. Hardware Failure. Handoff Canceled Externally (by host or operator).HOCmdName  The set of micro commands is provided below as an example. The commands used are notlimited to this set. However, adherence to a common set of commands will speed implementation of materialtransfer.This particular example applies to a situation where the secondary partner is active and the primary partner ispassive.

&lt;!-- Page 39 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 34 Cmd DescriptionPick Commands the secondary partner to take allactions necesary to remove the transfer objectfrom the primary partner's port.Place Commands the secondary partner to take allactions necesary to place the transfer object inthe primary partner's port.Extend Commands the secondary partner to reach intothe primary partner's port area in close proximityto the material location.Acquire Commands the secondary partner to acquirecontrol of the material.Release Commands the secondary partner to releasecontrol of the material.Retract Commands the secondary partner to withdrawfrom the primary partner's port area.Store Commands the secondary partner to place thetransfer object in its final location.Retrieve Commands the secondary partner to pick up thetransfer object from its initial location.MoveTo Commands the secondary partner to move itstransfer mechanism (e.g., robot gripper) to aspecified position (given as a parameter). The Pick command might actually be an equivalent ofthe sequence:Extend, Acquire, Retract, Store.The Place command might be an equivalent to thesequence:Retrieve, Extend, Release, Retract.HOCancelAck  Conveys the response to theHOCancelReady request. Possible values are:0  Accept Cancel.1  Atomic Transfer Unknown.2  Reject CancelTransfer Begun.HOHaltAck  Conveys the response to the HOHaltrequest. Possible values are:0  Accept Halt.1  Atomic Transfer Unknown.

&lt;!-- Page 40 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199735 APPLICATION NOTESA1-1 Transfer-Related Mechanisms  A transfer jobinteracts very closely with port-related hardware. Thismay include a variety of mechanisms such as portdoors, cassette indexers, robot arms, carrier restraints,etc. The state models for the transfer job and atomictransfers shown above relate to this port hardware, butdo not define hardware behavior directly. Therefore, anadditional state model is needed for the port hardware.A1-1.1 Example Port State Model  Figure A1-1provides an example of a state model for a port. It isdivided into three AND substates: MECHANISM,AVAILABILITY, and PAUSE. These substatesrepresent the three most common areas of interest to thehost.Below, the states shown in Figure A1-1 are described,followed by a transition table. This is presented as anexample. The actual model is implementation-dependent. Figure A1-1Example Port State Diagram MECHANISMThis state pertains to the port's overall ability tofunction. It has three substates: INIT, NORMAL, andFAULT.INITThis is the default state upon powerup or reset of theport. It includes some unspecified operations to ensurethat the port is ready to operate.NORMALWhen in this substate, the port is in normal workingorder.FAULTIn this substate, a problem has been detected with a portmechanism. AVAILABILITYThis state pertains to the availability of the port toperform a function. This state has two substates: NOTALLOCATED and ALLOCATED.NOT ALLOCATEDIn the NOT ALLOCATED state, neither the equipmentnor the host has allocated the port. The port is waitingto be allocated to either a transfer job or to someprocess-related task. This is the default state uponequipment system startup.ALLOCATEDIn this state, the port is allocated to either the equipment(typically process-related) or to the host for a transferjob.NOTE: If the port is allocated to an equipemnt function andthe host does not wish to wait for the equipment to release theport, it must take some other action to force the port tobecome available. One possibility is a Pause for Transferremote command that might be used during a processingcycle.IDLEPort is allocated to a task (e.g., processing or transferjob), but activity on the task has not yet begun.PAUSEThis state pertains to the pausing of current portactivity. Pausing of the port is different than pausing atransfer job which might be using the port.NOT PAUSEDThe port defaults to NOT PAUSED upon systemstartup. In this state, port activities are not hindered bythe pause function.PAUSINGIn this state, the port has received a directive to pauseand is in the process of bringing the current activity to ahalt.PAUSEDAll port activity has ceased. The port is awaiting adirective to resume activity.Table A1-1 describes the transitions for the exampleport state model. In the application-specificimplementation, events should be defined for allsignificant occurences related to the model.

&lt;!-- Page 41 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 36 Table A1-1 Extended Atomic Transfer State Transition Table # Current State Trigger New State Action Comment1 (Undefined) Entry into PORT Model. INIT None. None.2 INIT Port mechanisms found to be functional. NORMAL None. None.3 NORMAL A malfunction of the hardware occurs. FAULT None. None.4 FAULT The malfunction is fixed. This may be a manual re-initialization of the port.INIT None. None. 5 INIT A problem occurs during initialization. FAULT None. None.6 (Undefined) Entry into PORT Model. NOT ALLOCATED None. None.7 NOTALLOCATEDThe port is allocated to transfer or process job. ALLOCATED None. None. 8 ALLOCATED Port is released from current job. NOT ALLOCATED None. None.9 (Undefined) Entry into PORT Model. NOT PAUSED None. None.10 NOT PAUSED Directive issued to pause port. PAUSING None. None.11 PAUSING Port activity has ceased. PAUSED None. None.12 PAUSED Directive issued to resume activity. NOT PAUSED None. None.13 (Undefined) Entry into ALLOCATED state. IDLE None. None.14 IDLE Task activity begins. BUSY None. None.15 BUSY Task activity ends. IDLE None. None. A1-1.2 Additional Related Mechanisms  Manyequipment material ports have additional relatedmechanisms that can aid or interfere with a transfer.These mechanisms can be represented as parallel (ororthogonal) states within the port state model. Mostsuch state models will be simple twostate instances(e.g., open/closed, on/off).In some circumstances, the host will have a need to beable to understand the status of these mechanisms andmay wish to be informed of state changes. This isespecially true if the host is to do error handling andpreliminary diagnosis of problems. The host also mayneed some level of remote commands to manipulatethese mechanisms. Some possible transfer-relatedmechanisms are discussed below.Port Material Sensors: These sensors detect thepresence or absence of material in a port. The change inthis status is important, and an event should be providedto report change in this condition.Port Doors: Some equipment closes the environmentinternal to the equipment, except during materialtransfer. The applicable states are normallyopen/closed.Port Elevator: Port elevators have multiple states suchas HOME, MOVING, SLOT 5 ACCESS, or interlockssuch as BLOCKED BY INTERNAL TRANSFERARM.Robot Arm: The transfer arm may be in motion, maybe holding material, etc. Carrier Restraints: On some ports, carriers are clampedin place and cannot be removed unless the restraints arereleased. There would be a clamped/unclamped statemodel.A1-2 WIP Tracking  WIP tracking refers to theability of an entity (host or equipment) to keep accuratetrack of the material within its domain. Typically, theequipment is expected to track the material's locationwithin its modules and subsystems, while the host maytake a more global view, knowing at which equipment(or storage area) a specific transfer object resides.The process of material movement crosses theboundary of the equipment domain. Therefore, theremust be information exchanged between host andequipment about what material is being transferred andwhat the plans are for the material (e.g., when and howprocessed).It is outside the scope of this standard to define WIPtracking capabilities, either at the host or equipmentlevel. However, it is critical for the material movementfunction to supply enough information that WIPtracking is feasible. Specifically, the materialmovement messaging must identify the object beingtransferred. WIP references are kept at a minimum. Forexample, for a carrier containing wafers, the materialmovement process would need to know the carrieridentifier, but need not be concerned with the specificlot contained within. It is also outside the scope of thisstandard to be concerned with the detailed contents orstatus (e.g., processed or not) of a transfer object. These

&lt;!-- Page 42 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199737 are important issues that should be dealt withelsewhere.A1-3 Error Handling  This section addresses somecommon problems that may occur during the transferprocess. This is not intended to present hard and fastrules for error handling, but rather to raise potentialissues and suggest possible solutions. Several primaryerror or interrupt types are covered. For state modelrepresentations of hardware faults, see Section A1-1.NOTE: Transfer errors are not completely communicatedbetween transfer partners. The host may be responsible forpausing or aborting (as needed) the activities of the partner orequipment with an error condition.A1-3.1 Macro Level Error Handling1. Transfer Specification ErrorThis would consist of an error in the data contained inthe Transfer Job Create request. Some examples mightinclude specification of a static port as an activetransfer partner or the use of a nonexistent port on theequipment. Such an error should result in rejection ofthe Transfer Job Create request.2. Setup ErrorIt is during the setup for an atomic transfer that manyprerequisites are typically checked. A setup error maybe either a hardware or a transfer specification problem.Hardware problems might be such events as cassetteelevator fault, door fails to open, etc. If a hardwareproblem occurs, the transfer job is paused and thehardware state model makes a transition to the FAULTstate (see Section A1-1). When the problem iscorrected, the host may resume the activity or stop thetransfer job.A transfer specification problem would typically relateto the presence or absence of material at specifiedlocations. If there is a transfer specification problemfound, a transition to the RESTORE state is made(transition #5) and the transfer job is terminated.3. Restore ErrorA restore error occurs when the port cannot be broughtback to its desired physical condition for the NOTALLOCATED state. This would be a failure of ahardware mechanism. The hardware should thentransition to the hardware FAULT state (see SectionA1-1). The completeness of the transfer job may notbe hindered by problems in the restore activities.However, the next transfer job may be affected.4. Transfer ErrorTransfer errors may be of many types and of varyinglevels of severity. Any error that occurs must bereported to the host. If the error is caused by failure of a port mechanism, a transition to the hardware FAULTstate should occur (see Section A1-1). The problemmight also stem from a problem with the transferspecification or in the transfer recipe (i.e., specificationis legal, but does not match that of the partner). Iffailure in the transfer hardware has occurred, thetransfer job should transition to the PAUSED state andreport it to the host. The host may choose to abort thetransfer job, or correct the problem and resume thetransfer job.5. TimeoutsTo ensure that all transfer problems are detected, thehost should implement a process for timeout monitoringof transfer jobs. The timeout periods need only be veryrough estimates of the actual times required for thetransfer job (e.g., 2 or 3 actual). The host mightchoose to monitor individual atomic transfers if tightertolerances are required. The goal is to ensure thatproblems are not left undetected over extended periods.To determine the proper time to allow for a transfer job,the host would sum the estimated maximum timesneeded for the individual atomic transfers which makeup the job14 . The atomic transfer time estimates wouldtypically be determined by experience, since they relyon the interactions of two different transfer partners. Adoubling or tripling of the average observed transfertime would be a good estimate. In some cases, suppliersof dedicated transfer equipment may be able to supplyreasonable estimates.Transfer job timeout monitoring should begin with thereceipt of the Transfer Job Started message and endwith the Transfer Job Complete message (both via theTRJobAlert service). If the host is monitoring theatomic transfers, monitoring should begin at theAtomic Transfer Started event and end at theAtomic Transfer Complete event (both via theTRJobEvent service). The host must ensure thatreporting of these events is enabled in this case.If a transfer job exceeds the timeout period, the hostmay either pause the transfer job or attempt to end itwith the stop command. The former may be preferred,since human intervention is required in either case andmay enable a resume command to continue the transfer.A1-3.2 Micro Level Error Handling1. No Communication With Transfer PartnerIf a transfer partner attempts to communicate with itstransfer partner and finds that the communications linkis not responding, it should inform the host via an event 14 This assumes that atomic transfers proceed sequentially. If theymay proceed in parallel, the sequence for each port may be summedand the longest total chosen as the estimated time.

&lt;!-- Page 43 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 38 and continue to retry at intervals. Note that a disconnectmay be normal in some cases where the link is onlymade when the transfer partners are in close proximity.2. TRLink's Not MatchedIf two transfer partners are attempting differenthandoffs using the same physical resources (locations,mechanisms, etc.), the host should be informed via anevent. The partners shall continue to await anappropriate HOReady messageallowing the host tofix one or the other of the partners. If an equipmenthas no current transfer and it receives a HOReadymessage, it should hold that message until a transfer jobis defined for it.3. HOCommand Not AcceptedIf the secondary transfer partner cannot accept a microcommand from the primary partner, it should use theHOCommand Response message to inform the primarypartner that the command was rejected. The primarypartner may affect some recovery or inform the hostthat the transfer has failed.4. HOCommand Failed in ExecutionIf the secondary transfer partner fails in the executionof an HOCommand, it should notify the primary partnerof the problem. The primary partner may affect somerecovery or inform the host that the transfer has failed.5. Transfer Not ConfirmedIf the secondary transfer partner sends a negativeHOVerify Response message saying that the transferobject has not been properly transferred, the primarypartner should not attempt recovery, but inform the hostthat the transfer has failed.6. Timeout Awaiting Partner Readiness (HOReady)Timeout Awaiting Micro Command Completion(HOCommand Response)Timeout Awaiting Transfer Verify Response(HOVerify Response)In some cases, action may be required if a transferpartner has been awaiting communication from itspartner. The equipment should monitor timeout periodsfor each of the three cases. The factory user may needto customize the timeout periods for his/her factory.When a timeout occurs, the equipment should notify thehost (via a TRJobEvent message) that the situation hasoccurred, reset the timer, and continue to await thepartner. The host is responsible for taking any furtheraction which is required (e.g., Stop or Pause command).A1-4 Practical Applications  This section providesexamples of practical applications of the materialmovement services as presented in this document. Four examples are provided below. Within these arepresented some major variations expected in a factorysituation. These are not exhaustive in scope, but theexpectation is that reviewing these examples will helpthe reader understand how to apply these concepts to areal application. These examples are also not intendedto represent a cohesive implementation strategy, butrather some alternatives that might be considered.AGVs are used in the examples below because they arefamiliar to most readers, not because they are favoredover other transfer agents. To simplify the explanation,the examples below deal only with movement ofcassettes.A1-4.1 Passive Transfer  In this example, a transferis to be performed between an AGV with robot arm anda piece of processing equipment. A cassette is to bepicked up by the AGV for later delivery to anotherpiece of equipment. The equipment has a cassetteindexer and a port door, but no other port-relatedmechanism that would either aid or hinder transfer. Thechosen transfer mechanism provides for the equipmentto act as a passive transfer partner with no micro levelcommunications required. This is called a passivetransfer. The primary transfer partner is the AGV.The setup for the equipment is to check to make surethat the correct material is in the specified port, drivethe cassette elevator to the home position (if not alreadythere), and open the port door. Note that the first twosetup activities could have been designed to occur as apart of the micro level transfer if desired. The setupoperations for the AGV are to ensure that its receivingport is empty and to drive to the transfer position infront of the designated equipment.The transfer proceeds in the following steps:1. The host sends a Transfer Job Create message toeach transfer partner.2. The partners each accept the transfer job.3. The equipment both have the needed availableresources so the transfer job immediately. Thus,Transfer Job Started messages are sent to the hostby each.4. Each partner in turn completes its setup activitiesfor the atomic transfer, sends a Committed ToTransfer event to the host, and then sends anHOReady message to its transfer partner (via thehost).5. Each partner sends the Atomic Transfer Startedevent to the host as soon as it determines that it hasboth sent and received an HOReady message forthis handoff.

&lt;!-- Page 44 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199739 6. The AGV (as primary transfer partner) begins thetransfer.7. The AGV performs the transfer. Notice that noHOCommand messages are needed since this is apassive transfer.8. The AGV sends an HOVerify message to theequipment via the host.9. The equipment ensures that the cassette is nolonger sensed in its port and then sends anHOVerify Response message (via the host) to theAGV, followed by an Atomic Transfer Completeevent to the host.10. Upon receipt of the HOVerify Response message,the AGV sends an Atomic Transfer Completeevent to the host.11. Each partner completes its RESTORE operationsand then sends a Transfer Job Complete message tothe host.The transfer is now complete. The host may now directthe AGV to deliver the cassette to a new destination.A1-4.2 Active Transfer/Exchange of Cassettes  Thisexample addresses the situation where the factorycontrol system needs to remove a processed lot from anequipment and immediately replace it with anunprocessed lot. The assumptions are that theprocessing of the lot on the equipment is nearingcompletion and that the AGV has already acquired theunprocessed lot that will next be placed on theequipment. Direct micro level communications existbetween the AGV and the equipment. This will be aninteractive transfer.The setup operations for the equipment are opening theport door, driving the cassette indexer to the homeposition, and checking for the presence of the propercassette. AGV setup is movement to the transferlocation for that equipment. During the transfer, theequipment acts as the primary transfer partner, and willunclamp/clamp the cassette (clamps hold the cassette inthe proper position). The AGV will interact with theequipment as the secondary transfer partner.The transfer proceeds as follows:1. The host sends Transfer Job Create requests to theequipment and to the AGV. The timing is chosenso that the time required for the AGV to travel tothe equipment is approximately equal to the timeleft to complete processing of the lot to betransferred. The Transfer Job Create message toeach contains two atomic transfers, the first dealingwith the removal of the processed cassette from theequipment and the second dealing with the loadingof the unprocessed cassette onto the equipment. 2. The AGV accepts the transfer job and begins thefirst atomic transfer immediately, sending aTransfer Job Started message to the host. Setupbegins  the AGV begins traveling toward itstransfer partner. The equipment accepts the transferjob and retains it for later execution.3. When processing completes on the lot, theequipment begins the transfer job. It sends aTransfer Job Started message to the host andbegins its setup operations for the first atomictransfer.4. The AGV completes its setup activity and sends aCommitted To Transfer event to the host. It alsosends a HOReady message to the equipment.5. The equipment completes its setup, then sends aCommitted to Transfer event to the host and anHOReady message to the AGV.6. Since the AGV had previously declared itselfready, the equipment sends an Atomic TransferStarted event to the host and starts the transfer.7. The equipment begins by sending an HOCommandthat results in the AGV reaching out and graspingthe cassette.8. Upon receiving the Command Complete messagefrom the AGV, the equipment unclamps thecassette, allowing its removal.9. The equipment sends an HOCommand that resultsin the AGV removing the cassette from theequipment. The material sent and material receivedevents are sent to the host by the respectivepartners.10. When the equipment receives the CommandComplete message from the AGV, it considers thetransfer to be complete. It sends the HOVerifymessage to the AGV.11. The AGV sends the HOVerify Response messageto the equipment.12. Each of the transfer partners now determines thatanother atomic transfer is required in order tocomplete the transfer job.13. Each transfer partner now transitions to the secondatomic transfer. They each send Atomic TransferComplete events.14. Each transfer partner now begins the new setupphase. The AGV determines that it has alreadyreached the transfer point and has the unprocessedcassette to be transferred. The equipmentdetermines that the port is now empty, and that thedoor is open. This setup time was saved.

&lt;!-- Page 45 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 40 15. The second atomic transfer now proceeds in asimilar fashion through steps 412 above. Thatdone, since there are no further moves required, therestore stage begins, including Atomic TransferComplete events to the host.16. Once restore operations are complete, each sends aTransfer Job Complete message to the host. Thetransfer is now complete.A1-4.3 Sequential Moves  In this example, thefactory control system desires to move a cassette fromequipment A to equipment B using a fixed robotstationed within reach of the two. Each piece ofequipment has a static port and will act as passivetransfer partners in all cases. The robot will act as theprimary partner for all transfers. The host system mustdo the high-level planning of this move, determiningthat the lot to be transferred will be ready to go, that therobot is available, and that the receiving equipment isavailable to receive the cassette.To accomplish the transfer, two atomic moves arerequired. First, the robot picks up the cassette at A.Second, the robot deposits the cassette on B. Thegripper on the robot is considered its port in this case,since that is the point at which ownership of the cassettechanges.Since the stepbystep transfer details are similar to thefirst two examples, they will be omitted. However, ahigher-level sequence will be given.1. The host will send Transfer Job Create messages toA, B, and the robot. The robot will be giventwo sequential atomic moves to perform, theequipment one each. Note that the Transfer JobCreate request to B could be delayed, if desired,until the completion of the first atomic move.2. The first atomic transfer is performed: the robotremoves the cassette from A. Note that noHOCommands are issued, since the secondarypartner is passive.3. The second atomic transfer is performed: the robotplaces the cassette on B.4. Both A, B, and the robot deliver Transfer JobComplete messages to the host.The transfer is complete.An intelligent robot control system could combine thetwo atomic moves discussed above into a single robotprogram, achieving a more efficient transfer (e.g., noredundant movement during the transfer). In such acase, both A and B would need to be ready fortransfer before the robot program was executed. Theonly limitation is that this combination would have tomatch the model and messaging discussed above. A1-4.4 Linked Lithography  The final example isone where the micro level of material movement mightbe used without the macro level messaging described inthis document. The linked lithography system describedbelow is not patterned after any existing system andmay not be the optimal implementation for such asystem.For this example, the challenge is to transfer wafersfrom a typical track system (following the coat/bakeprocess) into a stepper for imaging, and then back to thetrack system for the develop process. In this example,the stepper acts as a slave to the track system, acceptingwafers as they are given. The nontransfer-relatedcommunications will not be discussed.In the wafer transfer process, the track takes on themacro level duties of the host. It is responsible forinforming the stepper that a wafer is to be transferred,which wafer, and by what path and mechanism. It willinitiate the transfer in a method analogous to theTransfer Job Create request. There is no transfer agentin this case. Either equipment might act as the primarytransfer partner  it is irrelevant to this example.The stepper and track will then exchange the normalmicro communications. First, the HOReady messageswill be sent. Next, the track will issue HOCommands tocause the wafer to be physically transferred. Finally, theHOVerify message transaction would occur.Meaningful events would be reported to the host asappropriate.An alternative would be to design the system such thatthe track system tells the stepper system, in effect, I'llbe sending a series of wafers to you. Since theHOReady message contains sufficient information todescribe the transfer (assuming a specific transferrecipe is not required), no specifics about the individualtransfers need be exchanged until the HOReady is sent.In such a scheme, the stepper would take the HOReadymessage as description of the specific transfer andrespond with an HOReady to match.A1-4.5 NonCompliant Transfer Partner  There willbe situations where only one of the transfer partners iscompliant with this standard. It is reasonable to use thistransfer methodology in some such cases, especiallythose involving passive transfer. The host would beresponsible for emulating a compliant transfer partneron behalf of the noncompliant partner (for the benefitof the compliant partner). Examples of noncomplianttransfer partners might include a WIP rack, a humantransfer agent, an older process equipment, or anymaterial handling systems that support other protocols.

&lt;!-- Page 46 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199741 NOTICE: These standards do not purport to addresssafety issues, if any, associated with their use. It is theresponsibility of the user of these standards to establishappropriate safety and health practices and determinethe applicability of regulatory limitations prior to use.SEMI makes no warranties or representations as to thesuitability of the standards set forth herein for anyparticular application. The determination of thesuitability of the standard is solely the responsibility ofthe user. Users are cautioned to refer to manufacturersinstructions, product labels, product data sheets, andother relevant literature respecting any materialsmentioned herein. These standards are subject tochange without notice.The users attention is called to the possibility thatcompliance with this standard may require use ofcopyrighted material or of an invention covered bypatent rights. By publication of this standard, SEMItakes no position respecting the validity of any patentrights or copyrights asserted in connection with anyitem mentioned in this standard. Users of this standardare expressly advised that determination of any suchpatent rights or copyrights, and the risk of infringementof such rights, are entirely their own responsibility. Copyright by SEMIÂ® (Semiconductor Equipment and MaterialsInternational), 3081 Zanker Road, San Jose, CA 95134. Reproduction ofthe contents in whole or in part is forbidden without express writtenconsent of SEMI.

&lt;!-- Page 47 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 42 IndexNOTE: The numbers in this index represent the section, table, and/or figure that contains the corresponding subject.Aabort ................................................................................................................4.1.1, 4.2.2, 4.3, 4.3.3, 4.4, 4.4.3, A1-3.2ABORTING.................................................................................................4.3.1, 4.3.2, 4.3, 4.3.3, 4.4, A1-3.1, A1-3.2Acquire.................................................................................................................................................................... 5.4.3active transfer partner.................................................................................................................................... 2.0, A1-3.1AGV.............................................................................................................................................. 4.1.1, A1-4.1A1-4.4alarm .......................................................................................................................................................................... 1.2allocate ...........................................................................................................................................................4.1.1, 4.2.1allocated ..................................................................................................... 4.1.1, 4.2.1, 4.2.2, Table 4.1, A1-1.1, A1-1allocation........................................................................................................................................................4.1.1, 4.2.1atomic transfer ...................................... 2.0, 3.1, 4.1.14.3.1, 4.3.2, 4.3.34.4.1, 4.2.2, 4.4.3, 5.1.2, 5.2.1, 5.4.1, 5.4.2,...............................................................................................................................Table A1-1, A1-3.1, A1-4.1A1-4.3ATOMIC TRANSFER ACTIVE........................................................................................4.2.2, 4.2.3, Table 4.2, 4.3.3Atomic Transfer Complete............................4.2.2, Table 4.1, 4.2.3, Table 4.2, Table 4.4, 4.4.3, 5.2.1, A1-4.1, A1-4.2ATOMIC TRANSFER CREATED ................................................................................................................. Table 4.2ATOMIC TRANSFER QUEUED .........................................................................................4.2.3, Table 4.2, Table 4.4Atomic Transfer Started........................................................................ 4.2.14.2.1.2, Table 4.2, 4.4.3, A1-4.1, A1-4.2AttrData .................................................................................................................................................................. 4.4.2Attribute ...........................................................................................................................3.2, 4.2.1.1, 4.4.1, 4.4.24.4.3AttrStatus ................................................................................................................................................................... 3.2AWAIT JOB COMPLETION .......................................................................................................................4.2.2, 4.3.2AWAITING TRANSFER PARTNER............................................................................ 4.2.3, Table 4.2, 5.2.1, A1-3.2Ccommit .................................................................................................................................................................... 4.1.1committed ......................................................................4.2.1.2, 4.2.3, Table 4.2, Table 4.4, 4.4.3, 5.3, A1-4.1, A1-4.2Committed To Transfer.................................................................. 4.2.1.2, Table 4.2, Table 4.4, 4.4.3, A1-4.1, A1-4.2compound.........................................................................................................................2.0, 4.1.2, 4.1.3, 4.1.7, 4.2.1.1compound transfer.........................................................................................................................2.0, 4.1.2, 4.1.3, 4.1.7concurrent ......................................................................................................................................................4.3.2, 4.3.3Ddeallocate .......................................................................................................................................................4.1.1, 4.2.3deallocated .............................................................................................................................................................. 4.1.7deallocation ............................................................................................................................................................. 4.1.7dynamic................................................................................................................................................2.0, 4.1.4, 4.2.1.1dynamic port .............................................................................................................................................................. 2.0EE30 ............................................................................................................................................................................. 1.3E5 ............................................................................................................................................................................... 1.3EQName...............................................................................................................................................4.4.2, 4.4.3, 5.4.2ErrorCode.......................................................................................................................................................4.4.2, 4.4.3ErrorText................................................................................................................................................................. 4.4.2event.................4.2.1-4.2.1.2, Table 4.1, Table 4.2, 4.3.1, Table 4.4, 4.4.1, 4.4.2, 4.4.3, 4A.1.2, A3.2, A1-4.1, A1-4.2exchange of cassettes ........................................................................................................................................... A1-4.2Extend ..................................................................................................................................................................... 5.4.3

&lt;!-- Page 48 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199743 GGEM.................................................................................................................................................................... 1.2, 1.3GetAttribute ...................................................................................................................................................4.4.2, 4.4.3Hhandoff ................................................... 3.1, 4.1.14.1.6, 4.2.1.2, 4.2.3, 4.3.1, Table 4.4, 4.4.2, 5.1, 5.1.1, 5.2.1, 5.4.3HOCancelAccept .................................................................................................................................................... 5.4.3HOCancelReady......................................................................................................................................5.3, 5.4.1, 5.4.3HOCmd ..........................................................................................................................................................5.4.2, 5.4.3HOCmdParm..................................................................................................................................................5.4.2, 5.4.3HOCommand ...................................................................................................5.2.1, 5.4.1, 5.4.2, 5.4.3, A1-4.1A1-4.3HOErrorCode.................................................................................................................................................5.4.2, 5.4.3HOErrorText ........................................................................................................................................................... 5.4.2HOHalt.................................................................................................................................................5.4.1, 5.4.2, 5.4.3HOReady..............................................5.2.1, Figure 5.1, Figure 5.2, 5.3, 5.4.1, 5.4.2, A1-3.2, A1-4.1, A1-4.2, A1-4.4HOStatus ................................................................................................................................................................. 5.4.2HOStatusCode......................................................................................................................................................... 5.4.2HOVerify ..................................................................................................... 5.2.1, 5.4.2, 5.4.3, A1-4.1, A1-4.2, A1-4.4HOVerify Response ...................................................................................................................... 5.2.1, A1-4.1, A1-4.2human transfer agent............................................................................................................................................ A1-4.5IINIT .............................................................................................................................................. A1-1.1, Table A1-1.2input port.................................................................................................................................................................... 2.0interactive............................................................................................................................2.0, 4.1, 4.1.1, 5.4.2, A1-4.2interactive transfer........................................................................................................................ 2.0, 4.1, 4.1.1, A1-4.2interference ...................................................................................................................................................... 2.0, 4.2.3interfering................................................................................................................................................................... 2.0Llinked lithography ................................................................................................................................................ A1-4.4location.................................................................................... 1.2, 2.0, 3.2, 4.1.1, 4.1.6, 4.2.2, 4.2.3, 4.4.2, 4.4.3, 5.4.2Mmacro level......................................................... 2.0, 3.1, 4.1.1, 4.2.14.2.1/Figure 4.3, 4.4, 5.1.2, 5.2.1, 5.1.2, A1-3.1material location..............................................................................................2.0, 4.1.1, 4.1.7, 4.2.3, 4.4.3, 5.4.2, 5.4.3micro command ................................................................................................................................................... A1-3.2micro level .................................................................................... 2, 3.1, 3.3, 4, 4.1.1, 4.1.5, 4.2.1.2, Table 4.2, 5 (all)micro move ....................................................................................................................................................5.1.1, 5.2.1MoveTo................................................................................................................................................................... 5.4.3moving ...........................................................................................................................................................2.0, 4A.1.2NNOT ABORTING........................................................................................................4.3.2, Table 4.3, 4.3.3, Table 4.4NOT PAUSED........................................................................... 4.3.2Table 4.3, 4.3.3, Table 4.4, A1-1.1, Table A1-1NOT STOPPING ................................................................................................................................... 4.3.2, Table 4.3OObjectID.........................................................................................................................................................4.4.2, 4.4.3ObjID ........................................................................................................................................................Tables 4.5-4.7ObjType ................................................................................................................................ 4.4.2- 4.43, Tables 4.5-4.7output port........................................................................................................................................................ 2.0, 4.1.7

&lt;!-- Page 49 --&gt;

SEMI E32-0997 Â© SEMI 1994, 1997 44 ownership............................................................................................................................................ 2.0, 4.1.2, A1-4.3Pparallel ....................................................................................... 1.3, 3.1, 4.1.3/ 4.1.4, 4.1.7, 4.1.6, 5.1.2, 5.2.2, 4.A.1.2passive transfer.................................................................................................................... 2.0, A1-4.1, A1-4.3, A1-4.5passive transfer partner ................................................................................................................................. 2.0, A1-4.1pause .........................................................................................4.2.2, 4.34.3.1, 4.3.2, 4.3.2, Table 4.33, 4.4.3, A1-1.1PAUSED ........................................................................... 4.3.1, 4.3.2, Table 4.3, 4.3.3,Table 4.4, A1-1.1, Table A1-1PAUSING ............................................................................... 4.3.1, 4.3.2, Table 4.3, 4.3.3, A1-1.1/ Table A1-1, A1-3physical transfer ............................................................................................................................2.0, 4.0, 4.2.1.2, 5.1.2Pick ......................................................................................................................................................................... 5.4.3Place................................................................................................................................3.0, 4.2.2, 4.3.1, 5.4.3, 4.A.1.2port............................................................................................. 2.0, 3.2, 4.1.14.2.1.2, 4.2.24.3.1, 4.3.2, 4.3.3, 5.2.1,......................................................................................................... 5.4.2, 5.4.3, A1-14A1.2, A1-3.1, A1-4.1A1-4.3PORT IDLE ......................................................................................................................................................... A1-3.1port resources .......................................................................................................................................4.1.1, 4.2.2, 4.2.3primary transfer partner ..........................4.1, 4.1.1, 4.2.3, Table 4.2, 4.4.3, 5.2.1, 5.4.1, 5.4.2, A1-4.1, A1-4.2, A1-4.4program................................................................................................................................................................ A1-4.3Qqueue....................................................................... 4.1.6, 4.2.1.1, 4.2.2, Table 4.1, 4.2.3, 4.3.1, 4.3.2, Table 4.3, 4.4.3queuing.................................................................................................................................................4.1.6, 4.2.2, 4.4.3Rreceiving port ................................................................................................................................................ 2.0, A1-4.1recipe.......................................................................................................................................4.1.5, 4.2.1.1, 4.4.2, 5.2.1Release ..........................................................................................................................4.1.1, 4.1.6, 4.2.3, 5.4.3, A1-1.1report................................................................................................................................................4.2.2, 4.4.3, 4.A.1.2resource..........................................................................................................................................................4.1.1, 4.1.7resources ........................................................................................................................................................4.1.1, 4.1.4RESTORE.................................................................................. 4.1.14.1.7, 4.14.2.2, 4.2.3, A1-3.1, A1-4.1, A1-4.2,Retract..................................................................................................................................................................... 5.4.3Retrieve ................................................................................................................................................................... 5.4.3robot.........................................................................................2.0, 3.0, 3.2, 4.1.4, 5.4.3, A1-1, 4A.1.2, A1-4.1, A1-4.3Ssecondary transfer partner .............................................................................4.1.1, 4.1.5, 4.2.1.1, 4.2.1.2, 5.4.2, A1-4.2SECS...................................................................................................................................................1.2, 1.3, 4.4, 5.2.2SECS-I .................................................................................................................................................................... 5.2.2SECS-II...................................................................................................................................... 1.2, 1.3, Figure 1.1, 4.4SELECT ATOMIC TRANSFER...............................................................................................4.2.2, Table 4.1.1, 4.3.2sending port................................................................................................................................................................ 2.0sequence...................................................................................4.1, 4.1.5, 4.1.7, 4.2.2, 4.2.3, 5.1.1, 5.1.2, 5.4.3, A1-4.3sequential ................................................................................................................................................... 4.1.3, A1-4.3sequential moves .................................................................................................................................................. A1-4.3setup ..................................................2.0, 4.1.14.1.5, 4.2.14.2.1.2, 4.2.34.3.1, 4.3.3, 5.2.1, A1-3.1, A1-4.1, A1-4.2static .......................................................................................................................................2.0, 4.1.4, 4.2.3, Table 4.2static port..........................................................................................................................................2.0, 4.2.3, Table 4.2StatusCode .............................................................................................................................................................. 4.4.2stop..........................................................................4.1.1, 4.2.2, 4.3, 4.3.14.3.2, 4.3.3, Table 4.4, 4.4.3, 5.4.1, A1-3.2

&lt;!-- Page 50 --&gt;

SEMI E32-0997 Â© SEMI 1994, 199745 STOPPING ............................................................................................................................................ 4.3.2, Table 4.3Store ....................................................................................................................................................................... 5.4.3Ttimeout ................................................................................................................................................................ A1-3.2transfer ................................................................................... 1.2, 1.4, 2.0, 3.14.2.2, (4.2.24.4.1), 4.4.3, 5.1.15.2.1,................................................................................................................................. 5.2, 5.3, 5.4.2, 5.4.3, A1-1A1-4.4transfer agent............................................................................................1.2, 2.0, 3.0, 4.1.3, 4.1.6, 4.1.7, 4.2.3, A1-4.5Transfer Complete................................................................................................................................................ 4.2.1.2transfer envelope...........................................................................................................................2.0, 5.1.1, 5.1.2, 5.4.1transfer error ........................................................................................................................................................ A1-3.2transfer job .................................... 3.1, 4.1.1, 4.1.4, 4.1.7, 4.2.1, 4.2.1.1, A1-1, A1-1.1, A1-2, A1-3.1, A1-3.2, A1-4.1Transfer Job Acknowledge .................................................................................................................................. 4.2.1.1TRANSFER JOB ACTIVE ...........................................................................................................................4.2.2, 4.3.2TRANSFER JOB CANCELED....................................................................................................................4.3.2, 4.4.3TRANSFER JOB CREATED..........................................................................................................1.4, 4.2.2, Table 4.1TRANSFER JOB QUEUED........................................................................................4.2.2, Table 4.1, 4.3.2, Table 4.3Transfer Job Started ...............................................................................4.2.1.2, 4.2.2, Table 4.1, 4.4.3, A1-4.1, A1-4.2transfer object ...................................... 3.2, 4.1.2, 4.1.7, AtomicSpec Table, 5.1.1, 5.2.1, 5.3, 5.4.2, 5.4.3, A1-2, A1-3transfer partner ................................................... 2, 3, 4.1, 4.1.1, 4.1.4, 4.1.5, 4.2.1, 4.2.1.1, 4.2.1.2, 4.2.2, 4.3.1, 4.4.3,.................... 5, 5.1.1, 5.1.2, 5.2.1, 5.2.1, 5.2.2, 5.3, 5.4.1, A1-3, A1-3.1, A1-3.2, A1-4.4.1, A1-4.4, A1-4.4.1, A1-4.5Transfer Ready............................................................................................................................................4.2.1.2, 4.2.3transfer recipe.......................................................................................................................................4.1.5, 4.4.2, 5.2.1transfer specification ..................4, 4.1, 4.1.5, 4.2.1.1, 4.4.3, A1-3, A1-3.1, A1-3.2, A1-4.4.1, A1-4.3, A1-4.4, A1-4.5transfer state model .............................................................................................................4.2.2, 4.2.3, Table 4.2, 4.3.3transfer system controller...........................................................................................................................1.2, 2.0, 4.1.6Transfer Verify........................................................................................................................................................ 4.2.3TRANSFERRING ........................................................................................................................4.2.3, Table 4.2, 5.2.1TRAtomicError ....................................................................................................................................................... 4.4.3TRAtomicID .................................................................................................................................................... Table 4.7TRAtomicList .................................................................................................................................................. Table 4.6TRAtomicState ................................................................................................................................................ Table 4.7TRAutoStart..................................................................................................................................4.4.2, 4.4.3, Table 4.7TRCmdParameter ..........................................................................................................................................4.4.2, 4.4.3TRCmdType ..................................................................................................................................................4.4.2, 4.4.3TRDirection ........................................................................................................................4.4.2, 4.4.3, 5.4.2, Table 4.7TRErrorCode .................................................................................................................................................4.4.2, 4.4.3TRErrorText............................................................................................................................................................ 4.4.2TRJobID........................................................................................................................................................... Table 4.6TRJobName ..................................................................................................................................4.4.2, 4.4.3, Table 4.6TRJobState....................................................................................................................................................... Table 4.6TRLink......................................................................................................................4.4.2, 4.4.3, 5.2.1, 5.4.2, Table 4.7TRLocation .........................................................................................................................4.4.2, 4.4.3, 5.4.2, Table 4.7TRObjID ..............................................................................................................................................4.4.2, 4.4.3, 5.4.2TRObjName..................................................................................................................................................... Table 4.7TRObjType .........................................................................................................................4.4.2, 4.4.3, 5.4.2, Table 4.7TRPartner............................................................................................................................4.4.2, 4.4.3, 5.4.2, Table 4.7

</PdfSplitView>
