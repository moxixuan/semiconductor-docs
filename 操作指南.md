# 🚀 完整操作指南 - 从零到上线

## 📥 步骤1：将项目下载到本地

### 方法A：通过文件传输（推荐）

```bash
# 1. 连接到服务器
ssh user@your-server

# 2. 压缩项目（如果需要）
cd /tmp
tar -czf semiconductor-docs.tar.gz semiconductor-docs/

# 3. 下载到本地
# 在您的本地电脑终端执行：
scp user@your-server:/tmp/semiconductor-docs.tar.gz ~/

# 4. 解压
tar -xzf ~/semiconductor-docs.tar.gz
cd ~/semiconductor-docs
```

### 方法B：通过Git克隆（如果已上传）

```bash
# 1. 将项目上传到GitHub
# - 在GitHub创建新仓库
# - 使用以下命令上传

cd /tmp/semiconductor-docs
git init
git add .
git commit -m "Initial commit: Semiconductor Knowledge Base"
git remote add origin https://github.com/your-username/semiconductor-docs.git
git push -u origin main

# 2. 在本地克隆
git clone https://github.com/your-username/semiconductor-docs.git
cd semiconductor-docs
```

### 方法C：直接使用本项目文件

项目位置：`/tmp/semiconductor-docs/`（服务器）
项目打包：`/tmp/semiconductor-docs.tar.gz`（29MB）

您需要：
1. 通过SFTP/FTP下载
2. 或使用文件传输工具
3. 或让我帮您通过其他方式提供

---

## 💻 步骤2：安装Node.js >= 20.0

### 检查当前版本

```bash
node --version
```

### 如果版本 >= 20.0.0
✅ 跳过此步骤，直接进入下一步

### 如果版本 < 20.0.0，按系统安装：

#### macOS

```bash
# 使用Homebrew安装
brew install node@20

# 或使用nvm（推荐）
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
source ~/.bashrc
nvm install 20
nvm use 20

# 验证
node --version  # 应该显示 v20.x.x
```

#### Windows

1. 访问 https://nodejs.org/
2. 下载 Node.js LTS 版本（20.x 或更高）
3. 运行安装程序
4. 打开新的终端窗口

#### Linux (Ubuntu/Debian)

```bash
# 使用NodeSource安装
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# 或使用nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
source ~/.bashrc
nvm install 20
nvm use 20
```

#### 验证安装

```bash
node --version
# 应该显示 v20.x.x 或更高
```

---

## 📦 步骤3：安装依赖

```bash
# 进入项目目录
cd ~/semiconductor-docs  # 或您的项目路径

# 安装所有依赖
npm install --legacy-peer-deps
```

**说明**：
- `--legacy-peer-deps`：解决peer依赖兼容性问题
- 预计时间：2-5分钟（取决于网络）

**成功标志**：
```
added 1143 packages, and audited 1144 packages
```

---

## 🚀 步骤4：运行项目查看效果

### 方法A：使用自动化脚本（最简单）

```bash
cd ~/semiconductor-docs

# 运行自动化脚本
./SETUP_GUIDE.sh
```

脚本会自动：
1. ✅ 检查Node版本
2. ✅ 安装依赖
3. ✅ 启动开发服务器

### 方法B：手动启动

```bash
# 启动开发服务器
npm start
```

**启动后**：
- 浏览器会自动打开 `http://localhost:3000`
- 如果没有自动打开，手动访问
- 首次编译需要 30-60 秒

**您将看到**：
- 🎯 专业的首页（渐变色横幅）
- 📚 导航栏（5个主要分类）
- 📝 侧边栏（文档列表）
- 📖 示例文档内容

### 测试功能

1. **导航测试**
   - 点击各个分类：芯片设计、工艺制造、EDA工具、协议标准
   - 查看侧边栏折叠/展开
   - 点击文档查看详情页

2. **搜索测试**
   - 使用顶部搜索框
   - 搜索 "7nm"、"AXI"、"Virtuoso" 等关键词
   - 查看搜索结果

3. **响应式测试**
   - 调整浏览器窗口大小
   - 查看移动端适配

4. **深色模式测试**
   - 如果系统是深色主题，查看网站自动适配

---

## ✍️ 步骤5：添加您自己的文档内容

### 文档模板

创建新文档时使用以下格式：

```markdown
---
title: "文档标题"
description: "简短描述，用于SEO和搜索"
sidebar_label: "侧边栏显示名称"
sidebar_position: 2
tags: [标签1, 标签2]
---

# 主标题

文档内容...

## 二级标题

- 列表项1
- 列表项2

### 代码示例

```verilog
module example (
    input clk,
    input rst_n,
    output [3:0] data
);
    // 代码逻辑
endmodule
```

:::tip 重要提示
这里是给用户的提示信息。
:::

:::warning 注意事项
这里是警告信息。
:::
```

### 添加示例：添加7nm工艺文档

```bash
# 1. 创建新文档
vim docs/process/nodes/7nm-design-rules.md

# 2. 添加内容（使用上面的模板）

# 3. 更新侧边栏
vim sidebars.js

# 在 processSidebar 中添加：
'process/nodes/7nm-design-rules',

# 4. 保存后浏览器会自动刷新
```

### 批量添加文档

```bash
# 添加多篇文章
mkdir -p docs/ic-design/digital/more-examples

# 可以复制粘贴多个文档
# Docusaurus会自动检测新文件
```

---

## 🌐 步骤6：推送到GitHub并部署到Vercel

### 6.1 初始化Git仓库

```bash
cd ~/semiconductor-docs

# 初始化Git
git init

# 配置用户信息（首次）
git config user.name "Your Name"
git config user.email "your.email@example.com"

# 添加所有文件
git add .

# 第一次提交
git commit -m "Initial commit: Semiconductor Knowledge Base MVP"

# 设置main分支
git branch -M main
```

### 6.2 推送到GitHub

#### 首先在GitHub创建仓库

1. 访问 https://github.com/new
2. 仓库名：`semiconductor-docs`
3. 可见性：Public（公开）或 Private（私有）
4. 不需要初始化README
5. 点击 "Create repository"

#### 然后推送

```bash
# 添加远程仓库
git remote add origin https://github.com/your-username/semiconductor-docs.git

# 推送到GitHub
git push -u origin main
```

### 6.3 部署到Vercel

#### 方法A：Vercel CLI（快速）

```bash
# 1. 安装Vercel CLI
npm install -g vercel

# 2. 登录
vercel login

# 3. 部署
vercel --prod
```

**说明**：
- 首次会询问：
  - Set up and deploy? → 选择 `Y`
  - Link to existing project? → 选择 `N`
  - Scope: → 选择个人账户
- 自动部署到 `https://semiconductor-docs.vercel.app`

#### 方法B：Vercel网页界面（推荐）

1. **登录Vercel**
   - 访问 https://vercel.com
   - 点击 "Sign Up" 或 "Login"
   - 使用GitHub账号登录（推荐）

2. **导入项目**
   - 点击 "New Project"
   - 选择 "Continue with GitHub"
   - 授权Vercel访问您的GitHub
   - 选择 `semiconductor-docs` 仓库
   - 点击 "Import"

3. **配置项目**
   - Framework Preset: 选择 `Other`
   - Root Directory: 留空（根目录）
   - Build Command: `npm run build`
   - Output Directory: `build`
   - Install Command: `npm install`
   - 其他默认即可

4. **开始部署**
   - 点击 "Deploy"
   - 等待1-2分钟

5. **完成！**
   - 您会看到部署成功消息
   - 访问提供的域名（如 `https://semiconductor-docs.vercel.app`）

### 6.4 配置自定义域名（可选）

```bash
# 在Vercel项目设置中：
# 1. Settings → Domains
# 2. 添加您的域名（如 docs.yourdomain.com）
# 3. 按提示配置DNS
```

---

## ✅ 验证部署

### 检查清单

- [ ] 访问 Vercel 提供的域名
- [ ] 首页正常显示
- [ ] 所有导航链接可点击
- [ ] 文档页面正常加载
- [ ] 搜索功能工作
- [ ] 移动端正常显示
- [ ] HTTPS证书正常（绿色锁图标）

### 测试工具

- **Google PageSpeed**: https://pagespeed.web.dev/
- **Lighthouse**: Chrome DevTools 的 Lighthouse 标签
- **SEO检查**: https://seositecheckup.com/

---

## 📊 项目文件说明

### 重要文件

| 文件 | 说明 |
|------|------|
| `docusaurus.config.js` | 主配置：站点信息、导航、主题 |
| `sidebars.js` | 侧边栏配置：文档分类和顺序 |
| `package.json` | 依赖配置：npm包和脚本 |
| `docs/intro.md` | 首页文档 |
| `src/pages/index.js` | React首页组件 |
| `src/css/custom.css` | 自定义样式 |

### 文档目录

```
docs/
├── ic-design/          # 芯片设计
│   ├── intro.md
│   ├── digital/        # 数字电路
│   ├── analog/         # 模拟电路
│   └── fpga-asic/      # FPGA/ASIC
├── process/            # 工艺制造
│   ├── nodes/          # 工艺节点
│   ├── packaging/      # 封装测试
│   └── reliability/    # 可靠性
├── eda-tools/          # EDA工具
│   ├── cadence/        # Cadence工具
│   ├── synopsys/       # Synopsys工具
│   └── opensource/     # 开源工具
└── standards/          # 协议标准
    ├── bus/            # 总线协议
    ├── memory/         # 存储协议
    └── interface/      # 接口标准
```

---

## 🆘 故障排查

### 问题：npm install 失败

```bash
# 清理缓存重试
npm cache clean --force
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
```

### 问题：npm start 编译错误

```bash
# 清理构建缓存
npm run clear

# 重新启动
npm start
```

### 问题：Vercel部署失败

```bash
# 1. 检查package.json中的脚本
cat package.json | grep -A 5 "scripts"

# 2. 确保有 "build" 脚本
"build": "docusaurus build",

# 3. 在Vercel重新部署
# 访问Vercel项目 → Deployments → Redeploy
```

### 问题：搜索不工作

```bash
# Docusaurus内置搜索默认工作
# 如果要高级搜索，需要额外配置

# 查看浏览器控制台
F12 → Console 查看错误信息
```

---

## 📞 获取帮助

### 文档资源
- [Docusaurus官方文档](https://docusaurus.io/docs)
- [Vercel文档](https://vercel.com/docs)
- [GitHub文档](https://docs.github.com/)

### 项目文档
- README.md - 项目概述
- QUICKSTART.md - 快速启动
- DEPLOYMENT.md - 部署详细指南
- 本文件 - 完整操作指南

---

## 🎉 总结

**6步完成清单**：

- [ ] 步骤1：下载项目到本地
- [ ] 步骤2：安装Node.js >= 20.0
- [ ] 步骤3：运行 `npm install --legacy-peer-deps`
- [ ] 步骤4：运行 `npm start` 查看效果
- [ ] 步骤5：添加自己的文档内容
- [ ] 步骤6：推送到GitHub并部署到Vercel

**预计时间**：从下载到上线约 30-60分钟

---

**祝您成功！** 🚀

有任何问题，随时询问！
